{"version":3,"sources":["img/sample-form-photo.jpg","img/seiu503_white.svg","img/deffo_mebrat_300.png","store/actions/index.js","store/actions/apiConfig.js","store/actions/apiProfileActions.js","store/actions/apiSubmissionActions.js","utils/index.js","containers/Notifier.jsx","containers/NavBar.jsx","components/Footer.jsx","components/FormThankYou.jsx","components/NotFound.jsx","containers/Logout.jsx","components/CustomSnackbarContent.jsx","components/AlertDialog.jsx","components/SubmissionFormElements.jsx","containers/SubmissionsTable.jsx","containers/Dashboard.jsx","store/actions/apiContentActions.js","components/SpinnerAdornment.jsx","components/ButtonWithSpinner.jsx","containers/TextInputForm.jsx","components/NavTabs.jsx","utils/validators.js","components/Tab1.jsx","components/Tab2.jsx","components/Tab3.jsx","components/CAPE.jsx","components/WelcomeInfo.jsx","components/SubmissionFormPage1Component.jsx","store/actions/apiSFActions.js","components/Modal.jsx","containers/SubmissionFormPage1.jsx","components/SubmissionFormPage2Component.jsx","containers/SubmissionFormPage2.jsx","components/ContentTile.jsx","components/Spinner.jsx","containers/ContentLibrary.jsx","containers/LinkRequest.jsx","translations/globalTranslations.js","App.js","store/reducers/appState.js","store/reducers/profile.js","store/reducers/content.js","store/reducers/submission.js","store/reducers/index.js","store/store.js","serviceWorker.js","styles/theme.js","components/ScrollToTop.jsx","index.js"],"names":["module","exports","LOGOUT","SET_LOGGEDIN","SET_SPINNER","SET_REDIRECT_URL","logout","type","setLoggedIn","setSpinner","setRedirectUrl","url","payload","prodUrl","BASE_URL","VALIDATE_TOKEN_REQUEST","VALIDATE_TOKEN_SUCCESS","VALIDATE_TOKEN_FAILURE","GET_PROFILE_REQUEST","GET_PROFILE_SUCCESS","GET_PROFILE_FAILURE","MODIFY_PROFILE_REQUEST","MODIFY_PROFILE_SUCCESS","MODIFY_PROFILE_FAILURE","validateToken","token","userId","RSAA","endpoint","method","types","action","state","res","json","then","data","message","headers","Authorization","getProfile","modifyProfile","body","JSON","stringify","ADD_SUBMISSION_REQUEST","ADD_SUBMISSION_SUCCESS","ADD_SUBMISSION_FAILURE","CREATE_CAPE_REQUEST","CREATE_CAPE_SUCCESS","CREATE_CAPE_FAILURE","SAVE_SALESFORCEID","UPDATE_SUBMISSION_REQUEST","UPDATE_SUBMISSION_SUCCESS","UPDATE_SUBMISSION_FAILURE","GET_ALL_SUBMISSIONS_REQUEST","GET_ALL_SUBMISSIONS_SUCCESS","GET_ALL_SUBMISSIONS_FAILURE","HANDLE_INPUT","VERIFY_REQUEST","VERIFY_SUCCESS","VERIFY_FAILURE","handleInput","target","name","value","addSubmission","updateSubmission","id","getAllSubmissions","saveSalesforceId","salesforceId","verify","ip_address","createCAPE","openSnackbarFn","options","year","month","day","formatDate","date","Date","toLocaleDateString","formatDateTime","toLocaleString","labelsObj","headline","bodyCopy","image","redirectUrl","isPaymentRequired","employerType","toLowerCase","defaultWelcomeInfo","scrollToFirstError","errors","firstError","Object","keys","find","error","document","getElementById","el","position","getBoundingClientRect","top","documentElement","scrollTop","window","scrollTo","behavior","console","log","NavBar","props","anchorEl","handleClick","bind","handleClose","e","this","setState","currentTarget","main_ref","current","classList","add","remove","targetId","skipTo","tabIndex","focus","addEventListener","removeAttribute","skip","values","queryString","parse","location","search","classes","loggedIn","appState","adminLinks","ListItemLink","primary","link","MenuItem","button","component","Button","href","onClick","history","push","className","menuItem","data-test","ListItemText","primaryTypographyProps","color","mobileLinks","map","index","key","adminMenuLinks","menuLink","root","AppBar","appBar","Toolbar","variant","skipToMain","to","logoLink","src","logo","alt","Typography","title","cape","Fragment","IconButton","menuButton","aria-label","aria-owns","aria-haspopup","open","Boolean","onClose","elevation","anchorOrigin","horizontal","vertical","transformOrigin","TransitionComponent","Slide","TransitionProps","direction","PaperProps","drawer","menuWrap","React","Component","withRouter","withStyles","theme","flexGrow","width","palette","main","flex","backgroundColor","display","breakpoints","down","right","secondary","textTransform","fontSize","light","fontFamily","textDecoration","paddingLeft","fontWeight","loginButton","avatar","marginRight","admin","left","height","textAlign","overflow","zIndex","padding","join","boxShadow","connect","profile","Footer","footer","FormThankYou","NotFound","container","Logout","actions","localStorage","clear","setTimeout","assign","dispatch","bindActionCreators","Actions","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","CustomSnackbarContentWrapper","green","dark","amber","icon","iconVariant","opacity","alignItems","background","other","Icon","SnackbarContent","classNames","aria-describedby","close","Notifier","openSnackbar","handleSnackbarClose","dangerouslySetInnerHTML","__html","Snackbar","autoHideDuration","testSetTimeout","testBranchOne","margin","danger","Dialog","aria-labelledby","style","DialogTitle","DialogContent","DialogContentText","content","DialogActions","autoFocus","buttonText","tableIcons","Export","forwardRef","ref","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","handleError","err","stateList","paymentTypes","employerTypeMap","PNP","Retirees","State","AFH","formatSFDate","d","getMonth","getDate","getFullYear","length","formatBirthdate","formValues","dobRaw","mm","dd","yyyy","findEmployerObject","employerObjects","employerName","filter","obj","Name","inputLabelTranslateHelper","label","translate","includes","renderTextField","input","meta","touched","twocol","short","mobile","custom","TextField","marginBottom","helperText","required","inputProps","selectStyle","align","renderSelect","labelWidth","formControlName","FormControl","formControl","InputLabel","htmlFor","Select","native","OutlinedInput","selectRight","select","onChange","item","shortid","translatedLabel","parseInt","str","newStr","replace","match","chr","toUpperCase","charAt","camelCaseConverter","optionsLabelTranslateHelper","renderCheckbox","validate","localize","FormControlLabel","control","Checkbox","checked","checkbox","FormHelperText","checkboxErrorText","renderRadioGroup","legendClass","additionalOnChange","FormLabel","radioLabel","RadioGroup","verticalGroup","horizGroup","event","Radio","toString","renderCAPERadioGroup","capeRadioLabel","labelText","suggestedAmountBox","labelPlacement","blankSig","submTableFieldList","field","hidden","render","rowData","submission_date","defaultSort","seiu503_cba_app_date","direct_pay_auth","direct_deposit_auth","hire_date","propTypes","PropTypes","shape","onBlur","func","onDragStart","onDrop","onFocus","string","bool","oneOfType","array","SubmissionsTableUnconnected","handleDeleteDialogOpen","submission","apiSubmission","handleDeleteOpen","authToken","result","catch","prevProps","prevState","snapshot","allSubmissions","submissionData","deleteSubmission","submissionDeleteResult","firstName","lastName","currentSubmission","handleDeleteClose","deleteDialogOpen","AlertDialog","deleteAndClose","section","gutterBottom","head","paddingTop","gridWrapper","columns","isLoading","loading","exportButton","filtering","sorting","columnsButton","rowStyle","submission_status","icons","SubmissionsTableConnected","apiSubmissionActions","maxWidth","paddingBottom","minHeight","flexDirection","flexWrap","justifyContent","DashboardUnconnected","params","setItem","replaceState","origin","_id","getItem","api","redirect","removeItem","SubmissionsTable","DashboardConnected","apiProfileActions","card","media","marginTop","HANDLE_DELETE_OPEN","HANDLE_DELETE_CLOSE","CLEAR_FORM","GET_CONTENT_BY_ID_REQUEST","GET_CONTENT_BY_ID_SUCCESS","GET_CONTENT_BY_ID_FAILURE","ADD_CONTENT_REQUEST","ADD_CONTENT_SUCCESS","ADD_CONTENT_FAILURE","GET_ALL_CONTENT_REQUEST","GET_ALL_CONTENT_SUCCESS","GET_ALL_CONTENT_FAILURE","DELETE_CONTENT_REQUEST","DELETE_CONTENT_SUCCESS","DELETE_CONTENT_FAILURE","DELETE_IMAGE_REQUEST","DELETE_IMAGE_SUCCESS","DELETE_IMAGE_FAILURE","UPDATE_CONTENT_REQUEST","UPDATE_CONTENT_SUCCESS","UPDATE_CONTENT_FAILURE","UPLOAD_IMAGE_REQUEST","UPLOAD_IMAGE_SUCCESS","UPLOAD_IMAGE_FAILURE","selectedContent","clearForm","getContentById","getAllContent","addContent","uploadImage","FormData","append","updateContent","deleteContent","deleteImage","spinnerStyle","marginLeft","SpinnerAdornment","CircularProgress","size","ButtonWithSpinner","children","rest","defaultProps","TextInputFormUnconnected","newState","apiContent","handleSave","files","handleUpload","handleOpen","onDropRejected","rejected","file","filename","split","edit","undefined","submit","preventDefault","form","content_type","utils","onError","group","multiline","rows","formButton","onSave","acceptedFiles","showPreviews","maxFileSize","filesLimit","TextInputFormConnected","apiContentActions","textarea","useStyles","makeStyles","borderRadius","NavTabs","howManyTabs","tabs","i","Tab","disabled","Paper","Tabs","tab","indicatorColor","textColor","requiredField","controllingField","controllingValues","forEach","matchValue","paymentMethod","paymentMethodAdded","medicaidResidents","homeEmail","test","workEmail","mobilePhone","workPhone","hireDate","homeZip","mailToZip","formElements","monthList","languageOptions","dateOptions","max","getMaxDay","hiremm","dates","unshift","yearOptions","years","Tab1Form","reduxForm","destroyOnUnmount","forceUnregisterOnUnmount","enableReinitialize","keepDirtyOnReinitialize","updateUnregisteredFields","onSubmitFail","onSubmit","employerTypesList","employerList","updateEmployersPicklist","verifyCallback","sectionContainer","handleSubmit","formSection","Field","InputProps","min","FormGroup","row","formGroup2Col","isWidthUp","input2col","formLabel","formGroup2ColShort","formHelperText","formGroup","sitekey","buttonWrap","next","Tab1Connected","initialValues","formPage1","getFormValues","submitErrors","getFormSubmitErrors","withWidth","Tab2Form","back","legal_language","direct_pay","direct_deposit","sigBox","clearSignature","signatureType","toggleSignatureInputType","hcw","afh","retiree","community","formHelperTextLegal","fieldLabel","penColor","canvasProps","clearButton","buttonLink","Tab3Form","iFrameURL","afhDuesRate","payment","toggleCardAddingFrame","duesCopy","toFixed","validMethod","activeMethodLast4","paymentErrorHold","paymentRequired","paymentCopy","horizRadio","paymentType","horizRadioBold","defaultItem","newCardNeeded","iframeWrap","iframe","buttonWrapTab3","Tab3Connected","CAPEForm","capeAmountOther","handleCAPESubmit","checkoff","suggestedAmountOnChange","standAlone","cape_legal","subhead","ul","li","Card","details","CardContent","cardHead","transform","pullQuote","bottom","quoteAttr","CardMedia","cover","headshot","suggestedAmounts","suggestedAmountBoxes","capeAmount","legalCopy","CAPEConnected","WelcomeInfoUnconnected","renderBodyCopy","paragraphIds","welcomeInfo","paragraphs","text","h","b","welcomeCard","SamplePhoto","handleTab","up","only","paddingRight","getKeyByValue","object","SubmissionFormPage1Component","receiveMessage","notification","loadEmployersPicklist","employerTypesListRaw","employer","Sub_Division__c","Set","code","employerTypeUserSelect","apiSF","getSFEmployers","employerNames","getAttribute","submissionId","updates","payment_type","payment_method_added","medicaid_residents","card_adding_url","cardAddingUrl","member_id","memberId","stripe_customer_id","stripeCustomerId","member_short_id","memberShortId","generateSubmissionBody","Worker__c","createSFOMA","saveSubmissionErrors","djrId","Payment_Method__c","AFH_Number_of_Residents__c","Unioni_se_MemberID__c","Active_Account_Last_4__c","employerId","djrEmployerId","createSFDJR","Id","updateSFDJR","verifyRecaptchaScore","score","Promise","all","createOrUpdateSFDJR","formContainer","WelcomeInfo","withLocalize","GET_SF_CONTACT_REQUEST","GET_SF_CONTACT_SUCCESS","GET_SF_CONTACT_FAILURE","getSFContactById","CREATE_SF_CONTACT_REQUEST","CREATE_SF_CONTACT_SUCCESS","CREATE_SF_CONTACT_FAILURE","createSFContact","UPDATE_SF_CONTACT_REQUEST","UPDATE_SF_CONTACT_SUCCESS","UPDATE_SF_CONTACT_FAILURE","updateSFContact","LOOKUP_SF_CONTACT_REQUEST","LOOKUP_SF_CONTACT_SUCCESS","LOOKUP_SF_CONTACT_FAILURE","lookupSFContact","CREATE_SF_OMA_REQUEST","CREATE_SF_OMA_SUCCESS","CREATE_SF_OMA_FAILURE","CREATE_SF_DJR_REQUEST","CREATE_SF_DJR_SUCCESS","CREATE_SF_DJR_FAILURE","UPDATE_SF_DJR_REQUEST","UPDATE_SF_DJR_SUCCESS","UPDATE_SF_DJR_FAILURE","GET_SF_DJR_REQUEST","GET_SF_DJR_SUCCESS","GET_SF_DJR_FAILURE","getSFDJRById","CREATE_SF_CAPE_REQUEST","CREATE_SF_CAPE_SUCCESS","CREATE_SF_CAPE_FAILURE","createSFCAPE","GET_SF_EMPLOYERS_REQUEST","GET_SF_EMPLOYERS_SUCCESS","GET_SF_EMPLOYERS_FAILURE","GET_UNIONISE_TOKEN_REQUEST","GET_UNIONISE_TOKEN_SUCCESS","GET_UNIONISE_TOKEN_FAILURE","getUnioniseToken","GET_IFRAME_URL_REQUEST","GET_IFRAME_URL_SUCCESS","GET_IFRAME_URL_FAILURE","getIframeURL","GET_IFRAME_EXISTING_REQUEST","GET_IFRAME_EXISTING_SUCCESS","GET_IFRAME_EXISTING_FAILURE","getIframeExisting","modalButtonRed","modalButtonGreen","dialogActionsOverride","fullName","SubmissionFormPage1Container","dataURItoBlob","dataURI","binary","atob","charCodeAt","Blob","Uint8Array","trimSignature","dataURL","toDataURL","Error","changeTab","newValue","legalLanguage","prepForContact","prepForSubmission","resolve","reject","submission_id","submission_errors","returnValues","birthdate","employerObject","agencyNumber","Agency_Number__c","directPayAuth","directDepositAuth","q","campaignSource","s","salesforce_id","firstValues","secondValues","termsAgree","signature","reCaptchaValue","preferredLanguage","homeStreet","homeState","homeCity","textAuthOptOut","immediatePastMemberStatus","localIpUrl","agency_number","cell_phone","employer_name","employer_id","first_name","last_name","home_street","home_city","home_state","home_zip","home_email","preferred_language","terms_agree","text_auth_opt_out","online_campaign_source","maintenance_of_effort","immediate_past_member_status","refreshRecaptcha","unioniseToken","language","isoConv","address","addressLine1","city","zip","email","cellPhone","birthDate","employerExternalId","employeeExternalId","agreesToMessages","access_token","getIframeNew","innerHTML","concat","sigUrl","lookupBody","donationAmount","parseFloat","contact_id","job_title","jobTitle","payment_method","cape_amount","donation_frequency","cape_errors","cape_status","reset","saveSignature","calculateAFHDuesRate","Payment_Error_Hold__c","saveLegalLanguage","createSubmission","handleTab1","handleTab2","SubmissionFormPage1Connected","pristine","isPristine","submitting","isSubmitting","valid","isValid","apiSFActions","submitForm","lineHeight","groupLeft","failedText","formControlLabel","formControlDate","minWidth","input2Col","controlCheckbox","border","font","cursor","fontStyle","textIndent","boxLabel","transition","boxInput","float","outline","borderColor","borderWidth","boxCurrency","verticalAlign","whiteSpace","boxItem","boxAmount","genderOptions","genderPronounOptions","SubmissionFormPage2Component","calcEthnicity","africanOrAfricanAmerican","arabAmericanMiddleEasternOrNorthAfrican","asianOrAsianAmerican","hispanicOrLatinx","nativeAmericanOrIndigenous","nativeHawaiianOrOtherPacificIslander","white","declined","combinedEthnicities","ethnicities","entries","removeFalsy","newObj","prop","a","mailToCity","mailToState","mailToStreet","lgbtqId","transId","disabilityId","deafOrHardOfHearing","blindOrVisuallyImpaired","gender","genderOtherDescription","genderPronoun","worksite","ethnicity","mail_to_city","mail_to_state","mail_to_street","mail_to_postal_code","lgbtq_id","trans_id","disability_id","deaf_or_hard_of_hearing","blind_or_visually_impaired","gender_other_description","gender_pronoun","work_email","work_phone","cleanBody","successWrap","checkIcon","page2IntroText","Divider","SubmissionFormPage2Wrap","SubmissionFormPage2Container","SubmissionFormPage2Connected","formPage2","deleteButton","visibility","contentBold","contentLight","contentRegular","spinner","tag","tagText","tags","cardImage","backgroundPosition","backgroundRepeat","backgroundSize","contentTile","imageStyle","backgroundImage","cardContent","wrap","spin","Spinner","ContentLibraryUnconnected","tile","allContent","contentData","contentDeleteResult","keyParts","contentType","currentContent","actionArea","buttonDelete","buttonEdit","ContentLibraryConnected","LinkRequestUnconnected","LinkRequestConnected","globalTranslations","AppUnconnected","recaptcha_ref","createRef","initialize","languages","renderToStaticMarkup","renderInnerHtml","defaultLanguage","animation","more","addTranslation","apiProfile","acceptableLangs","navigator","userLang","langArr","j","detectDefaultLanguage","setActiveLanguage","loadReCaptcha","recaptchaToken","execute","appRoot","CssBaseline","exact","path","routeProps","SubmissionFormPage1","setRedirect","Dashboard","ContentLibrary","TextInputForm","SubmissionFormPage2","LinkRequest","AppConnected","boxSizing","notFound","backgroundAttachment","footerIcon","INITIAL_STATE","update","$set","avatar_url","filteredList","created_at","updated_at","dialogOpen","Content","whichCard","unioniseRefreshToken","currentCAPE","allCAPE","Submission","sf_djr_id","subDivision","Account","WS_Subdivision_from_Agency__c","RecordTypeId","CVRSOS__ParentName__c","Ethnicity__c","ethnicitiesObj","moment","Birthdate","format","MobilePhone","FirstName","LastName","MailingStreet","MailingCity","MailingState","MailingPostalCode","Home_Email__c","Preferred_Language__c","Binary_Membership__c","OtherCity","OtherState","OtherStreet","OtherPostalCode","LGBTQ_ID__c","Trans_ID__c","Disability_ID__c","Deaf_or_hearing_impaired__c","Blind_or_visually_impaired__c","Gender__c","Gender_Other_Description__c","Prounoun__c","Title","Worksite_manual_entry_from_webform__c","Work_Email__c","Work_Phone__c","Hire_Date__c","Employer__c","cape_id","refresh_token","rootReducer","combineReducers","localizeReducer","formReducer","middleware","applyMiddleware","apiMiddleware","middlewares","store","createStore","compose","__REDUX_DEVTOOLS_EXTENSION__","f","hostname","red","secondaryTextColor","bodyBackground","xs","sm","md","lg","xl","typography","useNextVariants","overrides","MuiMenu","paper","maxHeight","MuiButton","MuiFormLabel","MuiTypography","createMuiTheme","UnwrappedScrollToTop","hash","ScrollToTop","App","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.409e4420.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sample-form-photo.7696ac29.jpg\";","module.exports = __webpack_public_path__ + \"static/media/seiu503_white.76473b62.svg\";","module.exports = __webpack_public_path__ + \"static/media/deffo_mebrat_300.8d0b225a.png\";","export const LOGOUT = \"LOGOUT\";\nexport const SET_LOGGEDIN = \"SET_LOGGEDIN\";\nexport const SET_SPINNER = \"SET_SPINNER\";\nexport const SET_REDIRECT_URL = \"SET_REDIRECT_URL\";\n\nexport function logout() {\n  return {\n    type: LOGOUT\n  };\n}\n\nexport function setLoggedIn() {\n  return {\n    type: SET_LOGGEDIN\n  };\n}\n\nexport function setSpinner() {\n  return {\n    type: SET_SPINNER\n  };\n}\n\nexport function setRedirectUrl(url) {\n  return {\n    type: SET_REDIRECT_URL,\n    payload: url\n  };\n}\n","/*\n    Defines the base API connection URL\n*/\n\n/* ================================= SETUP ================================= */\n\nconst prodUrl = \"http://test.seiu503signup.org\"; // NO TRAILING SLASH\nconst devUrl = \"http://localhost:8080\"; // server url for local install\nconst clientUrl = \"http://localhost:3000\"; // client url for local install\n\n/* ================================ EXPORTS ================================ */\n\n// NODE_ENV is set by heroku when deployed\n\nexport const BASE_URL =\n  process.env.NODE_ENV === \"production\" ? prodUrl : devUrl;\n\nexport const CLIENT_URL =\n  process.env.NODE_ENV === \"production\" ? prodUrl : clientUrl;\n\nexport default BASE_URL;\n","import { RSAA } from \"redux-api-middleware\";\nimport { BASE_URL } from \"./apiConfig.js\";\n\nexport const VALIDATE_TOKEN_REQUEST = \"VALIDATE_TOKEN_REQUEST\";\nexport const VALIDATE_TOKEN_SUCCESS = \"VALIDATE_TOKEN_SUCCESS\";\nexport const VALIDATE_TOKEN_FAILURE = \"VALIDATE_TOKEN_FAILURE\";\nexport const GET_PROFILE_REQUEST = \"GET_PROFILE_REQUEST\";\nexport const GET_PROFILE_SUCCESS = \"GET_PROFILE_SUCCESS\";\nexport const GET_PROFILE_FAILURE = \"GET_PROFILE_FAILURE\";\nexport const MODIFY_PROFILE_REQUEST = \"MODIFY_PROFILE_REQUEST\";\nexport const MODIFY_PROFILE_SUCCESS = \"MODIFY_PROFILE_SUCCESS\";\nexport const MODIFY_PROFILE_FAILURE = \"MODIFY_PROFILE_FAILURE\";\n\n/*\n * Function: validateToken - validates a token pulled from user's localStorage\n *  by attempting to get the profile for the user ID stored locally.\n * @param {string} token: the token from localStorage\n * @param {string} userId: the userId from localStorage\n * This action dispatches additional actions as it executes:\n *   VALIDATE_TOKEN_REQUEST:\n *     Initiates a spinner on the home page.\n *   VALIDATE_TOKEN_SUCCESS:\n *     Dispatched if the token was valid and the user object is returned.\n *     This logs the user in, stores the token and sets the current\n *     user profile.\n *   VALIDATE_TOKEN_FAILURE: Dispatched if the token was invalid.\n *     Logs the user out and deletes the values saved in localStorage.\n */\nexport function validateToken(token, userId) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/user/${userId}`,\n      method: \"GET\",\n      types: [\n        VALIDATE_TOKEN_REQUEST,\n        {\n          type: VALIDATE_TOKEN_SUCCESS,\n          payload: { token }\n        },\n        {\n          type: VALIDATE_TOKEN_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: { Authorization: `Bearer ${token}` }\n    }\n  };\n}\n\nexport function getProfile(token, userId) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/user/${userId}`,\n      method: \"GET\",\n      types: [\n        GET_PROFILE_REQUEST,\n        GET_PROFILE_SUCCESS,\n        {\n          type: GET_PROFILE_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: { Authorization: `Bearer ${token}` }\n    }\n  };\n}\n\nexport function modifyProfile(token, userId, body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/user/${userId}`,\n      method: \"PUT\",\n      types: [\n        MODIFY_PROFILE_REQUEST,\n        MODIFY_PROFILE_SUCCESS,\n        {\n          type: MODIFY_PROFILE_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n","import { RSAA } from \"redux-api-middleware\";\nimport BASE_URL from \"./apiConfig.js\";\n\nexport const ADD_SUBMISSION_REQUEST = \"ADD_SUBMISSION_REQUEST\";\nexport const ADD_SUBMISSION_SUCCESS = \"ADD_SUBMISSION_SUCCESS\";\nexport const ADD_SUBMISSION_FAILURE = \"ADD_SUBMISSION_FAILURE\";\nexport const CREATE_CAPE_REQUEST = \"CREATE_CAPE_REQUEST\";\nexport const CREATE_CAPE_SUCCESS = \"CREATE_CAPE_SUCCESS\";\nexport const CREATE_CAPE_FAILURE = \"CREATE_CAPE_FAILURE\";\nexport const SAVE_SALESFORCEID = \"SAVE_SALESFORCEID\";\nexport const UPDATE_SUBMISSION_REQUEST = \"UPDATE_SUBMISSION_REQUEST\";\nexport const UPDATE_SUBMISSION_SUCCESS = \"UPDATE_SUBMISSION_SUCCESS\";\nexport const UPDATE_SUBMISSION_FAILURE = \"UPDATE_SUBMISSION_FAILURE\";\nexport const GET_ALL_SUBMISSIONS_REQUEST = \"GET_ALL_SUBMISSIONS_REQUEST\";\nexport const GET_ALL_SUBMISSIONS_SUCCESS = \"GET_ALL_SUBMISSIONS_SUCCESS\";\nexport const GET_ALL_SUBMISSIONS_FAILURE = \"GET_ALL_SUBMISSIONS_FAILURE\";\nexport const HANDLE_INPUT = \"HANDLE_INPUT\";\nexport const VERIFY_REQUEST = \"VERIFY_REQUEST\";\nexport const VERIFY_SUCCESS = \"VERIFY_SUCCESS\";\nexport const VERIFY_FAILURE = \"VERIFY_FAILURE\";\n\nexport function handleInput({ target: { name, value } }) {\n  return {\n    type: HANDLE_INPUT,\n    payload: { name, value }\n  };\n}\n\nexport function addSubmission(body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/submission`,\n      method: \"POST\",\n      types: [\n        ADD_SUBMISSION_REQUEST,\n        ADD_SUBMISSION_SUCCESS,\n        {\n          type: ADD_SUBMISSION_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\nexport function updateSubmission(id, body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/submission/${id}`,\n      method: \"PUT\",\n      types: [\n        UPDATE_SUBMISSION_REQUEST,\n        UPDATE_SUBMISSION_SUCCESS,\n        {\n          type: UPDATE_SUBMISSION_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\nexport function getAllSubmissions(token) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/submission`,\n      method: \"GET\",\n      types: [\n        GET_ALL_SUBMISSIONS_REQUEST,\n        GET_ALL_SUBMISSIONS_SUCCESS,\n        {\n          type: GET_ALL_SUBMISSIONS_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  };\n}\n\nexport function saveSalesforceId(id) {\n  return {\n    type: SAVE_SALESFORCEID,\n    payload: { salesforceId: id }\n  };\n}\n\nexport function verify(token, ip_address) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/verify`,\n      method: \"POST\",\n      types: [\n        VERIFY_REQUEST,\n        VERIFY_SUCCESS,\n        {\n          type: VERIFY_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ token, ip_address })\n    }\n  };\n}\n\nexport function createCAPE(body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/cape`,\n      method: \"POST\",\n      types: [\n        CREATE_CAPE_REQUEST,\n        CREATE_CAPE_SUCCESS,\n        {\n          type: CREATE_CAPE_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n","const options = { year: \"numeric\", month: \"short\", day: \"numeric\" };\n\nexport const formatDate = date =>\n  new Date(date).toLocaleDateString(\"en-US\", options);\n\nexport const formatDateTime = date => new Date(date).toLocaleString();\n\n// force focus on #main when using skip navigation link\n// (some browsers will only focus form inputs, links, and buttons)\nexport const skip = targetId => {\n  const removeTabIndex = e => {\n    e.target.removeAttribute(\"tabindex\");\n  };\n  const skipTo = document.getElementById(targetId);\n  // Setting 'tabindex' to -1 takes an element out of normal\n  // tab flow but allows it to be focused via javascript\n  skipTo.tabIndex = -1;\n  skipTo.focus(); // focus on the content container\n  // console.log(document.activeElement);\n  // when focus leaves this element,\n  // remove the tabindex attribute\n  skipTo.addEventListener(\"blur\", removeTabIndex);\n};\n\nexport const labelsObj = {\n  headline: \"headline\",\n  bodyCopy: \"body copy\",\n  image: \"image\",\n  redirectUrl: \"redirect URL\"\n};\n\nexport const randomInt = () => {\n  const min = 100;\n  const max = 999;\n  return Math.floor(Math.random() * (+max - +min)) + +min;\n};\n\nexport const isPaymentRequired = employerType => {\n  if (\n    employerType &&\n    (employerType.toLowerCase() === \"community member\" ||\n      employerType.toLowerCase() === \"retired\" ||\n      employerType.toLowerCase() === \"adult foster home\")\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const defaultWelcomeInfo = {\n  body: `<p>Demonstrate your commitment to your co-workers and the people you serve in a few simple steps. To get started, click “Next.”</p>\n<p>Being a part of SEIU 503 means you are fighting for a better life for the people you serve and for yourself. SEIU 503 members have won incredible victories – including increasing our pay and benefits and improving our workplace conditions. </p>\n<p>We have strength in numbers. Click \"Next\" to join tens of thousands of public service workers and care providers who make Oregon a great place to work and live. By joining, you commit to maintaining your membership for one year, or paying a non-member fee equivalent. Dues are 1.7% of your salary + $2.75/month.</p>`,\n  headline: `SEIU 503: It’s about more than a better job – it’s about a better world.`\n};\n\n// detects browser settings defaultLanguage. If that language is one of the languages\n// we provide translations for (or a specific dialect like \"es-ar\" instead of just \"es\")\n// it sets the active language of the localization package to that language. Defaults to English.\nexport const detectDefaultLanguage = () => {\n  let defaultLanguage = \"en\";\n  const acceptableLangs = [\"en\", \"es\", \"ru\", \"vi\", \"zh\"];\n  if (window.navigator.language) {\n    const userLang = window.navigator.language.toLowerCase();\n    for (let i = 0; i < acceptableLangs.length; i++) {\n      if (userLang.includes(acceptableLangs[i], 0)) {\n        defaultLanguage = acceptableLangs[i];\n        return defaultLanguage;\n      }\n    }\n  } else if (window.navigator.languages) {\n    const langArr = window.navigator.languages;\n    for (let i = 0; i < acceptableLangs.length; i++) {\n      for (let j = 0; j < langArr.length; j++) {\n        if (langArr[j].toLowerCase().includes(acceptableLangs[i], 0)) {\n          defaultLanguage = acceptableLangs[i];\n          return defaultLanguage;\n        }\n      }\n    }\n  }\n  return defaultLanguage;\n};\n\nexport const scrollToFirstError = errors => {\n  // search through errors object to find only those currently mounted in DOM\n  // (some errors will be on future tabs and can't be scrolled to yet)\n  if (errors) {\n    const errorsArray = Object.keys(errors);\n    const firstError = errorsArray.find(\n      error => !!document.getElementById(error)\n    );\n    // console.log(errorsArray);\n    // console.log(firstError);\n    const el = document.getElementById(firstError);\n    if (el) {\n      const position =\n        el.getBoundingClientRect().top + document.documentElement.scrollTop;\n      const offset = 200;\n      window.scrollTo({ top: position - offset, behavior: \"smooth\" });\n    } else {\n      console.log(`can't find element for ${firstError}`);\n    }\n  }\n};\n\nexport const onSubmitFailFn = errors => scrollToFirstError(errors);\n\n// converts any string into camelCase/pascalCase used for formatting IDs of\n// employerType and employerName picklist options to match IDs in translation files\nexport const camelCaseConverter = str => {\n  let newStr = str.toLowerCase().replace(/\\W+(.)/g, function(match, chr) {\n    return chr.toUpperCase();\n  });\n  newStr.charAt(0).toLowerCase();\n  return newStr;\n};\n\nexport const ordinalSuffix = n =>\n  [\"st\", \"nd\", \"rd\"][((((n + 90) % 100) - 10) % 10) - 1] || \"th\";\n","import React from \"react\";\n\nimport CustomSnackbarContentWrapper from \"../components/CustomSnackbarContent\";\n\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nlet openSnackbarFn;\n\nclass Notifier extends React.Component {\n  state = {\n    open: false,\n    message: \"\",\n    variant: \"info\",\n    action: null\n  };\n\n  componentDidMount() {\n    openSnackbarFn = this.openSnackbar;\n  }\n\n  openSnackbar = (variant, message, action) => {\n    this.setState({\n      open: true,\n      variant,\n      message,\n      action\n    });\n  };\n\n  handleSnackbarClose = () => {\n    this.setState({\n      open: false,\n      message: \"\",\n      variant: \"info\",\n      action: null\n    });\n  };\n\n  render() {\n    const message = (\n      <span\n        id=\"snackbar-message-id\"\n        dangerouslySetInnerHTML={{ __html: this.state.message }}\n        data-test=\"message-span\"\n      />\n    );\n\n    return (\n      <Snackbar\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\"\n        }}\n        open={this.state.open}\n        autoHideDuration={6000}\n        onClose={this.handleSnackbarClose}\n        data-test=\"component-notifier\"\n      >\n        <CustomSnackbarContentWrapper\n          variant={this.state.variant}\n          message={message}\n          open={this.state.open}\n          action={this.state.action}\n          onClose={this.handleSnackbarClose}\n          data-test=\"custom-snackbar-content-wrapper\"\n        />\n      </Snackbar>\n    );\n  }\n}\n\n// this function should really just be one line\n// it should call openSnackbarFn with the first 2 arguments\n// (variant, message)\n// however! some kind of race condition is happening between importing the\n// openSnackbar function into the target component and mounting the Notifier\n// so it's throwing an error if the function is not defined when the\n// Notifier mounts\n// setting a timeout of 50ms is an extremely dirty workaround but it works...\nexport const openSnackbar = (\n  variant,\n  message,\n  testSetTimeout,\n  testBranchOne\n) => {\n  // aaaaaand because it's dirty it is impossible to test lol\n  // so here let's add yet another unnecessary logical branch just for testing!\n  if (\n    (typeof openSnackbarFn === \"function\" &&\n      process.env.NODE_ENV !== \"testing\") ||\n    testBranchOne\n  ) {\n    return openSnackbarFn(variant, message);\n  } else if (\n    typeof openSnackbarFn === \"function\" &&\n    process.env.NODE_ENV === \"testing\" &&\n    !testSetTimeout\n  ) {\n    // so! dirty!! somebody fix this mess!\n    return openSnackbarFn(variant, message);\n  } else {\n    // console.log(\"openSnackbarFn is undefined\");\n    setTimeout(() => openSnackbarFn(variant, message), 100);\n  }\n};\n\nexport default Notifier;\n","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport queryString from \"query-string\";\nimport { Translate } from \"react-localize-redux\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Slide from \"@material-ui/core/Slide\";\n\nimport { skip } from \"../utils\";\nimport logo from \"../img/seiu503_white.svg\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    width: \"100vw\",\n    color: theme.palette.primary.main\n  },\n  flex: {\n    flexGrow: 1\n  },\n  appBar: {\n    backgroundColor: theme.palette.primary.main,\n    position: \"fixed\"\n  },\n  menuButton: {\n    display: \"none\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"block\",\n      position: \"absolute\",\n      right: 20\n    }\n  },\n  menuWrap: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  menuLink: {\n    color: theme.palette.secondary.main,\n    textTransform: \"capitalize\",\n    fontSize: \"1em\"\n  },\n  title: {\n    flexGrow: 1,\n    color: theme.palette.secondary.light,\n    fontFamily: '\"Source Sans Pro\", sans-serif',\n    fontSize: \"1.7em\",\n    textDecoration: \"none\",\n    paddingLeft: 10,\n    fontWeight: 200,\n    [theme.breakpoints.down(\"md\")]: {\n      fontSize: \"1.1rem\",\n      fontWeight: 400\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      display: \"none\"\n    }\n  },\n  loginButton: {\n    textDecoration: \"none\"\n  },\n  avatar: {\n    marginRight: 20,\n    [theme.breakpoints.down(\"xs\")]: {\n      display: \"none\"\n    }\n  },\n  admin: {\n    display: \"flex\"\n  },\n  skip: {\n    position: \"absolute\",\n    top: \"-1000px\",\n    left: \"-1000px\",\n    height: \"1px\",\n    width: \"1px\",\n    textAlign: \"left\",\n    overflow: \"hidden\",\n\n    \"&:focus\": {\n      position: \"relative\",\n      top: 0,\n      left: \"-13px\",\n      width: \"auto\",\n      height: \"auto\",\n      overflow: \"visible\",\n      textAlign: \"center\",\n      zIndex: \"1000\"\n    }\n  },\n  menuItem: {\n    padding: \"24px 16px\",\n    textAlign: \"center\",\n    textTransform: \"capitalize\",\n    fontFamily: [\n      '\"Source Sans Pro\"',\n      '\"Helvetica Neue\"',\n      \"Helvetica\",\n      \"Arial\",\n      \"sans-serif\"\n    ].join(\",\"),\n    fontWeight: 400,\n    color: theme.palette.secondary.main\n  },\n  ListItemText: {\n    color: theme.palette.secondary.main\n  },\n  logo: {\n    height: 60,\n    width: \"auto\",\n    marginRight: 10,\n    [theme.breakpoints.down(\"sm\")]: {\n      height: 40\n    }\n  },\n  drawer: {\n    boxShadow:\n      \"inset 0px 2px 4px -1px rgba(0,0,0,.2), inset 0px -2px 4px -1px rgba(0,0,0,.2), inset 0px 4px 5px 0px rgba(0, 0, 0, 0.14), inset 0px -4px 5px 0px rgba(0, 0, 0, 0.14), inset 0px 1px 10px 0px rgba(0, 0, 0, 0.12), inset 0px -1px 10px 0px rgba(0, 0, 0, 0.12), -4px 0px 10px -2px rgba(0,0,0,.2)\"\n  }\n});\n\nexport class NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      anchorEl: null\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  handleClick(e) {\n    this.setState({ anchorEl: e.currentTarget });\n    this.props.main_ref.current.classList.add(\"is-blurred\");\n  }\n\n  handleClose() {\n    this.setState({ anchorEl: null });\n    this.props.main_ref.current.classList.remove(\"is-blurred\");\n  }\n\n  skipToMain() {\n    return skip(\"main\");\n  }\n\n  render() {\n    const values = queryString.parse(this.props.location.search);\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n    const { loggedIn } = this.props.appState;\n    const adminLinks = [\"new\", \"library\", \"logout\"];\n    const ListItemLink = props => {\n      const { primary, handleClose, link } = props;\n      return (\n        <MenuItem\n          button\n          component={Button}\n          href={`/${link}`}\n          onClick={() => {\n            this.props.history.push(`/${link}`);\n            handleClose();\n          }}\n          className={classes.menuItem}\n          data-test=\"menu-item-mobile\"\n        >\n          <ListItemText\n            primary={primary}\n            primaryTypographyProps={{\n              color: \"secondary\"\n            }}\n          />\n        </MenuItem>\n      );\n    };\n    const mobileLinks = (\n      <div data-test=\"mobile-links\">\n        {adminLinks.map((link, index) => {\n          return (\n            <ListItemLink\n              key={index}\n              primary={link}\n              handleClose={this.handleClose}\n              link={link}\n              data-test=\"mobile-link\"\n            />\n          );\n        })}\n      </div>\n    );\n    const adminMenuLinks = (\n      <div data-test=\"admin-menu-links\">\n        {adminLinks.map((link, index) => {\n          return (\n            <Button key={index} className={classes.menuLink} href={`/${link}`}>\n              {link}\n            </Button>\n          );\n        })}\n      </div>\n    );\n    return (\n      <div className={classes.root} data-test=\"component-navbar\">\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.skip}\n              onClick={this.skipToMain}\n              data-test=\"skiplink-button\"\n            >\n              <Translate id=\"skipLink\" data-test=\"skiplink\">\n                Skip to content &rsaquo;\n              </Translate>\n            </Button>\n            <Link to=\"/\" className={classes.logoLink} data-test=\"logo-link\">\n              <img\n                src={logo}\n                alt=\"SEIU 503\"\n                className={classes.logo}\n                data-test=\"logo-image\"\n              />\n            </Link>\n            <Typography\n              variant=\"h6\"\n              color=\"inherit\"\n              className={classes.title}\n              data-test=\"title\"\n            >\n              <Link to=\"/\" className={classes.title}>\n                <Translate id={values.cape ? \"capeBanner\" : \"siteBanner\"}>\n                  {values.cape ? \"SEIU 503 CAPE\" : \"Membership Application\"}\n                </Translate>\n              </Link>\n            </Typography>\n            {loggedIn && (\n              <React.Fragment>\n                <IconButton\n                  className={classes.menuButton}\n                  color=\"secondary\"\n                  aria-label=\"Menu\"\n                  aria-owns={anchorEl ? \"nav-menu\" : null}\n                  aria-haspopup=\"true\"\n                  onClick={e => this.handleClick(e)}\n                  data-test=\"menu-button\"\n                >\n                  <MenuIcon />\n                </IconButton>\n                <Menu\n                  id=\"nav-menu\"\n                  anchorEl={anchorEl}\n                  open={Boolean(anchorEl)}\n                  onClose={this.handleClose}\n                  component=\"nav\"\n                  className=\"drawer\"\n                  elevation={0}\n                  anchorOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n                  transformOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n                  TransitionComponent={Slide}\n                  TransitionProps={{ direction: \"left\" }}\n                  PaperProps={{ className: classes.drawer }}\n                  data-test=\"menu\"\n                >\n                  {mobileLinks}\n                </Menu>\n                <nav className={classes.menuWrap}>{adminMenuLinks}</nav>\n              </React.Fragment>\n            )}\n          </Toolbar>\n        </AppBar>\n      </div>\n    );\n  }\n}\n\nNavBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  appState: PropTypes.shape({\n    loggedIn: PropTypes.bool\n  }),\n  profile: PropTypes.shape({\n    profile: PropTypes.shape({\n      name: PropTypes.string,\n      avatar_url: PropTypes.string\n    })\n  }),\n  location: PropTypes.shape({\n    pathname: PropTypes.string\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func\n  })\n};\n\nconst mapStateToProps = state => ({\n  appState: state.appState,\n  profile: state.profile\n});\n\nexport default withRouter(withStyles(styles)(connect(mapStateToProps)(NavBar)));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Footer = props => (\n  <div className={props.classes.footer} data-test=\"component-footer\">\n    SEIU Local 503\n  </div>\n);\n\nFooter.propTypes = {\n  classes: PropTypes.object\n};\n\nexport default Footer;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Translate } from \"react-localize-redux\";\n\nconst FormThankYou = props => (\n  <div className={props.classes.message} data-test=\"component-thankyou\">\n    <p>\n      Your information has been submitted.\n      <br />\n      <Translate id=\"thankYou\" />\n    </p>\n    <a href=\"https://www.seiu503.org\">Click Here to visit SEIU503.org</a>\n  </div>\n);\n\nFormThankYou.propTypes = {\n  classes: PropTypes.object\n};\n\nexport default FormThankYou;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst NotFound = props => {\n  return (\n    <div className={props.classes.container} data-test=\"component-not-found\">\n      404 error. Sorry, page not found.\n    </div>\n  );\n};\n\nNotFound.propTypes = {\n  classes: PropTypes.object\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport PropTypes from \"prop-types\";\nimport * as Actions from \"../store/actions\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nexport class Logout extends React.Component {\n  componentDidMount() {\n    this.props.actions.logout();\n    window.localStorage.clear();\n    setTimeout(() => {\n      window.location.assign(\"/\");\n    }, 1000);\n  }\n\n  render() {\n    return (\n      <div\n        className={this.props.classes.container}\n        data-test=\"component-logout\"\n      >\n        <Typography\n          variant=\"h5\"\n          className={this.props.classes.message}\n          data-test=\"message\"\n        >\n          Goodbye!\n        </Typography>\n      </div>\n    );\n  }\n}\n\nLogout.propTypes = {\n  actions: PropTypes.shape({\n    logout: PropTypes.func\n  }).isRequired,\n  classes: PropTypes.object\n};\n\nexport const mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(Actions, dispatch)\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Logout);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport green from \"@material-ui/core/colors/green\";\nimport amber from \"@material-ui/core/colors/amber\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n};\n\nconst styles1 = theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.dark\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: 15\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  button: {\n    background: \"transparent\"\n  }\n});\n\nexport const CustomSnackbarContent = props => {\n  const {\n    classes,\n    className,\n    message,\n    onClose,\n    variant,\n    // action,\n    ...other\n  } = props;\n  const Icon = variantIcon[variant];\n  // let actionButton = null;\n  // if (action) {\n  //   actionButton = action(props);\n  // }\n  return (\n    <SnackbarContent\n      className={classNames(classes[variant], className)}\n      data-test=\"component-custom-snackbar\"\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span\n          id=\"client-snackbar\"\n          className={classes.message}\n          data-test=\"message\"\n        >\n          <Icon\n            className={classNames(classes.icon, classes.iconVariant)}\n            data-test=\"message-icon\"\n          />\n          {message}\n        </span>\n      }\n      action={[\n        // actionButton,\n        <IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.close}\n          onClick={onClose}\n          data-test=\"icon-button\"\n        >\n          <CloseIcon className={classes.icon} data-test=\"close-icon\" />\n        </IconButton>\n      ]}\n      {...other}\n    />\n  );\n};\n\nCustomSnackbarContent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  message: PropTypes.node,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf([\"success\", \"warning\", \"error\", \"info\"]).isRequired\n};\nconst CustomSnackbarContentWrapper = withStyles(styles1)(CustomSnackbarContent);\nexport default CustomSnackbarContentWrapper;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nexport const styles = theme => ({\n  root: {\n    margin: 0,\n    padding: 20\n  },\n  danger: {\n    backgroundColor: theme.palette.danger.main,\n    color: \"white\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.danger.light\n    }\n  },\n  primary: {\n    backgroundColor: theme.palette.primary.main\n  }\n});\n\nexport const AlertDialogUnwrapped = props => (\n  <div data-test=\"component-alert-dialog\">\n    <Dialog\n      data-test=\"dialog\"\n      open={props.open}\n      onClose={props.handleClose}\n      aria-labelledby={\n        props.title ? \"alert-dialog-title\" : \"alert-dialog-description\"\n      }\n      aria-describedby=\"alert-dialog-description\"\n      PaperProps={{ style: { margin: 0 } }}\n    >\n      {props.title && (\n        <DialogTitle id=\"alert-dialog-title\" data-test=\"dialog-title\">\n          {props.title}\n        </DialogTitle>\n      )}\n      <DialogContent>\n        <DialogContentText\n          id=\"alert-dialog-description\"\n          data-test=\"dialog-content\"\n        >\n          {props.content}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={props.handleClose}\n          variant=\"outlined\"\n          color=\"default\"\n          data-test=\"button-cancel\"\n        >\n          Cancel\n        </Button>\n        <Button\n          onClick={props.action}\n          className={\n            props.danger ? props.classes.danger : props.classes.primary\n          }\n          variant=\"contained\"\n          autoFocus\n          data-test=\"button-action\"\n        >\n          {props.buttonText}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  </div>\n);\n\nAlertDialogUnwrapped.propTypes = {\n  open: PropTypes.bool,\n  title: PropTypes.string,\n  content: PropTypes.string,\n  buttonText: PropTypes.string,\n  handleClose: PropTypes.func,\n  action: PropTypes.func,\n  classes: PropTypes.object\n};\n\nexport default withStyles(styles)(AlertDialogUnwrapped);\n","import React from \"react\";\nimport shortid from \"shortid\";\nimport PropTypes from \"prop-types\";\nimport { openSnackbar } from \"../containers/Notifier\";\nimport { Translate } from \"react-localize-redux\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\n\nimport { camelCaseConverter, formatDate, formatDateTime } from \"../utils\";\n\nimport { forwardRef } from \"react\";\n// import AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\n// import Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\n// import DeleteOutline from \"@material-ui/icons/DeleteOutline\";\n// import Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\n\nexport const tableIcons = {\n  // Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  // Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  // Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  // Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  // DetailPanel: forwardRef((props, ref) => (\n  //   <ChevronRight {...props} ref={ref} />\n  // )),\n  // Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => (\n    <ChevronLeft {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n};\n\nexport const handleError = err => {\n  return openSnackbar(\n    \"error\",\n    err || \"Sorry, something went wrong. Please try again.\"\n  );\n};\n\n// hardcoded select options\nexport const stateList = [\n  \"\",\n  \"AL\",\n  \"AK\",\n  \"AZ\",\n  \"AR\",\n  \"CA\",\n  \"CO\",\n  \"CT\",\n  \"DE\",\n  \"FL\",\n  \"GA\",\n  \"HI\",\n  \"ID\",\n  \"IL\",\n  \"IN\",\n  \"IA\",\n  \"KS\",\n  \"KY\",\n  \"LA\",\n  \"ME\",\n  \"MD\",\n  \"MA\",\n  \"MI\",\n  \"MN\",\n  \"MS\",\n  \"MO\",\n  \"MT\",\n  \"NE\",\n  \"NV\",\n  \"NH\",\n  \"NJ\",\n  \"NM\",\n  \"NY\",\n  \"NC\",\n  \"ND\",\n  \"OH\",\n  \"OK\",\n  \"OR\",\n  \"PA\",\n  \"RI\",\n  \"SC\",\n  \"SD\",\n  \"TN\",\n  \"TX\",\n  \"UT\",\n  \"VT\",\n  \"VA\",\n  \"WA\",\n  \"WV\",\n  \"WI\",\n  \"WY\"\n];\nexport const monthList = [\n  \"\",\n  \"01\",\n  \"02\",\n  \"03\",\n  \"04\",\n  \"05\",\n  \"06\",\n  \"07\",\n  \"08\",\n  \"09\",\n  \"10\",\n  \"11\",\n  \"12\"\n];\nexport const languageOptions = [\n  \"\",\n  \"English\",\n  \"ASL (Sign Language)\",\n  \"Cantonese\",\n  \"Cantonese AND Mandarin\",\n  \"Mandarin\",\n  \"Russian\",\n  \"Spanish\",\n  \"Vietnamese\",\n  \"Amharic\",\n  \"Arabic\",\n  \"Haitian Creole\"\n];\nexport const genderOptions = [\"\", \"Female\", \"Male\", \"Non-Binary\", \"Other\"];\nexport const genderPronounOptions = [\n  \"\",\n  \"She/Her/Hers\",\n  \"He/Him/His\",\n  \"They/Them/Their(s)\",\n  \"Other\"\n];\n\n// switch helper for dateOptions\nexport const getMaxDay = month => {\n  switch (month) {\n    case \"02\":\n      return 29;\n    case \"04\":\n    case \"06\":\n    case \"09\":\n    case \"11\":\n      return 30;\n    default:\n      return 31;\n  }\n};\n// function to adjust date select based on mm value\nexport const dateOptions = props => {\n  const mm = props.formValues.mm || props.formValues.hiremm;\n  const max = getMaxDay(mm);\n  let dates = [];\n  for (let i = 1; i <= max; i++) {\n    if (i < 10) {\n      dates.push(\"0\" + i);\n    } else {\n      dates.push(i.toString());\n    }\n  }\n  dates.unshift(\"\");\n  return dates;\n};\n// dynamically fills yyyy select with last 110 years\nexport const yearOptions = () => {\n  let years = [];\n  for (\n    let i = new Date().getFullYear() - 109;\n    i <= new Date().getFullYear();\n    i++\n  ) {\n    years.unshift(i.toString());\n  }\n  years.unshift(\"\");\n  return years;\n};\n\nexport const paymentTypes = [\"Check\", \"Card\"];\n\n// user-friendly names for employer type codes\nexport const employerTypeMap = {\n  PNP: \"Non-Profit\",\n  Retirees: \"Retired\",\n  State: \"State Agency\",\n  \"Nursing Homes\": \"Nursing Home\",\n  \"State Homecare\": \"State Homecare or Personal Support\",\n  \"Higher Ed\": \"Higher Education\",\n  \"Local Gov\": \"Local Government (City, County, School District)\",\n  AFH: \"Adult Foster Home\",\n  \"Child Care\": \"Child Care\",\n  \"Private Homecare\": \"Private Homecare Agency\",\n  \"Community Members\": \"Community Member\"\n};\n\n// helper function for reverse lookup from above object\nexport const getKeyByValue = (object, value) => {\n  return Object.keys(object).find(\n    key => object[key].toLowerCase() === value.toLowerCase()\n  );\n};\n\n// date formatter for submitting to Salesforce\nexport const formatSFDate = date => {\n  let d = new Date(date),\n    month = \"\" + (d.getMonth() + 1),\n    day = \"\" + d.getDate(),\n    year = d.getFullYear();\n\n  if (month.length < 2) month = \"0\" + month;\n  if (day.length < 2) day = \"0\" + day;\n\n  return [year, month, day].join(\"-\");\n};\n\n// convert MM DD YYYY to SF-formatted birthdate\nexport const formatBirthdate = formValues => {\n  const dobRaw = `${formValues.mm}/${formValues.dd}/${formValues.yyyy}`;\n  return formatSFDate(dobRaw);\n};\n\n// find matching employer object from redux store\nexport const findEmployerObject = (employerObjects, employerName) =>\n  employerObjects\n    ? employerObjects.filter(obj => {\n        if (employerName.toLowerCase() === \"community member\") {\n          return obj.Name.toLowerCase() === \"community members\";\n        }\n        return obj.Name.toLowerCase() === employerName.toLowerCase();\n      })[0]\n    : { Name: \"\" };\n\n// MUI styles objects\nexport const stylesPage1 = theme => ({\n  formContainer: {\n    padding: \"80px 0 140px 0\",\n    margin: \"auto 0 auto 50%\",\n    [theme.breakpoints.down(\"xl\")]: {\n      margin: \"44px 0 auto 50%\"\n    },\n    [theme.breakpoints.down(\"lg\")]: {\n      padding: \"20px 0\"\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      margin: \"44px auto\"\n    },\n    [theme.breakpoints.only(\"xs\")]: {\n      width: \"100vw\",\n      position: \"absolute\",\n      left: 0,\n      top: 0,\n      margin: \"36px auto\"\n    }\n  },\n  sectionContainer: {},\n  head: {\n    color: theme.palette.primary.light,\n    fontSize: \"2em\",\n    fontWeight: 700,\n    lineHeight: 1.1,\n    marginBottom: 15\n  },\n  form: {\n    maxWidth: 600,\n    margin: \"auto\",\n    background: \"white\",\n    padding: \"20px 20px 40px 20px\",\n    borderRadius: \"0 0 4px 4px\",\n    [theme.breakpoints.only(\"xs\")]: {\n      padding: \"15px 15px 40px 15px\"\n    }\n  },\n  buttonWrap: {\n    width: \"100%\",\n    padding: \"0 20px 40px 0\",\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  },\n  buttonWrapTab3: {\n    width: \"100%\",\n    padding: \"40px 20px 0 0\",\n    display: \"flex\",\n    justifyContent: \"flex-start\"\n  },\n  next: {\n    textTransform: \"none\",\n    fontSize: \"1.3rem\",\n    padding: \"6px 20px\",\n    color: theme.palette.secondary.main,\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.light\n    }\n  },\n  verticalGroup: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  horizGroup: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  back: {\n    textTransform: \"none\",\n    fontSize: \"1.3rem\",\n    padding: \"6px 20px\",\n    color: theme.palette.secondary.main,\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.light\n    },\n    marginRight: 40\n  },\n  formSection: {\n    paddingTop: 20\n  },\n  group: {\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  groupLeft: {\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\"\n  },\n  select: {\n    width: \"100%\",\n    margin: \"0 0 30px 0\"\n  },\n  selectRight: {\n    textAlign: \"right\",\n    width: \"100%\",\n    margin: \"0 0 30px 0\",\n    direction: \"rtl\"\n  },\n  failedText: {\n    color: \"red\"\n  },\n  formButton: {\n    width: \"100%\",\n    padding: 20,\n    margin: \"25px 0 40px\"\n  },\n  clearButton: {\n    width: \"100%\",\n    padding: 10,\n    margin: \"0\"\n  },\n  formControl: {\n    width: \"100%\"\n  },\n  formControlLabel: {\n    width: \"100%\"\n  },\n  formControlDate: {\n    width: \"15%\",\n    minWidth: 80\n  },\n  formLabel: {\n    margin: \"10px 0\"\n  },\n  formHelperText: {\n    margin: \"-25px 0 30px 0\"\n  },\n  checkboxErrorText: {\n    margin: \"-10px 0 10px 0\"\n  },\n  formGroup: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"flex-start\"\n  },\n  formGroup2Col: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"nowrap\",\n    justifyContent: \"space-between\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexWrap: \"wrap\"\n    }\n  },\n  formGroup2ColShort: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"nowrap\",\n    justifyContent: \"space-between\",\n    width: 280\n  },\n  input: {\n    width: \"100%\",\n    margin: \"0 0 30px 0\"\n  },\n  input2Col: {\n    width: \"48%\",\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100%\",\n      display: \"block\"\n    }\n  },\n  controlCheckbox: {\n    margin: \"-35px 0 40px 0\"\n  },\n  formHelperTextLegal: {\n    margin: \"-50px 0 50px 0\",\n    fontSize: \"14px\",\n    lineHeight: \"1.2em\"\n  },\n  sigBox: {\n    border: \"1px solid lightgrey\",\n    \"border-radius\": \"5px\",\n    margin: \"0 0 32px\",\n    width: \"100%\"\n  },\n  buttonLink: {\n    background: \"none\",\n    border: \"none\",\n    padding: \"0\",\n    font: \" inherit\",\n    \"border-bottom\": \"1px solid blue\",\n    cursor: \" pointer\",\n    color: \"blue\"\n  },\n  horizRadio: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  horizRadioBold: {\n    fontWeight: 700\n  },\n  subhead: {\n    color: theme.palette.primary.light,\n    fontSize: \"1.5em\",\n    fontWeight: 400,\n    paddingBottom: 20\n  },\n  paymentCopy: {\n    paddingBottom: \"1.5em\"\n  },\n  card: {\n    display: \"flex\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexDirection: \"column\"\n    }\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  content: {\n    flex: \"1 0 auto\"\n  },\n  cover: {\n    minWidth: 200,\n    minHeight: 200\n  },\n  cardHead: {\n    color: theme.palette.primary.light,\n    fontWeight: 400,\n    paddingBottom: 10\n  },\n  quoteAttr: {\n    color: theme.palette.primary.light,\n    fontStyle: \"italic\",\n    paddingTop: 10\n  },\n  pullQuote: {\n    textIndent: 20\n  },\n  suggestedAmounts: {\n    display: \"block\",\n    flexWrap: \"wrap\",\n    margin: \"0 -1.666666666666667% 13px\",\n    paddingTop: 35\n  },\n  suggestedAmountBoxes: {\n    flexDirection: \"row\",\n    flexWrap: \"nowrap\"\n  },\n  suggestedAmountBox: {\n    width: \"21%\",\n    height: 60,\n    margin: \"13px 1.666666666666667% 0\",\n    display: \"inline-block\"\n  },\n  boxLabel: {\n    height: \"100%\",\n    fontSize: 20,\n    lineHeight: \"60px\",\n    fontWeight: 300,\n    color: \"#4C4C4C\",\n    textAlign: \"center\",\n    border: \"1px solid #C4C3C3\",\n    borderRadius: 3,\n    display: \"block\",\n    transition:\n      \"color 0.1s, background-color 0.1s, border-color 0.1s, font-weight 0.1s\",\n    position: \"relative\",\n    cursor: \"pointer\",\n    margin: 0\n  },\n  boxInput: {\n    float: \"left\",\n    opacity: 0,\n    width: 0,\n    height: 0,\n    position: \"absolute\",\n    padding: 0,\n    margin: 0,\n    border: 0,\n    \"&:focus + label\": {\n      outline: \"rgba(83,16,120, 0.5) auto 3px\"\n    },\n    \"&:checked + label\": {\n      borderColor: \"#531078\",\n      color: \"#531078\",\n      borderWidth: 2,\n      fontWeight: 700\n    },\n    \"&:checked + $boxLabel\": {\n      borderColor: \"#531078\",\n      color: \"#531078\",\n      borderWidth: 2,\n      fontWeight: 700\n    }\n  },\n  capeAmount: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    width: \"100%\"\n  },\n  boxCurrency: {\n    fontSize: 14,\n    lineHeight: \"14px\",\n    fontWeight: 400,\n    verticalAlign: \"text-top\",\n    position: \"absolute\",\n    top: 22,\n    left: -22,\n    whiteSpace: \"nowrap\"\n  },\n  boxItem: {\n    position: \"absolute\",\n    height: \"100%\"\n  },\n  boxAmount: {\n    position: \"relative\",\n    left: -10\n  },\n  capeRadioLabel: {\n    fontSize: \"1.2em\",\n    color: theme.palette.primary.light,\n    fontWeight: 700,\n    textAlign: \"center\"\n  }\n});\nexport const stylesPage2 = theme => ({\n  root: {\n    margin: \"80px 0\"\n  },\n  formContainer: {\n    padding: \"80px 0 140px 0\",\n    margin: \"44px 0 auto 50%\",\n    [theme.breakpoints.down(\"lg\")]: {\n      padding: \"20px 0\",\n      margin: \"44px auto\"\n    }\n  },\n  container: {\n    padding: \"40px 0 140px 0\",\n    margin: \"44px auto\"\n  },\n  head: {\n    color: theme.palette.primary.light,\n    fontSize: \"2em\",\n    fontWeight: 700\n  },\n  checkIcon: {\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"center\"\n    }\n  },\n  successWrap: {\n    display: \"flex\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexWrap: \"wrap\"\n    }\n  },\n  page2IntroText: {\n    fontSize: \"1.2rem\",\n    lineHeight: \"1.4em\",\n    padding: \"0 0 .5em .5em\",\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: \"0 0 .5em 0\"\n    }\n  },\n  form: {\n    maxWidth: 600,\n    margin: \"auto\",\n    padding: \"20px\",\n    background: \"white\"\n  },\n  group: {\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  input: {\n    width: \"100%\",\n    margin: \"0 0 20px 0\"\n  },\n  select: {\n    width: \"100%\",\n    margin: \"0 0 20px 0\"\n  },\n  failedText: {\n    color: \"red\"\n  },\n  formButton: {\n    width: \"100%\",\n    padding: 20,\n    margin: \"0 0 40px\"\n  },\n  formLabel: {\n    margin: \"10px 0 10px\",\n    fontSize: \"20px\",\n    color: \"black\"\n  },\n  checkboxErrorText: {\n    margin: \"-10px 0 10px 0\"\n  },\n  formGroup: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    margin: \"0 0 20px\"\n  },\n  formHelperText: {\n    margin: \"0 0 10px\",\n    fontSize: \"15px\"\n  }\n});\n\n// helper functions for localization package when translating labels\n// this is required so that only the label is translated and the not value\n// of select, checkbox, and text inputs\nconst inputLabelTranslateHelper = (id, label, translate) => {\n  if (translate(id).includes(\"Missing translationId:\")) {\n    return label;\n  } else {\n    return translate(id);\n  }\n};\nconst optionsLabelTranslateHelper = (id, item, translate) => {\n  let translatedLabel;\n  if (id.includes(\"State\")) {\n    return item;\n  }\n  if (parseInt(item, 10)) {\n    return item;\n  }\n  if (id.includes(\"employer\")) {\n    translatedLabel = translate(camelCaseConverter(item));\n  } else {\n    translatedLabel = translate(item.toLowerCase());\n  }\n  if (translatedLabel.includes(\"Missing translationId:\")) {\n    return item;\n  } else {\n    return translatedLabel;\n  }\n};\n\n// custom MUI friendly TEXT input with translated label\nexport const renderTextField = ({\n  input,\n  id,\n  name,\n  label,\n  meta: { touched, error },\n  classes,\n  twocol,\n  short,\n  mobile,\n  translate,\n  ...custom\n}) => {\n  return (\n    <Translate>\n      {({ translate }) => (\n        <TextField\n          label={inputLabelTranslateHelper(id, label, translate)}\n          error={!!(touched && error)}\n          variant=\"outlined\"\n          className={classes.input}\n          style={\n            twocol && !mobile\n              ? { width: \"48%\" }\n              : short\n              ? { width: 150 }\n              : { width: \"100%\", marginBottom: 30 }\n          }\n          helperText={touched && error}\n          required={!!(touched && error)}\n          {...input}\n          {...custom}\n          data-test=\"component-text-field\"\n          inputProps={{ id: id }}\n        />\n      )}\n    </Translate>\n  );\n};\n\nconst selectStyle = align => (align === \"right\" ? { direction: \"ltr\" } : {});\n\n// custom MUI friendly SELECT input with translated label\nexport const renderSelect = ({\n  input,\n  name,\n  id,\n  label,\n  classes,\n  align,\n  meta: { error, touched },\n  labelWidth,\n  options,\n  short,\n  mobile,\n  formControlName,\n  ...custom\n}) => (\n  <Translate>\n    {({ translate }) => (\n      <FormControl\n        variant=\"outlined\"\n        className={classes[formControlName] || classes.formControl}\n        error={!!(error && touched)}\n        {...custom}\n        required={touched && error === \"Required\"}\n        style={short ? { width: 80 } : mobile ? { width: \"100%\" } : {}}\n      >\n        <InputLabel htmlFor={name}>\n          {inputLabelTranslateHelper(id, label, translate)}\n        </InputLabel>\n        <Select\n          native\n          input={\n            <OutlinedInput labelWidth={labelWidth} inputProps={{ id: id }} />\n          }\n          className={align === \"right\" ? classes.selectRight : classes.select}\n          value={input.value ? input.value.toLowerCase() : \"\"}\n          onChange={input.onChange}\n          {...custom}\n          data-test=\"component-select\"\n        >\n          {options.map(item => (\n            <option\n              key={shortid()}\n              value={item ? item.toLowerCase() : \"\"}\n              style={selectStyle(align)}\n            >\n              {optionsLabelTranslateHelper(id, item, translate)}\n            </option>\n          ))}\n        </Select>\n      </FormControl>\n    )}\n  </Translate>\n);\n\n// custom MUI friendly CHECKBOX input with translated label\nexport const renderCheckbox = ({\n  input,\n  label,\n  id,\n  validate,\n  classes,\n  meta: { touched, error },\n  formControlName,\n  localize,\n  ...custom\n}) => (\n  <Translate>\n    {({ translate }) => (\n      <FormControl\n        error={!!(touched && error)}\n        className={classes[formControlName] || classes.formControl}\n      >\n        <FormControlLabel\n          label={inputLabelTranslateHelper(id, label, translate)}\n          control={\n            <Checkbox\n              color=\"primary\"\n              checked={input.value ? true : false}\n              {...custom}\n              {...input}\n              className={classes.checkbox}\n              data-test=\"component-checkbox\"\n              name=\"checkbox\"\n              inputProps={{ id: id }}\n            />\n          }\n        />\n        {touched && error && (\n          <FormHelperText className={classes.checkboxErrorText}>\n            {error}\n          </FormHelperText>\n        )}\n      </FormControl>\n    )}\n  </Translate>\n);\n\n// custom MUI friendly RADIO group with translated label\nexport const renderRadioGroup = ({\n  input,\n  id,\n  label,\n  options,\n  validate,\n  classes,\n  direction,\n  meta: { touched, error },\n  formControlName,\n  legendClass,\n  additionalOnChange,\n  ...custom\n}) => (\n  <Translate>\n    {({ translate }) => (\n      <FormControl\n        component=\"fieldset\"\n        error={!!(touched && error)}\n        className={classes[formControlName] || classes.formControl}\n      >\n        <FormLabel component=\"legend\" className={classes.radioLabel}>\n          {translate(id)}\n        </FormLabel>\n\n        <RadioGroup\n          data-test=\"component-radio-group\"\n          aria-label={formControlName}\n          name={formControlName}\n          className={\n            direction === \"vert\" ? classes.verticalGroup : classes.horizGroup\n          }\n          onChange={(event, value) => {\n            input.onChange(value);\n            if (additionalOnChange) {\n              additionalOnChange(value);\n            }\n          }}\n        >\n          {options.map(item => {\n            return (\n              <FormControlLabel\n                key={shortid()}\n                value={item}\n                className={legendClass}\n                control={\n                  <Radio\n                    checked={item.toString() === input.value.toString()}\n                    color=\"primary\"\n                    inputProps={{ id: id }}\n                    data-test=\"component-radio\"\n                  />\n                }\n                label={item}\n              />\n            );\n          })}\n        </RadioGroup>\n        {touched && error && (\n          <FormHelperText className={classes.checkboxErrorText}>\n            {error}\n          </FormHelperText>\n        )}\n      </FormControl>\n    )}\n  </Translate>\n);\n\nexport const renderCAPERadioGroup = ({\n  input,\n  label,\n  id,\n  options,\n  validate,\n  classes,\n  direction,\n  meta: { touched, error },\n  formControlName,\n  legendClass,\n  additionalOnChange,\n  ...custom\n}) => (\n  <Translate>\n    {({ translate }) => (\n      <FormControl\n        component=\"fieldset\"\n        error={!!(touched && error)}\n        className={classes[formControlName] || classes.formControl}\n      >\n        <FormLabel component=\"legend\" className={classes.capeRadioLabel}>\n          {translate(id)}\n        </FormLabel>\n\n        <RadioGroup\n          data-test=\"component-cape-radio-group\"\n          aria-label={formControlName}\n          name={formControlName}\n          id={formControlName}\n          className={classes.horizGroup}\n          onChange={(event, value) => {\n            input.onChange(value);\n            if (additionalOnChange) {\n              additionalOnChange(event);\n            }\n          }}\n        >\n          {options.map(item => {\n            let labelText = `$${item}`;\n            if (item === \"Other\") {\n              labelText = item;\n            }\n            return (\n              <FormControlLabel\n                key={shortid()}\n                value={item}\n                className={classes.suggestedAmountBox}\n                label={labelText}\n                labelPlacement=\"bottom\"\n                control={\n                  <Radio\n                    checked={item.toString() === input.value.toString()}\n                    color=\"primary\"\n                    inputProps={{ id: id }}\n                    data-test=\"component-radio\"\n                  />\n                }\n              />\n            );\n          })}\n        </RadioGroup>\n        {touched && error && (\n          <FormHelperText className={classes.checkboxErrorText}>\n            {error}\n          </FormHelperText>\n        )}\n      </FormControl>\n    )}\n  </Translate>\n);\n\nexport const blankSig =\n  \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCABkAlIDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAn/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AKpgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//9k=\";\n\nexport const retireeDuesCopy =\n  \"Monthly dues are $5 and will be deducted on the 10th day of each month from the payment method you provide below. Dues are set by the SEIU Local 503 bylaws.\";\n\nexport const afhDuesCopy = afhDuesRate =>\n  `Monthly dues are $${afhDuesRate.toFixed(\n    2\n  )}, calculated at $14.84 per Medicaid resident in your home(s), plus $2.75 per month. Dues will be deducted on the 10th day of each month from the payment method you provide below.`;\n\nexport const commDuesCopy =\n  \"Monthly dues are $10 and will be deducted on the 10th day of each month from the payment method you provide below. Dues are set by the SEIU Local 503 bylaws.\";\n\nexport const submTableFieldList = [\n  { title: \"Submission Status\", field: \"submission_status\", hidden: false },\n  {\n    title: \"Submission Date\",\n    field: \"submission_date\",\n    hidden: false,\n    render: rowData => formatDateTime(rowData.submission_date),\n    defaultSort: \"desc\"\n  },\n  { title: \"Submission Errors\", field: \"submission_errors\", hidden: false },\n  { title: \"First Name\", field: \"first_name\", hidden: false },\n  { title: \"Last Name\", field: \"last_name\", hidden: false },\n  { title: \"Home Email\", field: \"home_email\", hidden: false },\n  { title: \"Employer\", field: \"employer_name\", hidden: false },\n  {\n    title: \"Online Campaign Source\",\n    field: \"online_campaign_source\",\n    hidden: false\n  },\n  { title: \"Contact ID\", field: \"salesforce_id\", hidden: false },\n  { title: \"IP Address\", field: \"ip_address\", hidden: false },\n  { title: \"Agency Number\", field: \"agency_number\", hidden: false },\n  { title: \"Subdivision\", field: \"account_subdivision\", hidden: false },\n  { title: \"Birthdate\", field: \"birthdate\", hidden: true },\n  { title: \"Cell Phone\", field: \"cell_phone\", hidden: true },\n  { title: \"Home Street\", field: \"home_street\", hidden: true },\n  { title: \"Home City\", field: \"home_city\", hidden: true },\n  { title: \"Home State\", field: \"home_state\", hidden: true },\n  { title: \"Home Zip\", field: \"home_zip\", hidden: true },\n  { title: \"Preferred Language\", field: \"preferred_language\", hidden: true },\n  { title: \"termsagree\", field: \"terms_agree\", hidden: true },\n  { title: \"Signature\", field: \"signature\", hidden: true },\n  {\n    title: \"Text Authorization Opt Out\",\n    field: \"text_auth_opt_out\",\n    hidden: true\n  },\n  { title: \"Legal Language\", field: \"legal_language\", hidden: true },\n  {\n    title: \"Maintenance of Effort\",\n    field: \"maintenance_of_effort\",\n    hidden: true\n  },\n  {\n    title: \"503 CBA App Date\",\n    field: \"seiu503_cba_app_date\",\n    type: \"date\",\n    render: rowData => formatDateTime(rowData.seiu503_cba_app_date),\n    hidden: true\n  },\n  {\n    title: \"Direct Pay Authorization\",\n    field: \"direct_pay_auth\",\n    type: \"date\",\n    render: rowData => formatDateTime(rowData.direct_pay_auth),\n    hidden: true\n  },\n  {\n    title: \"Direct Deposit Authorization\",\n    field: \"direct_deposit_auth\",\n    type: \"date\",\n    render: rowData => formatDateTime(rowData.direct_deposit_auth),\n    hidden: true\n  },\n  {\n    title: \"Immediate Past Member Status\",\n    field: \"immediate_past_member_status\",\n    hidden: true\n  },\n  { title: \"Dues Day\", field: \"deduction_day_of_month\", hidden: true },\n  {\n    title: \"Active Account Last 4\",\n    field: \"active_method_last_four\",\n    hidden: true\n  },\n  { title: \"Unioni.se MemberID\", field: \"member_short_id\", hidden: true },\n  { title: \"Payment Method\", field: \"payment_method\", hidden: true },\n  {\n    title: \"AFH Number of Residents\",\n    field: \"medicaid_residents\",\n    hidden: true\n  },\n  { title: \"Job Class/Title\", field: \"job_title\", hidden: true },\n  { title: \"Legal Language\", field: \"cape_legal\", hidden: true },\n  { title: \"CAPE Amount\", field: \"cape_amount\", hidden: true },\n  { title: \"Employer Type\", field: \"employer_type\", hidden: true },\n  { title: \"Mail-To City\", field: \"mail_to_city\", hidden: true },\n  { title: \"Mail-To State/Province\", field: \"mail_to_state\", hidden: true },\n  { title: \"Mail-To Street\", field: \"mail_to_street\", hidden: true },\n  {\n    title: \"Mail-To Zip/Postal Code\",\n    field: \"mail_to_postal_code\",\n    hidden: true\n  },\n  { title: \"Ethnicity\", field: \"ethnicity\", hidden: true },\n  { title: \"LGBTQIA+ ID\", field: \"lgbtq_id\", hidden: true },\n  { title: \"Trans ID\", field: \"trans_id\", hidden: true },\n  { title: \"Disability ID\", field: \"disability_id\", hidden: true },\n  {\n    title: \"Deaf or hard-of-hearing\",\n    field: \"deaf_or_hard_of_hearing\",\n    hidden: true\n  },\n  {\n    title: \"Blind or visually impaired\",\n    field: \"blind_or_visually_impaired\",\n    hidden: true\n  },\n  { title: \"Gender\", field: \"gender\", hidden: true },\n  {\n    title: \"Gender Other - Description\",\n    field: \"gender_other_description\",\n    hidden: true\n  },\n  { title: \"Pronouns\", field: \"gender_pronoun\", hidden: true },\n  {\n    title: \"Hire date\",\n    field: \"hire_date\",\n    hidden: true,\n    type: \"date\",\n    render: rowData => formatDate(rowData.hire_date)\n  },\n  { title: \"Worksite\", field: \"worksite\", hidden: true },\n  { title: \"Work Phone\", field: \"work_phone\", hidden: true },\n  { title: \"Work email\", field: \"work_email\", hidden: true }\n];\n\nTextField.propTypes = {\n  input: PropTypes.shape({\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDrop: PropTypes.func,\n    onFocus: PropTypes.func,\n    value: PropTypes.string\n  }),\n  name: PropTypes.string,\n  label: PropTypes.string,\n  touched: PropTypes.bool,\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  helperText: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n};\nSelect.propTypes = {\n  input: PropTypes.shape({\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDrop: PropTypes.func,\n    onFocus: PropTypes.func,\n    value: PropTypes.string\n  }),\n  name: PropTypes.string,\n  label: PropTypes.string,\n  labelWidth: PropTypes.string,\n  formControlName: PropTypes.string,\n  options: PropTypes.array,\n  touched: PropTypes.bool,\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n};\nCheckbox.propTypes = {\n  input: PropTypes.shape({\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDrop: PropTypes.func,\n    onFocus: PropTypes.func,\n    value: PropTypes.string\n  }),\n  name: PropTypes.string,\n  label: PropTypes.string,\n  touched: PropTypes.bool,\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  checked: PropTypes.bool\n};\nFormControl.propTypes = {\n  touched: PropTypes.bool,\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport MaterialTable from \"material-table\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport * as apiSubmissionActions from \"../store/actions/apiSubmissionActions\";\n\nimport AlertDialog from \"../components/AlertDialog\";\nimport {\n  tableIcons,\n  submTableFieldList\n} from \"../components/SubmissionFormElements\";\nimport { openSnackbar } from \"./Notifier\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = theme => ({\n  root: {\n    margin: \"0 auto\",\n    width: \"100%\",\n    maxWidth: 1920,\n    paddingBottom: 60,\n    background: \"white\",\n    minHeight: \"100vh\"\n  },\n  section: {\n    padding: \"60px 0 0 0\"\n  },\n  head: {\n    color: theme.palette.primary.main\n  },\n  gridWrapper: {\n    margin: \"0 auto\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    padding: \"50px 0\",\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: \"10px 0px\"\n    }\n  }\n});\n\nexport class SubmissionsTableUnconnected extends React.Component {\n  componentDidMount() {\n    const { authToken } = this.props.appState;\n    this.props.apiSubmission\n      .getAllSubmissions(authToken)\n      .then(result => {\n        if (\n          result.type === \"GET_ALL_SUBMISSIONS_FAILURE\" ||\n          this.props.submission.error\n        ) {\n          openSnackbar(\n            \"error\",\n            this.props.submission.error ||\n              \"An error occured while fetching submissions\"\n          );\n        }\n      })\n      .catch(err => {\n        openSnackbar(\"error\", err);\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (\n      (!prevProps.appState.authToken && this.props.appState.authToken) ||\n      prevProps.submission.allSubmissions.length !==\n        this.props.submission.allSubmissions.length\n    ) {\n      this.props.apiSubmission\n        .getAllSubmissions(this.props.appState.authToken)\n        .then(result => {\n          if (\n            result.type === \"GET_ALL_SUBMISSIONS_FAILURE\" ||\n            this.props.submission.error\n          ) {\n            openSnackbar(\n              \"error\",\n              this.props.submission.error ||\n                \"An error occured while fetching submissions\"\n            );\n          }\n        })\n        .catch(err => {\n          openSnackbar(\"error\", err);\n        });\n    }\n  }\n\n  handleDeleteDialogOpen = submission => {\n    if (submission && this.props.appState.loggedIn) {\n      this.props.apiSubmission.handleDeleteOpen(submission);\n    }\n  };\n\n  async deleteSubmission(submissionData) {\n    const token = this.props.appState.authToken;\n    const submissionDeleteResult = await this.props.apiSubmission\n      .deleteSubmission(token, submissionData.id)\n      .catch(err => {\n        openSnackbar(\"error\", this.props.submission.error);\n      });\n    if (\n      !submissionDeleteResult ||\n      !submissionDeleteResult.type ||\n      submissionDeleteResult.type !== \"DELETE_SUBMISSION_SUCCESS\"\n    ) {\n      openSnackbar(\"error\", this.props.submission.error);\n    } else if (submissionDeleteResult.type === \"DELETE_SUBMISSION_SUCCESS\") {\n      openSnackbar(\n        \"success\",\n        `Deleted submission from ${submissionData.firstName} ${\n          submissionData.lastName\n        }.`\n      );\n      this.props.apiSubmission.getAllSubmissions(token);\n    }\n  }\n\n  deleteAndClose() {\n    this.deleteSubmission(this.props.submission.currentSubmission);\n    this.props.apiSubmission.handleDeleteClose();\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div data-test=\"component-submissions-table\" className={classes.root}>\n        {this.props.submission.deleteDialogOpen && (\n          <AlertDialog\n            open={this.props.submission.deleteDialogOpen}\n            handleClose={this.props.apiSubmission.handleDeleteClose}\n            title=\"Delete Submission\"\n            content={`Are you sure you want to delete? You cannot undo this action.`}\n            danger={true}\n            action={this.deleteAndClose}\n            buttonText=\"Delete\"\n            data-test=\"alert-dialog\"\n          />\n        )}\n        <div className={classes.section}>\n          <Typography\n            variant=\"h2\"\n            align=\"center\"\n            gutterBottom\n            className={classes.head}\n            style={{ paddingTop: 20 }}\n            data-test=\"headline\"\n          >\n            Form Submissions\n          </Typography>\n          <div className={classes.gridWrapper}>\n            <MaterialTable\n              style={{ width: \"100%\", margin: \"0 20px\" }}\n              columns={submTableFieldList}\n              isLoading={this.props.submission.loading}\n              data={this.props.submission.allSubmissions}\n              title=\"Submissions\"\n              options={{\n                exportButton: true,\n                filtering: true,\n                sorting: true,\n                columnsButton: true,\n                rowStyle: rowData => ({\n                  backgroundColor:\n                    rowData && rowData.submission_status === \"error\"\n                      ? \"#f9c7c7\"\n                      : \"#FFF\"\n                })\n              }}\n              icons={tableIcons}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSubmissionsTableUnconnected.propTypes = {\n  classes: PropTypes.object.isRequired,\n  appState: PropTypes.shape({\n    loggedIn: PropTypes.bool,\n    authToken: PropTypes.string\n  }),\n  submission: PropTypes.shape({\n    filteredList: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        firstName: PropTypes.string,\n        lastName: PropTypes.string,\n        updated_at: PropTypes.string\n      })\n    ),\n    allSubmissions: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n        firstName: PropTypes.string,\n        lastName: PropTypes.string,\n        updated_at: PropTypes.string\n      })\n    ),\n    currentSubmission: PropTypes.shape({\n      id: PropTypes.string,\n      firstName: PropTypes.string,\n      lastName: PropTypes.string,\n      updated_at: PropTypes.string\n    }),\n    deleteDialogOpen: PropTypes.bool,\n    apiSubmission: PropTypes.shape({\n      getAllSubmissions: PropTypes.func,\n      handleDeleteOpen: PropTypes.func,\n      deleteSubmission: PropTypes.func,\n      resubmit: PropTypes.func\n    })\n  })\n};\n\nconst mapStateToProps = state => ({\n  appState: state.appState,\n  profile: state.profile,\n  submission: state.submission\n});\n\nconst mapDispatchToProps = dispatch => ({\n  apiSubmission: bindActionCreators(apiSubmissionActions, dispatch)\n});\n\nexport const SubmissionsTableConnected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SubmissionsTableUnconnected);\n\nexport default withRouter(withStyles(styles)(SubmissionsTableConnected));\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport PropTypes from \"prop-types\";\n\nimport { openSnackbar } from \"./Notifier\";\nimport SubmissionsTable from \"./SubmissionsTable\";\n\nimport * as Actions from \"../store/actions\";\nimport * as apiProfileActions from \"../store/actions/apiProfileActions\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  root: {\n    margin: 20,\n    padding: 20,\n    maxWidth: 1200\n  },\n  card: {\n    margin: \"auto\",\n    width: \"100%\",\n    maxWidth: 300\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\", // 16:9\n    position: \"relative\"\n  },\n  avatar: {\n    width: 80,\n    height: 80,\n    position: \"absolute\",\n    top: 100,\n    left: \"calc(50% - 40px)\"\n  },\n  container: {\n    height: \"100%\",\n    minHeight: \"100vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  name: {\n    color: \"primary\",\n    textAlign: \"center\",\n    marginTop: 15\n  }\n});\n\nexport class DashboardUnconnected extends React.Component {\n  componentDidMount() {\n    let userId, token;\n    // check route params for user id and token\n    if (this.props.match && this.props.match.params.id) {\n      userId = this.props.match.params.id;\n      token = this.props.match.params.token;\n\n      // if logged in for first time through social auth,\n      // save userId & token to local storage\n      window.localStorage.setItem(\"userId\", userId);\n      window.localStorage.setItem(\"authToken\", token);\n      this.props.actions.setLoggedIn();\n      // remove id & token from route params after saving to local storage\n      window.history.replaceState(\n        null,\n        null,\n        `${window.location.origin}/admin`\n      );\n    } else {\n      // if userId is not in route params\n      // look in redux store or local storage\n      userId =\n        this.props.profile.profile._id || window.localStorage.getItem(\"userId\");\n      if (window.localStorage.getItem(\"authToken\")) {\n        token = window.localStorage.getItem(\"authToken\");\n      } else {\n        token = this.props.appState.authToken;\n      }\n    }\n    // retrieve user profile & save to redux store\n    this.props.api\n      .getProfile(token, userId)\n      .then(result => {\n        // console.log(result.type);\n        if (result.type === \"GET_PROFILE_SUCCESS\") {\n          this.props.actions.setLoggedIn();\n          // check for redirect url in local storage\n          const redirect = window.localStorage.getItem(\"redirect\");\n          if (redirect) {\n            // redirect to originally requested page and then\n            // clear value from local storage\n            this.props.history.push(redirect);\n            window.localStorage.removeItem(\"redirect\");\n          }\n        } else {\n          console.log(\"not logged in\");\n          console.log(result);\n          openSnackbar(\"error\", \"Please log in to view this page.\");\n        }\n      })\n      .catch(err => {\n        // console.log(err);\n        openSnackbar(\"error\", err);\n      });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { loggedIn } = this.props.appState;\n    const redirect = window.localStorage.getItem(\"redirect\");\n\n    return (\n      <div className={classes.container} data-test=\"component-dashboard\">\n        {loggedIn && !redirect && <SubmissionsTable />}\n      </div>\n    );\n  }\n}\n\nDashboardUnconnected.propTypes = {\n  appState: PropTypes.shape({\n    loggedIn: PropTypes.bool,\n    authToken: PropTypes.string\n  }).isRequired,\n  actions: PropTypes.shape({\n    setLoggedIn: PropTypes.func\n  }).isRequired,\n  api: PropTypes.shape({\n    getProfile: PropTypes.func\n  }).isRequired,\n  profile: PropTypes.shape({\n    profile: PropTypes.shape({\n      _id: PropTypes.string,\n      name: PropTypes.string,\n      avatar_url: PropTypes.string\n    }).isRequired,\n    error: PropTypes.string,\n    loading: PropTypes.bool\n  }).isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n      token: PropTypes.string\n    })\n  })\n};\n\nconst mapStateToProps = state => ({\n  appState: state.appState,\n  profile: state.profile\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(Actions, dispatch),\n  api: bindActionCreators(apiProfileActions, dispatch)\n});\n\nexport const DashboardConnected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DashboardUnconnected);\n\nexport default withRouter(withStyles(styles)(DashboardConnected));\n","import { RSAA } from \"redux-api-middleware\";\nimport BASE_URL from \"./apiConfig.js\";\nimport FormData from \"form-data\";\n\nexport const HANDLE_INPUT = \"HANDLE_INPUT\";\nexport const HANDLE_DELETE_OPEN = \"HANDLE_DELETE_OPEN\";\nexport const HANDLE_DELETE_CLOSE = \"HANDLE_DELETE_CLOSE\";\nexport const CLEAR_FORM = \"CLEAR_FORM\";\nexport const GET_CONTENT_BY_ID_REQUEST = \"GET_CONTENT_BY_ID_REQUEST\";\nexport const GET_CONTENT_BY_ID_SUCCESS = \"GET_CONTENT_BY_ID_SUCCESS\";\nexport const GET_CONTENT_BY_ID_FAILURE = \"GET_CONTENT_BY_ID_FAILURE\";\nexport const ADD_CONTENT_REQUEST = \"ADD_CONTENT_REQUEST\";\nexport const ADD_CONTENT_SUCCESS = \"ADD_CONTENT_SUCCESS\";\nexport const ADD_CONTENT_FAILURE = \"ADD_CONTENT_FAILURE\";\nexport const GET_ALL_CONTENT_REQUEST = \"GET_ALL_CONTENT_REQUEST\";\nexport const GET_ALL_CONTENT_SUCCESS = \"GET_ALL_CONTENT_SUCCESS\";\nexport const GET_ALL_CONTENT_FAILURE = \"GET_ALL_CONTENT_FAILURE\";\nexport const DELETE_CONTENT_REQUEST = \"DELETE_CONTENT_REQUEST\";\nexport const DELETE_CONTENT_SUCCESS = \"DELETE_CONTENT_SUCCESS\";\nexport const DELETE_CONTENT_FAILURE = \"DELETE_CONTENT_FAILURE\";\nexport const DELETE_IMAGE_REQUEST = \"DELETE_IMAGE_REQUEST\";\nexport const DELETE_IMAGE_SUCCESS = \"DELETE_IMAGE_SUCCESS\";\nexport const DELETE_IMAGE_FAILURE = \"DELETE_IMAGE_FAILURE\";\nexport const UPDATE_CONTENT_REQUEST = \"UPDATE_CONTENT_REQUEST\";\nexport const UPDATE_CONTENT_SUCCESS = \"UPDATE_CONTENT_SUCCESS\";\nexport const UPDATE_CONTENT_FAILURE = \"UPDATE_CONTENT_FAILURE\";\nexport const UPLOAD_IMAGE_REQUEST = \"UPLOAD_IMAGE_REQUEST\";\nexport const UPLOAD_IMAGE_SUCCESS = \"UPLOAD_IMAGE_SUCCESS\";\nexport const UPLOAD_IMAGE_FAILURE = \"UPLOAD_IMAGE_FAILURE\";\n\nexport function handleInput({ target: { name, value } }) {\n  return {\n    type: HANDLE_INPUT,\n    payload: { name, value }\n  };\n}\n\nexport function handleDeleteOpen(selectedContent) {\n  return {\n    type: HANDLE_DELETE_OPEN,\n    payload: { selectedContent }\n  };\n}\n\nexport function handleDeleteClose() {\n  return {\n    type: HANDLE_DELETE_CLOSE\n  };\n}\n\nexport function clearForm() {\n  return {\n    type: CLEAR_FORM\n  };\n}\n\n/*\n * Function: getContentById -- get a single Content item by id\n * @param {string} id\n * This action dispatches additional actions as it executes:\n *   GET_CONTENT_BY_ID_REQUEST:\n *     Initiates a spinner on the home page.\n *   GET_CONTENT_BY_ID_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   GET_CONTENT_BY_ID_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function getContentById(id) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/content/${id}`,\n      method: \"GET\",\n      types: [\n        GET_CONTENT_BY_ID_REQUEST,\n        GET_CONTENT_BY_ID_SUCCESS,\n        {\n          type: GET_CONTENT_BY_ID_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ]\n    }\n  };\n}\n\n/*\n * Function: getAllContent -- get all Content items in database\n * @param {string} id\n * This action dispatches additional actions as it executes:\n *   GET_ALL_CONTENT_REQUEST:\n *     Initiates a spinner on the home page.\n *   GET_ALL_CONTENT_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   GET_ALL_CONTENT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function getAllContent(token) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/content`,\n      method: \"GET\",\n      types: [\n        GET_ALL_CONTENT_REQUEST,\n        GET_ALL_CONTENT_SUCCESS,\n        {\n          type: GET_ALL_CONTENT_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  };\n}\n\n/*\n * Function: addContent -- add new Content to db\n * @param {object} body (Content object)\n *  --  @param {string} contentType,\n *  --  @param {string} content\n * This action dispatches additional actions as it executes:\n *   ADD_CONTENT_REQUEST:\n *     Initiates a spinner on the home page.\n *   ADD_CONTENT_SUCCESS:\n *     If Content successfully added, hides spinner\n *   ADD_CONTENT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function addContent(token, body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/content/`,\n      method: \"POST\",\n      types: [\n        ADD_CONTENT_REQUEST,\n        ADD_CONTENT_SUCCESS,\n        {\n          type: ADD_CONTENT_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/*\n * Function: uploadImage -- uploads image file to Amazon S3 bucket and adds new content record with image URL to db\n * @param {file} image (image file)\n * @param {id} (optional content id if replacing existing image)\n * This action dispatches additional actions as it executes:\n *   UPLOAD_IMAGE_REQUEST:\n *     Initiates a spinner on the home page.\n *   UPLOAD_IMAGE_SUCCESS:\n *     If image successfully uploaded, hides spinner\n *   UPLOAD_IMAGE_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\n\nexport function uploadImage(image, id) {\n  // console.log(\"uploadImage\", image);\n\n  const data = new FormData();\n  data.append(\"image\", image, image.name);\n\n  if (id) {\n    data.append(\"id\", id);\n  }\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/image/single`,\n      method: \"POST\",\n      types: [\n        UPLOAD_IMAGE_REQUEST,\n        UPLOAD_IMAGE_SUCCESS,\n        {\n          type: UPLOAD_IMAGE_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      body: data\n    }\n  };\n}\n\n/*\n * Function: updateContent -- update existing Content\n * @param {string} id Content id\n * @param {object} body (Content object)\n *  --  @param {object} updates\n * This action dispatches additional actions as it executes:\n *   UDPATE_CONTENT_REQUEST:\n *     Initiates a spinner on the home page.\n *   UDPATE_CONTENT_SUCCESS:\n *     If Content successfully updated, hides spinner\n *   UDPATE_CONTENT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function updateContent(token, id, body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/content/${id}`,\n      method: \"PUT\",\n      types: [\n        UPDATE_CONTENT_REQUEST,\n        UPDATE_CONTENT_SUCCESS,\n        {\n          type: UPDATE_CONTENT_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/*\n * Function: deleteContent -- delete Content from database\n * @param {string} id\n * This action dispatches additional actions as it executes:\n *   DELETE_CONTENT_REQUEST:\n *     Initiates a spinner on the home page.\n *   DELETE_CONTENT_SUCCESS:\n *     If Content successfully deleted, hides spinner\n *   DELETE_CONTENT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function deleteContent(token, id) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/content/${id}`,\n      method: \"DELETE\",\n      types: [\n        DELETE_CONTENT_REQUEST,\n        DELETE_CONTENT_SUCCESS,\n        {\n          type: DELETE_CONTENT_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: { Authorization: `Bearer ${token}` }\n    }\n  };\n}\n\n/*\n * Function: deleteImage -- delete file from S3 bucket\n * @param {string} key (S3 object key)\n * This action dispatches additional actions as it executes:\n *   DELETE_IMAGE_REQUEST:\n *     Initiates a spinner on the home page.\n *   DELETE_IMAGE_SUCCESS:\n *     If Content successfully deleted, hides spinner\n *   DELETE_IMAGE_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function deleteImage(token, key) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/image/${key}`,\n      method: \"DELETE\",\n      types: [\n        DELETE_IMAGE_REQUEST,\n        DELETE_IMAGE_SUCCESS,\n        {\n          type: DELETE_IMAGE_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: { Authorization: `Bearer ${token}` }\n    }\n  };\n}\n","// https://menubar.io/creating-a-material-ui-button-with-spinner-that-reflects-loading-state\n\nimport React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst spinnerStyle = {\n  color: \"#ffffff\",\n  marginLeft: \"10px\"\n};\n\nconst SpinnerAdornment = props => (\n  <CircularProgress\n    style={spinnerStyle}\n    size={20}\n    data-test=\"component-spinner-adornment\"\n  />\n);\n\nexport default SpinnerAdornment;\n","// https://menubar.io/creating-a-material-ui-button-with-spinner-that-reflects-loading-state\n\nimport React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport SpinnerAdornment from \"./SpinnerAdornment\";\n\ntype Props = {\n  children: React.ChildrenArray<any>,\n  loading: boolean\n};\n\nconst ButtonWithSpinner = (props: Props) => {\n  const { children, loading, ...rest } = props;\n  return (\n    <Button {...rest} data-test=\"component-button-with-spinner\">\n      {children}\n      {loading && <SpinnerAdornment {...rest} data-test=\"spinner-adornment\" />}\n    </Button>\n  );\n};\n\nButtonWithSpinner.defaultProps = {\n  loading: false\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport { DropzoneDialog } from \"material-ui-dropzone\";\n\nimport * as apiContentActions from \"../store/actions/apiContentActions\";\nimport * as utils from \"../utils\";\n\nimport { openSnackbar } from \"./Notifier\";\nimport ButtonWithSpinner from \"../components/ButtonWithSpinner\";\n\nconst styles = theme => ({\n  root: {},\n  container: {\n    padding: \"80px 0 140px 0\",\n    background: \"white\",\n    minHeight: \"100vh\"\n  },\n  head: {\n    color: theme.palette.primary.light\n  },\n  form: {\n    maxWidth: 600,\n    margin: \"auto\"\n  },\n  group: {\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  input: {\n    width: \"100%\",\n    margin: \"0 0 20px 0\"\n  },\n  textarea: {\n    width: \"100%\",\n    margin: \"0 0 20px 0\"\n  },\n  formButton: {\n    width: \"100%\",\n    padding: 20\n  },\n  formControl: {\n    width: \"100%\"\n  },\n  radioLabel: {\n    width: \"100%\",\n    textAlign: \"center\"\n  }\n});\n\nexport class TextInputFormUnconnected extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      files: []\n    };\n    this.submit = this.submit.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.edit && this.props.match.params.id) {\n      this.props.apiContent\n        .getContentById(this.props.match.params.id)\n        .then(result => {\n          if (\n            result.type === \"GET_CONTENT_BY_ID_FAILURE\" ||\n            this.props.content.error\n          ) {\n            openSnackbar(\n              \"error\",\n              this.props.content.error ||\n                \"An error occured while trying to fetch your content.\"\n            );\n          } else {\n            // console.log(this.props.content.form)\n          }\n        })\n        .catch(err => openSnackbar(\"error\", err));\n    }\n  }\n\n  handleClose = () => {\n    const newState = { ...this.state };\n    newState.open = false;\n    this.setState({ ...newState }, () => {\n      this.props.apiContent.clearForm();\n      this.props.history.push(\"/library\");\n    });\n  };\n\n  handleSave = files => {\n    // save files to component state; close modal\n    const newState = { ...this.state };\n    newState.open = false;\n    newState.files = files;\n    this.setState({ ...newState }, () => {\n      this.handleUpload(this.state.files[0]);\n    });\n  };\n\n  handleOpen = () => {\n    const newState = { ...this.state };\n    newState.open = true;\n    this.setState({ ...newState });\n  };\n\n  onDropRejected = rejected => {\n    let errors = [];\n    if (rejected[0].size > 2000000) {\n      errors.push(\"File too large. File size limit 2MB.\");\n    }\n    if (\n      rejected[0].type !== \"image/jpeg\" &&\n      rejected[0].type !== \"image/jpg\" &&\n      rejected[0].type !== \"image/png\" &&\n      rejected[0].type !== \"image/gif\"\n    ) {\n      errors.push(\n        \"Invalid file type. Accepted file types are .jpeg, .jpg, .png, and .gif.\"\n      );\n    }\n    // display errors\n    if (errors.length) {\n      openSnackbar(\"error\", errors.join(\" \"));\n    }\n  };\n\n  handleUpload = file => {\n    const { authToken } = this.props.appState;\n    const filename = file ? file.name.split(\".\")[0] : \"\";\n    const edit = this.props.edit;\n    const id = this.props.edit ? this.props.match.params.id : undefined;\n    this.props.apiContent\n      .uploadImage(file, edit, id)\n      .then(result => {\n        if (\n          result.type === \"UPLOAD_IMAGE_FAILURE\" ||\n          this.props.content.error\n        ) {\n          openSnackbar(\n            \"error\",\n            this.props.content.error ||\n              \"An error occured while trying to upload your image.\"\n          );\n        } else {\n          openSnackbar(\"success\", `${filename} Saved.`);\n          this.props.apiContent.clearForm();\n          this.props.apiContent.getAllContent(authToken);\n          this.props.history.push(\"/library\");\n        }\n      })\n      .catch(err => openSnackbar(\"error\", err));\n  };\n\n  submit(e) {\n    e.preventDefault();\n    const { content_type, content } = this.props.content.form;\n    const authToken = this.props.appState.authToken;\n    const body = {\n      content_type,\n      content\n    };\n    let id;\n    if (this.props.match.params.id) {\n      id = this.props.match.params.id;\n    }\n    if (!this.props.edit) {\n      this.props.apiContent\n        .addContent(authToken, body)\n        .then(result => {\n          if (\n            result.type === \"ADD_CONTENT_FAILURE\" ||\n            this.props.content.error\n          ) {\n            openSnackbar(\n              \"error\",\n              this.props.content.error ||\n                \"An error occured while trying to save your content.\"\n            );\n          } else {\n            openSnackbar(\"success\", `Saved ${utils.labelsObj[content_type]}.`);\n            this.props.apiContent.clearForm();\n            this.props.history.push(\"/library\");\n          }\n        })\n        .catch(err => openSnackbar(\"error\", err));\n    } else if (id) {\n      this.props.apiContent\n        .updateContent(authToken, id, body)\n        .then(result => {\n          if (\n            result.type === \"UPDATE_CONTENT_FAILURE\" ||\n            this.props.content.error\n          ) {\n            openSnackbar(\n              \"error\",\n              this.props.content.error ||\n                \"An error occured while trying to update your content.\"\n            );\n          } else {\n            openSnackbar(\n              \"success\",\n              `Updated ${utils.labelsObj[content_type]}.`\n            );\n            this.props.apiContent.clearForm();\n            this.props.history.push(\"/library\");\n          }\n        })\n        .catch(err => openSnackbar(\"error\", err));\n    } else {\n      openSnackbar(\n        \"error\",\n        this.props.content.error ||\n          \"An error occured while trying to save your content.\"\n      );\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.container} data-test=\"component-text-input-form\">\n        <Typography\n          variant=\"h2\"\n          align=\"center\"\n          gutterBottom\n          className={classes.head}\n          style={{ paddingTop: 20 }}\n        >\n          Admin Dashboard\n        </Typography>\n        <form\n          className={classes.form}\n          onError={errors => console.log(errors)}\n          id=\"form\"\n        >\n          <FormControl component=\"fieldset\" className={classes.formControl}>\n            <FormLabel component=\"legend\" className={classes.radioLabel}>\n              Content Type\n            </FormLabel>\n            <RadioGroup\n              aria-label=\"Content Type\"\n              name=\"content_type\"\n              className={classes.group}\n              value={this.props.content.form.content_type || \"\"}\n              onChange={this.props.apiContent.handleInput}\n            >\n              <FormControlLabel\n                value=\"headline\"\n                control={<Radio />}\n                label=\"Headline\"\n              />\n              <FormControlLabel\n                value=\"bodyCopy\"\n                control={<Radio />}\n                label=\"Body\"\n              />\n              <FormControlLabel\n                value=\"image\"\n                control={<Radio />}\n                label=\"Image\"\n              />\n              <FormControlLabel\n                value=\"redirectUrl\"\n                control={<Radio />}\n                label=\"Redirect URL\"\n              />\n            </RadioGroup>\n          </FormControl>\n          {this.props.content.form.content_type &&\n          this.props.content.form.content_type !== \"image\" ? (\n            <React.Fragment>\n              <TextField\n                name=\"content\"\n                id=\"content\"\n                label={utils.labelsObj[this.props.content.form.content_type]}\n                type={\n                  this.props.content.form.content_type &&\n                  this.props.content.form.content_type.includes(\"Url\")\n                    ? \"url\"\n                    : \"text\"\n                }\n                multiline={this.props.content.form.content_type === \"bodyCopy\"}\n                rows={\n                  this.props.content.form.content_type === \"bodyCopy\" ? 5 : 1\n                }\n                variant=\"outlined\"\n                required\n                value={this.props.content.form.content}\n                onChange={this.props.apiContent.handleInput}\n                className={classes.input}\n              />\n              <ButtonWithSpinner\n                type=\"submit\"\n                color=\"secondary\"\n                className={classes.formButton}\n                variant=\"contained\"\n                loading={this.props.content.loading}\n                onClick={e => this.submit(e)}\n              >\n                Save {utils.labelsObj[this.props.content.form.content_type]}\n              </ButtonWithSpinner>\n            </React.Fragment>\n          ) : this.props.content.form.content_type &&\n            this.props.content.form.content_type === \"image\" ? (\n            <React.Fragment>\n              <ButtonWithSpinner\n                onClick={this.handleOpen.bind(this)}\n                variant=\"contained\"\n                color=\"secondary\"\n                component=\"label\"\n                className={classes.formButton}\n                loading={this.props.content.loading}\n              >\n                Choose Image\n              </ButtonWithSpinner>\n              <DropzoneDialog\n                open={this.state.open}\n                onDropRejected={this.onDropRejected}\n                onSave={this.handleSave}\n                acceptedFiles={[\n                  \"image/jpeg\",\n                  \"image/jpg\",\n                  \"image/png\",\n                  \"image/gif\"\n                ]}\n                showPreviews={true}\n                maxFileSize={2000000}\n                filesLimit={1} // until add server support for multiupload\n                onClose={this.handleClose}\n              />\n            </React.Fragment>\n          ) : (\n            \"\"\n          )}\n        </form>\n      </div>\n    );\n  }\n}\n\nTextInputFormUnconnected.propTypes = {\n  type: PropTypes.string,\n  appState: PropTypes.shape({\n    authToken: PropTypes.string\n  }),\n  content: PropTypes.shape({\n    form: PropTypes.shape({\n      content_type: PropTypes.string,\n      content: PropTypes.string\n    }),\n    loading: PropTypes.bool\n  }).isRequired,\n  apiContent: PropTypes.shape({\n    handleInput: PropTypes.func,\n    addContent: PropTypes.func,\n    clearForm: PropTypes.func,\n    uploadImage: PropTypes.func\n  }),\n  classes: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  content: state.content,\n  appState: state.appState\n});\n\nconst mapDispatchToProps = dispatch => ({\n  apiContent: bindActionCreators(apiContentActions, dispatch)\n});\n\nexport const TextInputFormConnected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TextInputFormUnconnected);\n\nexport default withStyles(styles)(TextInputFormConnected);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport shortid from \"shortid\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Paper from \"@material-ui/core/Paper\";\nimport LooksOneIcon from \"@material-ui/icons/LooksOne\";\nimport LooksTwoIcon from \"@material-ui/icons/LooksTwo\";\nimport Looks3Icon from \"@material-ui/icons/Looks3\";\nimport Looks4Icon from \"@material-ui/icons/Looks4\";\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n    maxWidth: 600,\n    margin: \"auto\",\n    borderRadius: \"4px 4px 0 0\"\n  }\n});\n\nexport default function NavTabs(props) {\n  const classes = useStyles();\n  const { howManyTabs } = props;\n  const icons = [\n    <LooksOneIcon style={{ color: \"#531078\" }} />,\n    <LooksTwoIcon style={{ color: \"#531078\" }} />,\n    <Looks3Icon style={{ color: \"#531078\" }} />,\n    <Looks4Icon style={{ color: \"#531078\" }} />\n  ];\n  const renderTab = index => (\n    <Tab\n      icon={icons[index]}\n      aria-label={index + 1}\n      id={`tab${index + 1}`}\n      index={index}\n      disabled\n      key={shortid()}\n    />\n  );\n  const tabs = [];\n  for (let i = 0; i <= howManyTabs - 1; i++) {\n    tabs.push(renderTab(i));\n  }\n  return (\n    <Paper className={classes.root} data-test=\"component-navtabs\">\n      <Tabs\n        value={props.tab}\n        variant=\"fullWidth\"\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        aria-label=\"Navigation tabs\"\n      >\n        {tabs}\n      </Tabs>\n    </Paper>\n  );\n}\n\nNavTabs.propTypes = {\n  classes: PropTypes.object,\n  handleTab: PropTypes.func,\n  tab: PropTypes.number\n};\n","export const validate = values => {\n  const errors = {};\n  const requiredFields = [\n    \"firstName\",\n    \"lastName\",\n    \"dd\",\n    \"mm\",\n    \"yyyy\",\n    \"preferredLanguage\",\n    \"homeStreet\",\n    \"homeZip\",\n    \"homeState\",\n    \"homeCity\",\n    \"homeEmail\",\n    \"mobilePhone\",\n    \"employerName\",\n    \"employerType\",\n    \"termsAgree\",\n    \"signature\"\n  ];\n  const conditionalRequiredFields = [\n    {\n      requiredField: \"directPayAuth\",\n      controllingField: \"employerType\",\n      controllingValues: [\"adult foster home\", \"retired\", \"community member\"]\n    },\n    {\n      requiredField: \"medicaidResidents\",\n      controllingField: \"employerType\",\n      controllingValues: [\"adult foster home\"]\n    },\n    {\n      requiredField: \"paymentType\",\n      controllingField: \"employerType\",\n      controllingValues: [\"retired\"]\n    },\n    {\n      requiredField: \"paymentMethodAdded\",\n      controllingField: \"employerType\",\n      controllingValues: [\"adult foster home\", \"retired\", \"community member\"]\n    }\n  ];\n  conditionalRequiredFields.forEach(obj => {\n    let matchValue = values[obj[\"controllingField\"]]\n      ? values[obj[\"controllingField\"]].toLowerCase()\n      : \"\";\n    if (\n      obj[\"controllingValues\"].includes(matchValue) &&\n      !values[obj[\"requiredField\"]]\n    ) {\n      errors[obj[\"requiredField\"]] = \"Required\";\n    }\n  });\n  requiredFields.forEach(field => {\n    if (!values[field]) {\n      errors[field] = \"Required\";\n    }\n  });\n  if (\n    values.employerType &&\n    (values.employerType.toLowerCase() === \"adult foster home\" ||\n      values.employerType.toLowerCase() === \"retired\" ||\n      values.employerType.toLowerCase() === \"community member\") &&\n    values.paymentMethod === \"Card\" &&\n    !values.paymentMethodAdded\n  ) {\n    errors.paymentMethodAdded = `Please add a payment method.`;\n  }\n  if (\n    values.employerType &&\n    values.employerType.toLowerCase() === \"adult foster home\" &&\n    values.medicaidResidents < 1\n  ) {\n    errors.medicaidResidents = `Please enter the number of Medicaid Residents in your home(s).`;\n  }\n  if (\n    values.homeEmail &&\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.homeEmail)\n  ) {\n    errors.homeEmail = \"Invalid email address (e.g. sample@email.com)\";\n  }\n  if (\n    values.workEmail &&\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.workEmail)\n  ) {\n    errors.workEmail = \"Invalid email address (e.g. sample@email.com)\";\n  }\n  if (\n    values.mobilePhone &&\n    !/^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(\n      values.mobilePhone\n    )\n  ) {\n    errors.mobilePhone = \"Invalid phone number (e.g. 555-123-456)\";\n  }\n  if (\n    values.workPhone &&\n    !/^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(values.workPhone)\n  ) {\n    errors.workPhone = \"Invalid phone number (e.g. 555-123-456)\";\n  }\n  if (\n    values.hireDate &&\n    !/^\\(?([0-9]{4})\\)?[-]?([0-9]{2})[-]?([0-9]{2})$/.test(values.hireDate)\n  ) {\n    errors.hireDate = \"Invalid Date (please us 'yyyy-mm-dd' format)\";\n  }\n  if (values.homeZip && values.homeZip.length !== 5) {\n    errors.homeZip = `Must be at exactly 5 characters long`;\n  }\n  if (values.mailToZip && values.mailToZip.length !== 5) {\n    errors.mailToZip = `Must be at exactly 5 characters long`;\n  }\n  return errors;\n};\n\n// when adding translations it may be easier to just import the translation array or object here and add a switch based on state's activeLanguage\n// rather than messing with adding translate callback function to an MUI error text for custom redux-form validation errors.\n// Not sure exactly what the best implementation would be.\n// Localization package author discusses solutions for redux-form live validation errors in this post: https://github.com/i18next/react-i18next/issues/306\n\nexport const capeValidate = values => {\n  // console.log('capeValidate');\n  const errors = {};\n  const requiredFields = [\n    \"firstName\",\n    \"lastName\",\n    \"homeStreet\",\n    \"homeZip\",\n    \"homeState\",\n    \"homeCity\",\n    \"homeEmail\",\n    \"mobilePhone\",\n    \"employerName\",\n    \"employerType\",\n    \"capeAmount\",\n    \"jobTitle\"\n  ];\n  const conditionalRequiredFields = [\n    {\n      requiredField: \"capeAmountOther\",\n      controllingField: \"capeAmount\",\n      controllingValues: [\"Other\"]\n    }\n  ];\n  conditionalRequiredFields.forEach(obj => {\n    let matchValue = values[obj[\"controllingField\"]];\n    if (\n      obj[\"controllingValues\"].includes(matchValue) &&\n      !values[obj[\"requiredField\"]]\n    ) {\n      errors[obj[\"requiredField\"]] = \"Required\";\n    }\n  });\n  requiredFields.forEach(field => {\n    if (!values[field]) {\n      errors[field] = \"Required\";\n    }\n  });\n  if (values.capeAmountOther && !/^\\d+$/i.test(values.capeAmountOther)) {\n    errors.capeAmountOther = \"Please enter a whole dollar amount.\";\n  }\n  if (\n    values.employerType &&\n    (values.employerType.toLowerCase() === \"adult foster home\" ||\n      values.employerType.toLowerCase() === \"retired\" ||\n      values.employerType.toLowerCase() === \"community member\") &&\n    values.paymentType === \"Card\" &&\n    !values.paymentMethodAdded\n  ) {\n    errors.paymentMethodAdded = `Please add a payment method.`;\n  }\n  if (\n    values.homeEmail &&\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.homeEmail)\n  ) {\n    errors.homeEmail = \"Invalid email address (e.g. sample@email.com)\";\n  }\n  if (\n    values.mobilePhone &&\n    !/^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(\n      values.mobilePhone\n    )\n  ) {\n    errors.mobilePhone = \"Invalid phone number (e.g. 555-123-456)\";\n  }\n  if (values.homeZip && values.homeZip.length !== 5) {\n    errors.homeZip = `Must be at exactly 5 characters long`;\n  }\n  return errors;\n};\n","import React from \"react\";\nimport { ReCaptcha } from \"react-recaptcha-v3\";\nimport {\n  Field,\n  reduxForm,\n  getFormValues,\n  getFormSubmitErrors\n} from \"redux-form\";\nimport { connect } from \"react-redux\";\nimport { Translate } from \"react-localize-redux\";\n\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport Button from \"@material-ui/core/Button\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport PropTypes from \"prop-types\";\n\nimport * as formElements from \"./SubmissionFormElements\";\nimport { validate } from \"../utils/validators\";\nimport { scrollToFirstError } from \"../utils\";\n\n// helper functions these MAY NEED TO BE UPDATED with localization package\nconst {\n  stateList,\n  monthList,\n  languageOptions,\n  dateOptions,\n  yearOptions\n} = formElements;\n\nexport const Tab1 = props => {\n  const {\n    onSubmit,\n    classes,\n    employerTypesList,\n    employerList,\n    updateEmployersPicklist,\n    renderSelect,\n    renderTextField,\n    renderCheckbox,\n    formValues,\n    width,\n    verifyCallback\n  } = props;\n\n  return (\n    <div data-test=\"component-tab1\" className={classes.sectionContainer}>\n      <form\n        onSubmit={props.handleSubmit(onSubmit)}\n        id=\"tab2\"\n        className={classes.form}\n      >\n        <div className={classes.formSection}>\n          <Field\n            data-test=\"select-employer-type\"\n            label=\"Employer Type\"\n            name=\"employerType\"\n            id=\"employerType\"\n            type=\"select\"\n            classes={classes}\n            component={renderSelect}\n            options={employerTypesList}\n            onChange={e => updateEmployersPicklist(e)}\n            labelWidth={100}\n          />\n          {formValues.employerType !== \"\" && (\n            <Field\n              labelWidth={104}\n              label=\"Employer Name\"\n              name=\"employerName\"\n              id=\"employerName\"\n              type=\"select\"\n              classes={classes}\n              component={renderSelect}\n              options={employerList}\n            />\n          )}\n          {formValues.employerType &&\n            formValues.employerType.toLowerCase() === \"adult foster home\" && (\n              <Field\n                label=\"Number of Medicaid Residents\"\n                name=\"medicaidResidents\"\n                id=\"medicaidResidents\"\n                type=\"number\"\n                classes={classes}\n                component={renderTextField}\n                InputProps={{\n                  inputProps: { min: 0, max: 9, id: \"medicaidResidents\" }\n                }}\n              />\n            )}\n          <FormGroup row classes={{ root: classes.formGroup2Col }}>\n            <Field\n              twocol\n              mobile={!isWidthUp(\"sm\", width)}\n              label=\"First Name\"\n              name=\"firstName\"\n              id=\"firstName\"\n              type=\"text\"\n              classes={{ input2col: classes.input2col }}\n              component={renderTextField}\n            />\n\n            <Field\n              twocol\n              mobile={!isWidthUp(\"sm\", width)}\n              name=\"lastName\"\n              id=\"lastName\"\n              label=\"Last Name\"\n              classes={{ input2col: classes.input2col }}\n              component={renderTextField}\n              type=\"text\"\n            />\n          </FormGroup>\n\n          <FormLabel className={classes.formLabel} component=\"legend\">\n            <Translate id=\"birthDate\" />\n          </FormLabel>\n          <FormGroup row classes={{ root: classes.formGroup2ColShort }}>\n            <Field\n              label=\"Month\"\n              name=\"mm\"\n              id=\"mm\"\n              type=\"select\"\n              classes={classes}\n              formControlName=\"formControlDate\"\n              component={renderSelect}\n              labelWidth={41}\n              options={monthList}\n            />\n\n            <Field\n              label=\"Day\"\n              name=\"dd\"\n              id=\"dd\"\n              type=\"select\"\n              formControlName=\"formControlDate\"\n              classes={classes}\n              component={renderSelect}\n              labelWidth={24}\n              options={dateOptions(props)}\n            />\n\n            <Field\n              label=\"Year\"\n              name=\"yyyy\"\n              id=\"yyyy\"\n              type=\"select\"\n              formControlName=\"formControlDate\"\n              classes={classes}\n              component={renderSelect}\n              labelWidth={30}\n              options={yearOptions()}\n            />\n          </FormGroup>\n\n          <Field\n            label=\"Preferred Language\"\n            name=\"preferredLanguage\"\n            id=\"preferredLanguage\"\n            type=\"select\"\n            classes={classes}\n            component={renderSelect}\n            labelWidth={132}\n            options={languageOptions}\n          />\n\n          <FormLabel className={classes.formLabel} component=\"legend\">\n            Address\n          </FormLabel>\n\n          <Field\n            label=\"Home Street\"\n            name=\"homeStreet\"\n            id=\"homeStreet\"\n            type=\"text\"\n            classes={classes}\n            component={renderTextField}\n          />\n\n          <FormHelperText className={classes.formHelperText}>\n            <Translate id=\"homeStreetHint\" />\n          </FormHelperText>\n          <FormGroup\n            className={classes.formGroup}\n            row\n            classes={{ root: classes.formGroup2Col }}\n          >\n            <Field\n              label=\"Home City\"\n              name=\"homeCity\"\n              id=\"homeCity\"\n              type=\"text\"\n              twocol\n              mobile={!isWidthUp(\"sm\", width)}\n              classes={classes}\n              component={renderTextField}\n            />\n\n            <Field\n              label=\"Home State\"\n              name=\"homeState\"\n              id=\"homeState\"\n              type=\"select\"\n              short\n              mobile={!isWidthUp(\"sm\", width)}\n              classes={classes}\n              component={renderSelect}\n              options={stateList}\n              labelWidth={80}\n            />\n\n            <Field\n              label=\"Home Zip\"\n              name=\"homeZip\"\n              id=\"homeZip\"\n              short\n              mobile={!isWidthUp(\"sm\", width)}\n              type=\"text\"\n              classes={classes}\n              component={renderTextField}\n            />\n          </FormGroup>\n\n          <Field\n            label=\"Home Email\"\n            name=\"homeEmail\"\n            id=\"homeEmail\"\n            type=\"email\"\n            classes={classes}\n            component={renderTextField}\n          />\n\n          <FormHelperText className={classes.formHelperText}>\n            <Translate id=\"homeEmailHint\" />\n          </FormHelperText>\n          <FormGroup>\n            <Field\n              label=\"Mobile Phone†\"\n              name=\"mobilePhone\"\n              id=\"mobilePhone\"\n              type=\"tel\"\n              classes={classes}\n              component={renderTextField}\n            />\n\n            <FormHelperText className={classes.formHelperText}>\n              <Translate id=\"phoneLegalLanguage\" />\n            </FormHelperText>\n\n            <Field\n              label=\"Opt Out Of Receiving Mobile Alerts\"\n              name=\"textAuthOptOut\"\n              id=\"textAuthOptOut\"\n              type=\"checkbox\"\n              formControlName=\"controlCheckbox\"\n              classes={classes}\n              component={renderCheckbox}\n            />\n          </FormGroup>\n          <ReCaptcha\n            sitekey=\"6LdzULcUAAAAAJ37JEr5WQDpAj6dCcPUn1bIXq2O\"\n            action=\"tab_1_submit\"\n            verifyCallback={verifyCallback}\n          />\n          <div className={classes.buttonWrap}>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              className={classes.next}\n              variant=\"contained\"\n            >\n              Next\n            </Button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nTab1.propTypes = {\n  classes: PropTypes.object,\n  onSubmit: PropTypes.func,\n  employerTypesList: PropTypes.array,\n  employerList: PropTypes.array,\n  updateEmployersPicklist: PropTypes.func,\n  renderSelect: PropTypes.func,\n  renderTextField: PropTypes.func,\n  renderCheckbox: PropTypes.func,\n  formValues: PropTypes.object,\n  width: PropTypes.string,\n  handleTab: PropTypes.func,\n  handleInput: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  submission: state.submission,\n  initialValues: state.submission.formPage1,\n  formValues: getFormValues(\"submissionPage1\")(state) || {},\n  submitErrors: getFormSubmitErrors(\"submissionPage1\")(state)\n});\n\n// add reduxForm to component\nexport const Tab1Form = reduxForm({\n  form: \"submissionPage1\",\n  validate,\n  destroyOnUnmount: false, // <------ preserve form data\n  forceUnregisterOnUnmount: true,\n  enableReinitialize: true,\n  keepDirtyOnReinitialize: true,\n  updateUnregisteredFields: true,\n  onSubmitFail: errors => scrollToFirstError(errors)\n})(Tab1);\n\n// connect to redux store\nexport const Tab1Connected = connect(mapStateToProps)(Tab1Form);\n\nexport default withWidth()(Tab1Connected);\n","import React from \"react\";\nimport { Field } from \"redux-form\";\nimport { reduxForm } from \"redux-form\";\nimport SignatureCanvas from \"react-signature-canvas\";\n\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PropTypes from \"prop-types\";\nimport { Translate } from \"react-localize-redux\";\n\nimport { validate } from \"../utils/validators\";\nimport { scrollToFirstError } from \"../utils\";\n\nexport const Tab2 = props => {\n  const {\n    onSubmit,\n    classes,\n    renderTextField,\n    renderCheckbox,\n    back,\n    legal_language,\n    direct_pay,\n    direct_deposit,\n    sigBox,\n    clearSignature,\n    handleInput,\n    signatureType,\n    toggleSignatureInputType,\n    formValues\n  } = props;\n  // console.log(formValues.employerType);\n  const hcw =\n    formValues.employerType.toLowerCase() ===\n    \"state homecare or personal support\";\n  const afh = formValues.employerType.toLowerCase() === \"adult foster home\";\n  const retiree = formValues.employerType.toLowerCase() === \"retired\";\n  const community =\n    formValues.employerType.toLowerCase() === \"community member\";\n\n  return (\n    <div data-test=\"component-tab2\" className={classes.sectionContainer}>\n      <form\n        onSubmit={props.handleSubmit(onSubmit)}\n        id=\"tab2\"\n        className={classes.form}\n        style={{ paddingTop: 40 }}\n      >\n        <Field\n          formControlName=\"controlCheckbox\"\n          label=\"Agree to Terms of Membership\"\n          name=\"termsAgree\"\n          id=\"termsAgree\"\n          type=\"checkbox\"\n          classes={classes}\n          component={renderCheckbox}\n        />\n        <div\n          className={classes.formHelperTextLegal}\n          id=\"termsOfServiceLegalLanguage\"\n          ref={legal_language}\n        >\n          <p>\n            <Translate id=\"membershipTerms1\" />\n          </p>\n          <p>\n            <Translate\n              id={\n                community || retiree\n                  ? \"nonRepMembershipTerms2\"\n                  : \"membershipTerms2\"\n              }\n            />\n          </p>\n          {!community && !retiree && !afh && (\n            <p>\n              <Translate id=\"membershipTermsMOE\" />\n            </p>\n          )}\n        </div>\n\n        {(hcw || afh || community || retiree) && (\n          <React.Fragment>\n            <Field\n              formControlName=\"controlCheckbox\"\n              data-test=\"checkbox-DPA\"\n              label=\"Direct Pay Authorization\"\n              name=\"directPayAuth\"\n              id=\"directPayAuth\"\n              type=\"checkbox\"\n              classes={classes}\n              component={renderCheckbox}\n            />\n            <div\n              className={classes.formHelperTextLegal}\n              id=\"directPayAuthLegalLanguage\"\n              ref={direct_pay}\n            >\n              {hcw && (\n                <React.Fragment>\n                  <p>\n                    <Translate id=\"hcwDPA1\" />\n                  </p>\n                  <p>\n                    <Translate id=\"hcwDPA2\" />\n                  </p>\n                </React.Fragment>\n              )}\n              {afh && (\n                <React.Fragment>\n                  <p>\n                    <Translate id=\"afhDPA1\" />\n                  </p>\n                  <p>\n                    <Translate id=\"afhDPA2\" />\n                  </p>\n                </React.Fragment>\n              )}\n              {community && (\n                <p>\n                  <Translate id=\"communityDPA1\" />\n                </p>\n              )}\n              {retiree && (\n                <p>\n                  <Translate id=\"retireeDPA1\" />\n                </p>\n              )}\n              <p>\n                <Translate id={afh ? \"afhDPA3\" : \"DPA3\"} />\n              </p>\n              <p>\n                <Translate id=\"DPA_amountChange\" />\n              </p>\n              <p>\n                <Translate id=\"DPA_failToPay\" />\n              </p>\n            </div>\n          </React.Fragment>\n        )}\n        {hcw && (\n          <React.Fragment>\n            <Field\n              formControlName=\"controlCheckbox\"\n              data-test=\"checkbox-DDA\"\n              label=\"Direct Deposit Authorization\"\n              name=\"directDepositAuth\"\n              id=\"directDepositAuth\"\n              type=\"checkbox\"\n              classes={classes}\n              component={renderCheckbox}\n            />\n            <div\n              className={classes.formHelperTextLegal}\n              id=\"directDepositAuthLegalLanguage\"\n              ref={direct_deposit}\n            >\n              <p>\n                <Translate id=\"hcwDDA1\" />\n              </p>\n              <p>\n                <Translate id=\"hcwDDA2\" />\n              </p>\n              <p>\n                <Translate id=\"hcwDDA3\" />\n              </p>\n            </div>\n          </React.Fragment>\n        )}\n        <Typography component=\"h3\" className={classes.fieldLabel}>\n          <Translate id=\"signatureTitle\" />\n        </Typography>\n        {signatureType === \"write\" && (\n          <React.Fragment>\n            <Field\n              label=\"Signature\"\n              data-test=\"input-signature\"\n              name=\"signature\"\n              id=\"signature\"\n              type=\"text\"\n              classes={classes}\n              component={renderTextField}\n            />\n            <FormHelperText className={classes.formHelperText}>\n              <Translate id=\"signatureHint\" />\n            </FormHelperText>\n          </React.Fragment>\n        )}\n        {signatureType === \"draw\" && (\n          <React.Fragment>\n            <div className={classes.sigBox}>\n              <SignatureCanvas\n                ref={sigBox}\n                penColor=\"black\"\n                canvasProps={{\n                  width: 594,\n                  height: 100,\n                  className: \"sigCanvas\"\n                }}\n                backgroundColor=\"rgb(255,255,255)\"\n                label=\"Signature\"\n                name=\"signature\"\n                id=\"signature\"\n                onChange={handleInput}\n              />\n              <Button\n                type=\"button\"\n                onClick={clearSignature}\n                color=\"secondary\"\n                className={classes.clearButton}\n                variant=\"contained\"\n              >\n                Clear Signature\n              </Button>\n            </div>\n            <FormHelperText className={classes.formHelperText}>\n              Draw your signature in the box above.&nbsp;\n              <button\n                type=\"button\"\n                data-test=\"button-sig-toggle\"\n                className={classes.buttonLink}\n                aria-label=\"Change Signature Input Method\"\n                name=\"signatureType\"\n                onClick={() => toggleSignatureInputType()}\n              >\n                Click here to type your signature\n              </button>\n            </FormHelperText>\n          </React.Fragment>\n        )}\n        <div className={classes.buttonWrap}>\n          <Button\n            type=\"button\"\n            data-test=\"button-back\"\n            onClick={() => back(0)}\n            color=\"primary\"\n            className={classes.back}\n            variant=\"contained\"\n          >\n            Back\n          </Button>\n          <Button\n            type=\"submit\"\n            color=\"primary\"\n            className={classes.next}\n            variant=\"contained\"\n          >\n            Next\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nTab2.propTypes = {\n  onSubmit: PropTypes.func,\n  classes: PropTypes.object,\n  renderTextField: PropTypes.func,\n  renderCheckbox: PropTypes.func,\n  handleTab: PropTypes.func,\n  legal_language: PropTypes.object,\n  sigBox: PropTypes.object,\n  clearSignature: PropTypes.func,\n  handleInput: PropTypes.func,\n  formPage1: PropTypes.object,\n  signatureType: PropTypes.string,\n  toggleSignatureInputType: PropTypes.func\n};\n\n// add reduxForm to component\nexport const Tab2Form = reduxForm({\n  form: \"submissionPage1\",\n  validate,\n  destroyOnUnmount: false, // <------ preserve form data\n  forceUnregisterOnUnmount: true,\n  enableReinitialize: true,\n  keepDirtyOnReinitialize: true,\n  updateUnregisteredFields: true,\n  onSubmitFail: errors => scrollToFirstError(errors)\n})(Tab2);\n\nexport default Tab2Form;\n","import React from \"react\";\nimport { Field, reduxForm, getFormValues } from \"redux-form\";\nimport { connect } from \"react-redux\";\nimport Iframe from \"react-iframe\";\nimport PropTypes from \"prop-types\";\nimport { Translate } from \"react-localize-redux\";\n\nimport ButtonWithSpinner from \"./ButtonWithSpinner\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { validate } from \"../utils/validators\";\nimport { onSubmitFailFn } from \"../utils\";\nimport * as formElements from \"./SubmissionFormElements\";\n\nexport const Tab3 = props => {\n  const {\n    onSubmit,\n    classes,\n    loading,\n    iFrameURL,\n    afhDuesRate,\n    back,\n    formValues,\n    formPage1,\n    payment,\n    toggleCardAddingFrame\n  } = props;\n  // console.log(isPaymentRequired(formValues.employerType));\n  let duesCopy = \"\";\n  // console.log(formPage1.paymentType);\n  if (formValues.employerType) {\n    switch (formValues.employerType.toLowerCase()) {\n      case \"adult foster home\":\n        duesCopy = formElements.afhDuesCopy(afhDuesRate);\n        break;\n      case \"retired\":\n        duesCopy = formElements.retireeDuesCopy;\n        break;\n      default:\n        duesCopy = formElements.commDuesCopy;\n    }\n  }\n  const validMethod = !!payment.activeMethodLast4 && !payment.paymentErrorHold;\n\n  return (\n    <div data-test=\"component-tab3\" className={classes.sectionContainer}>\n      <form\n        onSubmit={props.handleSubmit(onSubmit)}\n        id=\"tab3\"\n        className={classes.form}\n      >\n        {formPage1.paymentRequired && (\n          <div className={classes.paymentCopy}>\n            <Typography component=\"p\" className={classes.body}>\n              {duesCopy}\n            </Typography>\n          </div>\n        )}\n        {formValues.employerType &&\n          formValues.employerType.toLowerCase() === \"retired\" && (\n            <Field\n              data-test=\"radio-payment-type\"\n              label=\"How would you like to pay your union dues?\"\n              name=\"paymentType\"\n              formControlName=\"paymentType\"\n              id=\"paymentType\"\n              direction=\"horiz\"\n              className={classes.horizRadio}\n              classes={classes}\n              component={formElements.renderRadioGroup}\n              options={formElements.paymentTypes}\n            />\n          )}\n        {formPage1.paymentRequired &&\n          formPage1.paymentType === \"Card\" &&\n          validMethod && (\n            <div data-test=\"component-choose-card\">\n              <Typography component=\"p\" className={classes.body}>\n                <Translate id=\"existingPaymentMethod\">\n                  Your existing payment method on file is the card ending in\n                </Translate>{\" \"}\n                {payment.activeMethodLast4}.\n              </Typography>\n              <Field\n                data-test=\"radio-which-card\"\n                label=\"Do you want to use the existing card or add a new one?\"\n                name=\"whichCard\"\n                formControlName=\"whichCard\"\n                id=\"whichCard\"\n                direction=\"horiz\"\n                className={classes.horizRadio}\n                legendClass={classes.horizRadioBold}\n                classes={classes}\n                defaultItem=\"Use existing\"\n                additionalOnChange={toggleCardAddingFrame}\n                component={formElements.renderRadioGroup}\n                options={[\"Use existing\", \"Add new card\"]}\n              />\n            </div>\n          )}\n        {iFrameURL &&\n          formPage1.paymentType === \"Card\" &&\n          formPage1.newCardNeeded &&\n          formPage1.paymentRequired && (\n            <div data-test=\"component-iframe\">\n              <Typography component=\"h2\" className={classes.head}>\n                <Translate id=\"addPayment\">Add a payment method</Translate>\n              </Typography>\n              <div className={classes.iframeWrap}>\n                <Iframe\n                  url={iFrameURL}\n                  width=\"100%\"\n                  height=\"100px\"\n                  id=\"iFrame\"\n                  className={classes.iframe}\n                  display=\"initial\"\n                  position=\"relative\"\n                />\n              </div>\n            </div>\n          )}\n        {formPage1.paymentType === \"Check\" && (\n          <div className={classes.paymentCopy}>\n            <Typography component=\"h2\" className={classes.head}>\n              <Translate id=\"payByCheck1\">To pay your dues by check:</Translate>\n            </Typography>\n            <Typography component=\"p\" className={classes.body}>\n              <Translate id=\"payByCheck2\">\n                Please mail your payment of $5 (monthly) or $60 (annually) to\n                SEIU Local 503, PO Box 12159, Salem, OR 97309. Please write\n                'Retiree Dues' on your check. Dues are set by the SEIU Local 503\n                bylaws.\n              </Translate>\n            </Typography>\n          </div>\n        )}\n        <div className={classes.buttonWrapTab3}>\n          <Button\n            type=\"button\"\n            data-test=\"button-back\"\n            onClick={() => back(1)}\n            color=\"primary\"\n            className={classes.back}\n            variant=\"contained\"\n          >\n            <Translate id=\"back\">Back</Translate>\n          </Button>\n        </div>\n\n        <ButtonWithSpinner\n          type=\"submit\"\n          color=\"primary\"\n          className={classes.formButton}\n          variant=\"contained\"\n          loading={loading}\n        >\n          <Translate id=\"submitButton\">Submit</Translate>\n        </ButtonWithSpinner>\n      </form>\n    </div>\n  );\n};\n\nTab3.propTypes = {\n  onSubmit: PropTypes.func,\n  classes: PropTypes.object,\n  reCaptchaChange: PropTypes.func,\n  reCaptchaRef: PropTypes.object,\n  loading: PropTypes.bool,\n  pristine: PropTypes.bool,\n  invalid: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  submission: state.submission,\n  initialValues: state.submission.formPage1,\n  formValues: getFormValues(\"submissionPage1\")(state) || {}\n});\n\n// add reduxForm to component\nexport const Tab3Form = reduxForm({\n  form: \"submissionPage1\",\n  validate,\n  destroyOnUnmount: false,\n  forceUnregisterOnUnmount: false,\n  enableReinitialize: true,\n  keepDirtyOnReinitialize: true,\n  updateUnregisteredFields: true,\n  onSubmitFail: onSubmitFailFn\n})(Tab3);\n\n// connect to redux store\nexport const Tab3Connected = connect(mapStateToProps)(Tab3Form);\n\nexport default Tab3Connected;\n","import React from \"react\";\nimport { Field, reduxForm, getFormValues } from \"redux-form\";\nimport { connect } from \"react-redux\";\nimport Iframe from \"react-iframe\";\nimport { ReCaptcha } from \"react-recaptcha-v3\";\nimport { Translate } from \"react-localize-redux\";\n\nimport ButtonWithSpinner from \"./ButtonWithSpinner\";\nimport Button from \"@material-ui/core/Button\";\nimport * as formElements from \"./SubmissionFormElements\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport FormatQuote from \"@material-ui/icons/FormatQuote\";\n\nimport headshot from \"../img/deffo_mebrat_300.png\";\n\nimport PropTypes from \"prop-types\";\n\nimport { capeValidate } from \"../utils/validators\";\nimport { scrollToFirstError } from \"../utils\";\n\n// change to class component and add getDJRRate on componentDidMount for standalone prefills (only needed for prefill with contact id AND !checkoff)\n// if standalone blank slate skip DJR call, just require payment by default if !checkoff\n\nexport const CAPE = props => {\n  const {\n    handleCAPESubmit,\n    classes,\n    loading,\n    iFrameURL,\n    back,\n    checkoff,\n    formValues,\n    formPage1,\n    payment,\n    width,\n    renderSelect,\n    renderTextField,\n    renderCheckbox,\n    toggleCardAddingFrame,\n    suggestedAmountOnChange,\n    standAlone,\n    verifyCallback,\n    employerTypesList,\n    updateEmployersPicklist,\n    employerList,\n    cape_legal\n  } = props;\n  // console.log(handleCAPESubmit);\n  const validMethod = !!payment.activeMethodLast4 && !payment.paymentErrorHold;\n\n  return (\n    <div data-test=\"component-cape\" className={classes.sectionContainer}>\n      <form\n        onSubmit={props.handleSubmit(() => handleCAPESubmit(standAlone))}\n        id=\"CAPE\"\n        className={classes.form}\n      >\n        <div className={classes.paymentCopy}>\n          <Typography component=\"h2\" className={classes.head}>\n            <Translate id=\"capeHeadline\">\n              Contribute to CAPE: Citizen Action for Political Education\n            </Translate>\n          </Typography>\n          <Typography component=\"p\" className={classes.subhead}>\n            <Translate id=\"capeSubhead\">\n              Collective political action to raise wages, protect benefits, fund\n              public services, and build strong communities.\n            </Translate>\n          </Typography>\n          <Typography component=\"p\" className={classes.body}>\n            <Translate id=\"capeBody1\">\n              When workers unite, legislators listen. In 2019, SEIU Local 503\n              CAPE advocacy led to historic wins:\n            </Translate>\n          </Typography>\n          <ul className={classes.ul}>\n            <li className={classes.li}>\n              <Translate id=\"capeBullet1\">\n                Funding for raises and benefits for state employees and homecare\n                workers are double what they were in the last budget, setting\n                members up for strong contracts\n              </Translate>\n            </li>\n            <li className={classes.li}>\n              <Translate id=\"capeBullet2\">\n                Oregon passed the strongest Paid Family and Medical Leave law in\n                the nation\n              </Translate>\n            </li>\n            <li className={classes.li}>\n              <Translate id=\"capeBullet3\">\n                Our state became the first in the U.S. to pass statewide rent\n                stabilization and ban no-cause evictions\n              </Translate>\n            </li>\n          </ul>\n          <Card className={classes.card}>\n            <div className={classes.details}>\n              <CardContent className={classes.content}>\n                <Typography\n                  component=\"h5\"\n                  variant=\"h5\"\n                  className={classes.cardHead}\n                >\n                  <Translate id=\"capeCardHead\">Join us</Translate>\n                </Typography>\n                <div style={{ position: \"relative\" }}>\n                  <FormatQuote\n                    style={{\n                      color: \"#531078\",\n                      transform: \"scaleX(-1)\",\n                      position: \"absolute\",\n                      top: -3,\n                      left: -5,\n                      opacity: 0.8\n                    }}\n                  />\n                  <Typography component=\"p\" className={classes.pullQuote}>\n                    <Translate id=\"capePullQuote\">\n                      I can’t write big checks. But I contribute what I can each\n                      month to CAPE. And when we put all of our resources\n                      together, we have shown we can elect legislators in Oregon\n                      who will fight for working families and our clients.\n                    </Translate>\n                  </Typography>\n                  <FormatQuote\n                    style={{\n                      color: \"#531078\",\n                      position: \"absolute\",\n                      bottom: 5,\n                      right: -10,\n                      opacity: 0.8\n                    }}\n                  />\n                </div>\n                <Typography component=\"p\" className={classes.quoteAttr}>\n                  <Translate id=\"capeQuoteAttr\">\n                    &mdash;Deffo Mebrat, Adult Foster Care Provider\n                  </Translate>\n                </Typography>\n              </CardContent>\n            </div>\n            <CardMedia\n              className={classes.cover}\n              image={headshot}\n              title=\"Deffo Mebrat\"\n            />\n          </Card>\n        </div>\n        <div className={classes.paymentCopy}>\n          <Typography component=\"h2\" className={classes.head}>\n            <Translate id=\"capePaymentHead\">\n              Make your contribution today\n            </Translate>\n          </Typography>\n          <div className={classes.suggestedAmounts}>\n            <div className={classes.suggestedAmountBoxes}>\n              <Field\n                data-test=\"radio-cape-amount\"\n                label=\"Monthly donation amount\"\n                name=\"capeAmount\"\n                formControlName=\"capeAmount\"\n                id=\"capeAmount\"\n                direction=\"horiz\"\n                className={classes.horizRadio}\n                classes={classes}\n                component={formElements.renderCAPERadioGroup}\n                options={[10, 13, 15, \"Other\"]}\n                additionalOnChange={suggestedAmountOnChange}\n              />\n            </div>\n          </div>\n        </div>\n        {formValues.capeAmount === \"Other\" && (\n          <Field\n            data-test=\"field-other-amount\"\n            label=\"Monthly Donation Amount\"\n            name=\"capeAmountOther\"\n            id=\"capeAmountOther\"\n            type=\"number\"\n            inputProps={{ min: 1 }}\n            classes={classes}\n            component={renderTextField}\n          />\n        )}\n        {standAlone && (\n          <div data-test=\"form-contact-info\">\n            <FormGroup row classes={{ root: classes.formGroup2Col }}>\n              <Field\n                twocol\n                mobile={!isWidthUp(\"sm\", width)}\n                label=\"First Name\"\n                name=\"firstName\"\n                id=\"firstName\"\n                type=\"text\"\n                classes={{ input2col: classes.input2col }}\n                component={renderTextField}\n              />\n\n              <Field\n                twocol\n                mobile={!isWidthUp(\"sm\", width)}\n                name=\"lastName\"\n                id=\"lastName\"\n                label=\"Last Name\"\n                classes={{ input2col: classes.input2col }}\n                component={renderTextField}\n                type=\"text\"\n              />\n            </FormGroup>\n\n            <FormLabel className={classes.formLabel} component=\"legend\">\n              Address\n            </FormLabel>\n\n            <Field\n              label=\"Home Street\"\n              name=\"homeStreet\"\n              id=\"homeStreet\"\n              type=\"text\"\n              classes={classes}\n              component={renderTextField}\n            />\n            <FormGroup\n              className={classes.formGroup}\n              row\n              classes={{ root: classes.formGroup2Col }}\n            >\n              <Field\n                label=\"Home City\"\n                name=\"homeCity\"\n                id=\"homeCity\"\n                type=\"text\"\n                twocol\n                mobile={!isWidthUp(\"sm\", width)}\n                classes={classes}\n                component={renderTextField}\n              />\n\n              <Field\n                label=\"Home State\"\n                name=\"homeState\"\n                id=\"homeState\"\n                type=\"select\"\n                short\n                mobile={!isWidthUp(\"sm\", width)}\n                classes={classes}\n                component={renderSelect}\n                options={formElements.stateList}\n                labelWidth={80}\n              />\n\n              <Field\n                label=\"Home Zip\"\n                name=\"homeZip\"\n                id=\"homeZip\"\n                short\n                mobile={!isWidthUp(\"sm\", width)}\n                type=\"text\"\n                classes={classes}\n                component={renderTextField}\n              />\n            </FormGroup>\n\n            <Field\n              label=\"Home Email\"\n              name=\"homeEmail\"\n              id=\"homeEmail\"\n              type=\"email\"\n              classes={classes}\n              component={renderTextField}\n            />\n\n            <FormHelperText className={classes.formHelperText}>\n              <Translate id=\"homeEmailHint\" />\n            </FormHelperText>\n            <FormGroup>\n              <Field\n                label=\"Mobile Phone†\"\n                name=\"mobilePhone\"\n                id=\"mobilePhone\"\n                type=\"tel\"\n                classes={classes}\n                component={renderTextField}\n              />\n\n              <FormHelperText className={classes.formHelperText}>\n                <Translate id=\"phoneLegalLanguage\" />\n              </FormHelperText>\n\n              <Field\n                label=\"Opt Out Of Receiving Mobile Alerts\"\n                name=\"textAuthOptOut\"\n                id=\"textAuthOptOut\"\n                type=\"checkbox\"\n                formControlName=\"controlCheckbox\"\n                classes={classes}\n                component={renderCheckbox}\n              />\n            </FormGroup>\n\n            <Field\n              data-test=\"select-employer-type\"\n              label=\"Employer Type\"\n              name=\"employerType\"\n              id=\"employerType\"\n              type=\"select\"\n              classes={classes}\n              component={renderSelect}\n              options={employerTypesList}\n              onChange={e => updateEmployersPicklist(e)}\n              labelWidth={100}\n            />\n            {formValues.employerType !== \"\" && (\n              <Field\n                labelWidth={104}\n                label=\"Employer Name\"\n                name=\"employerName\"\n                id=\"employerName\"\n                type=\"select\"\n                classes={classes}\n                component={renderSelect}\n                options={employerList}\n              />\n            )}\n          </div>\n        )}\n        <Field\n          label=\"Job Title\"\n          name=\"jobTitle\"\n          id=\"jobTitle\"\n          type=\"text\"\n          classes={classes}\n          component={renderTextField}\n        />\n        {formPage1.paymentRequired &&\n          formPage1.paymentType === \"Card\" &&\n          validMethod && (\n            <div data-test=\"component-choose-card\">\n              <Typography component=\"p\" className={classes.body}>\n                <Translate id=\"existingPaymentMethod\">\n                  Your existing payment method on file is the card ending in\n                </Translate>{\" \"}\n                {payment.activeMethodLast4}.\n              </Typography>\n              <Field\n                data-test=\"radio-which-card\"\n                label=\"Do you want to use the existing card or add a new one?\"\n                name=\"whichCard\"\n                formControlName=\"whichCard\"\n                id=\"whichCard\"\n                direction=\"horiz\"\n                className={classes.horizRadio}\n                legendClass={classes.horizRadioBold}\n                classes={classes}\n                defaultItem=\"Use existing\"\n                additionalOnChange={toggleCardAddingFrame}\n                component={formElements.renderRadioGroup}\n                options={[\"Use existing\", \"Add new card\"]}\n              />\n            </div>\n          )}\n        {iFrameURL && formPage1.newCardNeeded && formPage1.paymentRequired && (\n          <div data-test=\"component-iframe\">\n            <Typography component=\"h2\" className={classes.head}>\n              <Translate id=\"addPayment\">Add a payment method</Translate>\n            </Typography>\n            <div className={classes.iframeWrap}>\n              <Iframe\n                url={iFrameURL}\n                width=\"100%\"\n                height=\"100px\"\n                id=\"iFrame\"\n                className={classes.iframe}\n                display=\"initial\"\n                position=\"relative\"\n              />\n            </div>\n          </div>\n        )}\n        <div className={classes.legalCopy} ref={cape_legal}>\n          <p>\n            <Translate\n              id={checkoff ? \"capeLegalCheckoff1\" : \"capeLegalStripe1\"}\n            />\n          </p>\n          <p>\n            <Translate id=\"capeLegal2\" />\n          </p>\n          <p>\n            <Translate id=\"capeLegal3\" />\n          </p>\n          <p>\n            <Translate id=\"capeLegal4\" />\n          </p>\n          <p>\n            <Translate id=\"capeLegal5\" />\n          </p>\n          <p>\n            <Translate id=\"capeLegal6\" />\n          </p>\n        </div>\n        {standAlone && (\n          <ReCaptcha\n            sitekey=\"6LdzULcUAAAAAJ37JEr5WQDpAj6dCcPUn1bIXq2O\"\n            action=\"standalone_cape_submit\"\n            verifyCallback={verifyCallback}\n          />\n        )}\n        {!standAlone && (\n          <div className={classes.buttonWrapTab3}>\n            <Button\n              type=\"button\"\n              data-test=\"button-back\"\n              onClick={() => back(1)}\n              color=\"primary\"\n              className={classes.back}\n              variant=\"contained\"\n            >\n              <Translate id=\"back\">Back</Translate>\n            </Button>\n          </div>\n        )}\n        <ButtonWithSpinner\n          type=\"submit\"\n          color=\"primary\"\n          className={classes.formButton}\n          variant=\"contained\"\n          loading={loading}\n        >\n          <Translate id=\"submitButton\">Submit</Translate>\n        </ButtonWithSpinner>\n      </form>\n    </div>\n  );\n};\n\nCAPE.propTypes = {\n  onSubmit: PropTypes.func,\n  classes: PropTypes.object,\n  verifyCallback: PropTypes.func,\n  loading: PropTypes.bool,\n  pristine: PropTypes.bool,\n  invalid: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  submission: state.submission,\n  initialValues: state.submission.formPage1,\n  formValues: getFormValues(\"submissionPage1\")(state) || {}\n});\n\n// add reduxForm to component\nexport const CAPEForm = reduxForm({\n  form: \"submissionPage1\",\n  validate: capeValidate,\n  destroyOnUnmount: false,\n  forceUnregisterOnUnmount: true, // <------ unregister fields on unmount\n  enableReinitialize: true,\n  keepDirtyOnReinitialize: true,\n  updateUnregisteredFields: true,\n  onSubmitFail: errors => scrollToFirstError(errors)\n})(CAPE);\n\n// connect to redux store\nexport const CAPEConnected = connect(mapStateToProps)(CAPEForm);\n\nexport default withWidth()(CAPEConnected);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport queryString from \"query-string\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n// import sanitizeHtml from \"sanitize-html\";\nimport { Translate } from \"react-localize-redux\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Card from \"@material-ui/core/Card\";\nimport Button from \"@material-ui/core/Button\";\n\nimport * as apiContentActions from \"../store/actions/apiContentActions\";\nimport { defaultWelcomeInfo } from \"../utils/index\";\nimport welcomeInfo from \"../translations/welcomeInfo.json\";\nimport SamplePhoto from \"../img/sample-form-photo.jpg\";\n\nconst styles = theme => ({\n  root: {\n    [theme.breakpoints.up(\"lg\")]: {\n      margin: 0\n    },\n    margin: \"40px 0 0 0\",\n    color: theme.palette.primary.main,\n    [theme.breakpoints.only(\"xs\")]: {\n      margin: 0\n    }\n  },\n  body: {\n    color: \"black\"\n  },\n  headline: {\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"1.7rem\"\n    }\n  },\n  media: {\n    height: \"auto\",\n    paddingTop: \"56.25%\", // 16:9,\n    position: \"relative\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\"\n    },\n    [theme.breakpoints.only(\"xs\")]: {\n      margin: \"-24px -20px 0 -20px\"\n    }\n  },\n  welcomeCard: {\n    maxWidth: 600,\n    margin: \"0 auto\",\n    padding: 20\n  },\n  buttonWrap: {\n    width: \"100%\",\n    paddingRight: 20,\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  },\n  next: {\n    textTransform: \"none\",\n    fontSize: \"1.3rem\",\n    padding: \"6px 20px\",\n    color: theme.palette.secondary.main,\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.light\n    }\n  }\n});\n\nexport class WelcomeInfoUnconnected extends React.Component {\n  classes = this.props.classes;\n  constructor(props) {\n    super(props);\n    this.state = {\n      headline: {\n        text: defaultWelcomeInfo.headline,\n        id: 0\n      },\n      body: {\n        text: defaultWelcomeInfo.body,\n        id: 0\n      },\n      image: null\n    };\n  }\n\n  componentDidMount() {\n    const values = queryString.parse(this.props.location.search);\n    // if find contact id, call API to fetch contact info for prefill\n    if (values.h || values.b || values.i) {\n      const { h, i, b } = values;\n      let idArray = [h, i, b];\n      const queryIds = idArray.filter(id => (id ? id : null));\n      queryIds.forEach(id => {\n        this.props.apiContent\n          .getContentById(id)\n          .then(result => {\n            if (!result || result.payload.message) {\n              console.log(\n                result.payload.message ||\n                  \"there was an error loading the content\"\n              );\n            } else {\n              switch (result.payload.content_type) {\n                case \"headline\":\n                  return this.setState({\n                    headline: {\n                      text: result.payload.content,\n                      id: id\n                    }\n                  });\n                case \"bodyCopy\":\n                  return this.setState({\n                    body: {\n                      text: result.payload.content,\n                      id: id\n                    }\n                  });\n                case \"image\":\n                  return this.setState({\n                    image: {\n                      text: result.payload.content,\n                      id: id\n                    }\n                  });\n                default:\n                  break;\n              }\n            }\n          })\n          .catch(err => {\n            // console.log(err);\n          });\n      });\n    }\n  }\n\n  renderBodyCopy = id => {\n    // sample spanish translations in bodyCopy0_xx and headline0 keys\n    // (in /translations/welcomeInfo.json) are for testing only and\n    // should be replaced with better translations when we get them\n    let paragraphIds = [];\n    // find all paragraphs belonging to this bodyCopy id\n    Object.keys(welcomeInfo).forEach(key => {\n      if (key.includes(`bodyCopy${id}`)) {\n        paragraphIds.push(key);\n      }\n    });\n    // for each paragraph selected, generate translated text\n    // in appropriate language rendered inside a <p> tag\n    const paragraphs = (\n      <React.Fragment>\n        {paragraphIds.map((id, index) => (\n          <p key={id}>\n            <Translate id={id} />\n          </p>\n        ))}\n      </React.Fragment>\n    );\n    // wrap in MUI typography element and return\n    return (\n      <Typography\n        variant=\"body1\"\n        component=\"div\"\n        align=\"left\"\n        gutterBottom\n        className={this.classes.body}\n        data-test=\"body\"\n      >\n        {paragraphs}\n      </Typography>\n    );\n  };\n\n  render() {\n    if (this.props.appState.loading) {\n      return <div>loading...</div>;\n    }\n    return (\n      <div className={this.classes.root} data-test=\"component-welcome-info\">\n        <Card className={this.classes.welcomeCard}>\n          <CardMedia\n            className={this.classes.media}\n            title=\"Welcome Photo\"\n            alt=\"Welcome Photo\"\n            image={this.state.image ? this.state.image.text : SamplePhoto}\n          />\n\n          <Typography\n            variant=\"h3\"\n            align=\"left\"\n            gutterBottom\n            className={this.classes.headline}\n            style={{ paddingTop: 20 }}\n            data-test=\"headline\"\n          >\n            <Translate id={`headline${this.state.headline.id}`} />\n          </Typography>\n          {this.renderBodyCopy(this.state.body.id)}\n          <div className={this.classes.buttonWrap}>\n            <Button\n              type=\"button\"\n              onClick={() => this.props.handleTab(0)}\n              color=\"primary\"\n              className={this.classes.next}\n              variant=\"contained\"\n            >\n              <Translate id=\"next\">Next</Translate>\n            </Button>\n          </div>\n        </Card>\n      </div>\n    );\n  }\n}\n\nWelcomeInfoUnconnected.propTypes = {\n  classes: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  appState: state.appState\n});\n\nconst mapDispatchToProps = dispatch => ({\n  apiContent: bindActionCreators(apiContentActions, dispatch)\n});\n\nexport default withStyles(styles)(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(WelcomeInfoUnconnected)\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport queryString from \"query-string\";\n\nimport withWidth from \"@material-ui/core/withWidth\";\n\nimport { withLocalize } from \"react-localize-redux\";\nimport * as formElements from \"./SubmissionFormElements\";\nimport NavTabs from \"./NavTabs\";\nimport Tab1Form from \"./Tab1\";\nimport Tab2Form from \"./Tab2\";\nimport Tab3Form from \"./Tab3\";\nimport CAPEForm from \"./CAPE\";\nimport WelcomeInfo from \"./WelcomeInfo\";\n\n// helper functions these MAY NEED TO BE UPDATED with localization package\nconst { employerTypeMap, getKeyByValue } = formElements;\n\nexport class SubmissionFormPage1Component extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      signatureType: \"draw\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  sigBox = {};\n  componentDidMount() {\n    // API call to SF to populate employers picklist\n    this.props.apiSF\n      .getSFEmployers()\n      .then(result => {\n        // console.log(result.payload);\n        this.loadEmployersPicklist();\n      })\n      .catch(err => {\n        // console.log(err);\n        this.props.handleError(err);\n      });\n    // add event listener to listen for iframe message\n    // to confirm payment method added\n    window.addEventListener(\"message\", this.receiveMessage, false);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.submission.employerNames.length < 3) {\n      this.loadEmployersPicklist();\n    }\n    if (document.body.getAttribute(\"iframeListener\") !== \"true\") {\n      window.addEventListener(\"message\", this.receiveMessage, false);\n    }\n  }\n\n  // check for messages from iframe\n  receiveMessage = event => {\n    // Do we trust the sender of this message?\n    // ******* This will need to be changed to the\n    // unioni.se prod url in production **********\n    if (event.origin !== \"https://lab.unioni.se\") {\n      return;\n    }\n\n    if (event.data.notification.type === \"success\") {\n      this.props.apiSubmission.handleInput({\n        target: { name: \"paymentMethodAdded\", value: true }\n      });\n    }\n  };\n\n  // reusable MUI form components\n  renderTextField = formElements.renderTextField;\n  renderSelect = formElements.renderSelect;\n  renderCheckbox = formElements.renderCheckbox;\n\n  loadEmployersPicklist = () => {\n    // generate initial picklist of employer types by manipulating data\n    // from redux store to replace with more user-friendly names\n    const employerTypesListRaw = this.props.submission.employerObjects\n      ? this.props.submission.employerObjects.map(employer => {\n          if (employer.Name === \"Community Members\") {\n            return \"Community Members\";\n          } else {\n            return employer.Sub_Division__c;\n          }\n        })\n      : [\"\"];\n    const employerTypesCodes = [...new Set(employerTypesListRaw)] || [\"\"];\n    const employerTypesList = employerTypesCodes.map(code =>\n      employerTypeMap[code] ? employerTypeMap[code] : \"\"\n    ) || [\"\"];\n    employerTypesList.unshift(\"\");\n    // console.log(employerTypesList);\n    return employerTypesList;\n  };\n\n  updateEmployersPicklist = () => {\n    let employerObjects = this.props.submission.employerObjects || [\n      { Name: \"\", Sub_Division__c: \"\" }\n    ];\n\n    // get the value of the employer type selected by user\n    let employerTypeUserSelect = \"\";\n    if (Object.keys(this.props.formValues).length) {\n      employerTypeUserSelect = this.props.formValues.employerType;\n    } else {\n      // console.log(\"no formValues in props\");\n    }\n\n    // console.log(employerTypeUserSelect);\n    const employerTypesList = this.loadEmployersPicklist();\n    // if picklist finished populating and user has selected employer type,\n    // filter the employer names list to return only names in that category\n    if (employerTypesList.length > 1 && employerTypeUserSelect !== \"\") {\n      const employerObjectsFiltered = employerTypeUserSelect\n        ? employerObjects.filter(\n            employer =>\n              employer.Sub_Division__c ===\n              getKeyByValue(employerTypeMap, employerTypeUserSelect)\n          )\n        : [{ Name: \"\" }];\n      let employerList = employerObjectsFiltered.map(employer => employer.Name);\n      if (\n        employerTypeUserSelect &&\n        employerTypeUserSelect.toLowerCase() === \"community member\"\n      ) {\n        employerList = [\"Community Member\"];\n      }\n      employerList.unshift(\"\");\n\n      // set value of employer name field for single-child employer types\n      if (\n        employerTypeUserSelect &&\n        employerTypeUserSelect.toLowerCase() === \"retired\"\n      ) {\n        this.props.formValues.employerName = \"Retirees\";\n      }\n      if (\n        employerTypeUserSelect &&\n        employerTypeUserSelect.toLowerCase() === \"adult foster home\"\n      ) {\n        this.props.formValues.employerName = \"Adult Foster Care\";\n      }\n      if (\n        employerTypeUserSelect &&\n        employerTypeUserSelect.toLowerCase() === \"child care\"\n      ) {\n        this.props.formValues.employerName = \"Family Child Care\";\n      }\n      if (\n        employerTypeUserSelect &&\n        employerTypeUserSelect.toLowerCase() === \"community member\"\n      ) {\n        this.props.formValues.employerName = \"Community Member\";\n      }\n      return employerList;\n    }\n  };\n\n  async updateSubmission() {\n    // console.log(\"updateSubmission\");\n    this.props.actions.setSpinner();\n    const id = this.props.submission.submissionId;\n    const { formPage1, payment } = this.props.submission;\n    const updates = {\n      payment_type: formPage1.paymentType,\n      payment_method_added: formPage1.paymentMethodAdded,\n      medicaid_residents: formPage1.medicaidResidents,\n      card_adding_url: payment.cardAddingUrl,\n      member_id: payment.memberId,\n      stripe_customer_id: payment.stripeCustomerId,\n      member_short_id: payment.memberShortId\n    };\n    // console.log(updates);\n    this.props.apiSubmission\n      .updateSubmission(id, updates)\n      .then(result => {\n        // console.log(result.type);\n        if (\n          result.type === \"UPDATE_SUBMISSION_FAILURE\" ||\n          this.props.submission.error\n        ) {\n          // console.log(this.props.submission.error);\n          return this.props.handleError(this.props.submission.error);\n        }\n        // console.log(result.type);\n      })\n      .catch(err => {\n        // console.log(err);\n        return this.props.handleError(err);\n      });\n  }\n\n  async createSFOMA() {\n    // console.log(\"createSFOMA\");\n    this.props.actions.setSpinner();\n    const { formValues } = this.props;\n    const body = await this.props.generateSubmissionBody(formValues);\n    body.Worker__c = this.props.submission.salesforceId;\n    this.props.apiSF\n      .createSFOMA(body)\n      .then(result => {\n        // console.log(result.type);\n        if (\n          result.type === \"CREATE_SF_OMA_FAILURE\" ||\n          this.props.submission.error\n        ) {\n          // console.log(this.props.submission.error);\n          this.props.saveSubmissionErrors(\n            this.props.submission.submissionId,\n            \"createSFOMA\",\n            this.props.submission.error\n          );\n          return this.props.handleError(this.props.submission.error);\n        }\n      })\n      .catch(err => {\n        // console.log(err);\n        this.props.saveSubmissionErrors(\n          this.props.submission.submissionId,\n          \"createSFOMA\",\n          err\n        );\n        return this.props.handleError(err);\n      });\n  }\n\n  async createOrUpdateSFDJR() {\n    this.props.actions.setSpinner();\n    // console.log(\"createOrUpdateSFDJR\");\n\n    const { formPage1, payment } = this.props.submission;\n\n    const id = this.props.submission.djrId;\n\n    const paymentMethod =\n      formPage1.paymentType === \"Check\" ? \"Paper Check\" : \"Unionise\";\n    const body = {\n      Worker__c: this.props.submission.salesforceId,\n      Payment_Method__c: paymentMethod,\n      AFH_Number_of_Residents__c: formPage1.medicaidResidents,\n      Unioni_se_MemberID__c: payment.memberShortId,\n      Active_Account_Last_4__c: payment.activeMethodLast4\n    };\n\n    // create a new record if one doesn't exist, OR\n    // if existing DJR record is for a different employer\n\n    // console.log(`formPage1.employerId: ${formPage1.employerId}`);\n    // console.log(`payment.djrEmployerId: ${payment.djrEmployerId}`);\n    // console.log(\"if these dont match then create a new record\");\n    // check if DJR employer matches employer submitted on form\n    // if no match, create new DJR even if already have id\n    if (!id || formPage1.employerId !== payment.djrEmployerId) {\n      // create new SFDJR record\n      // console.log(\"createSFDJR\");\n      // console.log(body);\n      return this.props.apiSF\n        .createSFDJR(body)\n        .then(result => {\n          // console.log(result.type);\n          if (\n            result.type === \"CREATE_SF_DJR_FAILURE\" ||\n            this.props.submission.error\n          ) {\n            // console.log(this.props.submission.error);\n            this.props.saveSubmissionErrors(\n              this.props.submission.submissionId,\n              \"createSFDJR\",\n              this.props.submission.error\n            );\n            return this.props.handleError(this.props.submission.error);\n          }\n        })\n        .catch(err => {\n          // console.log(err);\n          this.props.saveSubmissionErrors(\n            this.props.submission.submissionId,\n            \"createSFDJR\",\n            err\n          );\n          return this.props.handleError(err);\n        });\n    }\n\n    // if id exists and employer matches, update existing DJR record\n    // console.log(\"updateSFDJR\");\n    body.Id = id;\n    delete body.Worker__c;\n    // console.log(\"updateSFDJR\");\n    // console.log(body);\n    return this.props.apiSF\n      .updateSFDJR(id, body)\n      .then(result => {\n        // console.log(result.type);\n        if (\n          result.type === \"UPDATE_SF_DJR_FAILURE\" ||\n          this.props.submission.error\n        ) {\n          // console.log(this.props.submission.error);\n          this.props.saveSubmissionErrors(\n            this.props.submission.submissionId,\n            \"updateSFDJR\",\n            this.props.submission.error\n          );\n          return this.props.handleError(this.props.submission.error);\n        }\n      })\n      .catch(err => {\n        // console.log(err);\n        this.props.saveSubmissionErrors(\n          this.props.submission.submissionId,\n          \"updateSFDJR\",\n          err\n        );\n        return this.props.handleError(err);\n      });\n  }\n\n  async handleSubmit(formValues) {\n    // console.log(\"handleSubmit\");\n    this.props.actions.setSpinner();\n\n    await this.props\n      .verifyRecaptchaScore()\n      .then(score => {\n        // console.log(`score: ${score}`);\n        if (!score || score <= 0.5) {\n          console.log(`recaptcha failed: ${score}`);\n          return this.props.handleError(\n            \"ReCaptcha validation failed, please reload the page and try again.\"\n          );\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n    const validMethod =\n      !!this.props.submission.payment.activeMethodLast4 &&\n      !this.props.submission.payment.paymentErrorHold;\n    if (validMethod) {\n      // console.log('validMethod');\n      this.props.apiSubmission.handleInput({\n        target: { name: \"paymentMethodAdded\", value: true }\n      });\n    }\n\n    if (\n      this.props.submission.formPage1.paymentRequired &&\n      this.props.submission.formPage1.paymentType === \"Card\" &&\n      !this.props.submission.formPage1.paymentMethodAdded\n    ) {\n      // console.log(\"No payment method added\");\n      return this.props.handleError(\n        \"Please click 'Add a Card' to add a payment method\"\n      );\n    }\n\n    return Promise.all([\n      this.updateSubmission(),\n      this.createSFOMA(),\n      this.createOrUpdateSFDJR()\n    ])\n      .then(() => {\n        // redirect to CAPE tab\n        if (!this.props.submission.error) {\n          this.props.handleTab(this.props.howManyTabs - 1);\n        } else {\n          this.props.saveSubmissionErrors(\n            this.props.submission.submissionId,\n            \"handleSubmit\",\n            this.props.submission.error\n          );\n          this.props.handleError(this.props.submission.error);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        this.props.saveSubmissionErrors(\n          this.props.submission.submissionId,\n          \"handleSubmit\",\n          err\n        );\n        this.props.handleError(err);\n      });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const employerTypesList = this.loadEmployersPicklist() || [\n      { Name: \"\", Sub_Division__c: \"\" }\n    ];\n    const employerList = this.updateEmployersPicklist() || [\"\"];\n    const values = queryString.parse(this.props.location.search);\n    const checkoff = !this.props.submission.formPage1.paymentRequired;\n    // console.log(employerTypesList.length);\n    // console.log(employerList.length);\n    return (\n      <div\n        data-test=\"component-submissionformpage1\"\n        className={classes.formContainer}\n      >\n        {values.cape ? (\n          <CAPEForm\n            {...this.props}\n            standAlone={true}\n            verifyCallback={this.verifyCallback}\n            employerTypesList={employerTypesList}\n            employerList={employerList}\n            handleInput={this.props.apiSubmission.handleInput}\n            updateEmployersPicklist={this.updateEmployersPicklist}\n            classes={classes}\n            loading={this.props.submission.loading}\n            formPage1={this.props.submission.formPage1}\n            iFrameURL={this.props.submission.payment.cardAddingUrl}\n            payment={this.props.submission.payment}\n            renderSelect={this.renderSelect}\n            renderTextField={this.renderTextField}\n            renderCheckbox={this.renderCheckbox}\n            checkoff={checkoff}\n          />\n        ) : (\n          <React.Fragment>\n            {typeof this.props.tab !== \"number\" && (\n              <WelcomeInfo\n                location={this.props.location}\n                history={this.props.history}\n                handleTab={this.props.handleTab}\n                style={\n                  typeof this.props.tab !== \"number\"\n                    ? { display: \"block\" }\n                    : { display: \"none\" }\n                }\n              />\n            )}\n\n            {this.props.tab >= 0 && (\n              <div\n                style={\n                  this.props.tab >= 0\n                    ? { display: \"block\" }\n                    : { display: \"none\" }\n                }\n              >\n                <NavTabs {...this.props} />\n                {this.props.tab === 0 && (\n                  <Tab1Form\n                    {...this.props}\n                    onSubmit={() => this.props.handleTab(1)}\n                    verifyCallback={this.verifyCallback}\n                    classes={classes}\n                    employerTypesList={employerTypesList}\n                    employerList={employerList}\n                    handleInput={this.props.apiSubmission.handleInput}\n                    updateEmployersPicklist={this.updateEmployersPicklist}\n                    renderSelect={this.renderSelect}\n                    renderTextField={this.renderTextField}\n                    renderCheckbox={this.renderCheckbox}\n                  />\n                )}\n                {this.props.tab === 1 && (\n                  <Tab2Form\n                    {...this.props}\n                    onSubmit={() => this.props.handleTab(2)}\n                    classes={classes}\n                    handleInput={this.props.apiSubmission.handleInput}\n                    renderSelect={this.renderSelect}\n                    renderTextField={this.renderTextField}\n                    renderCheckbox={this.renderCheckbox}\n                  />\n                )}\n                {this.props.tab === 2 && this.props.howManyTabs === 4 && (\n                  <Tab3Form\n                    {...this.props}\n                    onSubmit={this.handleSubmit}\n                    classes={classes}\n                    loading={this.props.submission.loading}\n                    formPage1={this.props.submission.formPage1}\n                    paymentRequired={\n                      this.props.submission.formPage1.paymentRequired\n                    }\n                    handleInput={this.props.submission.handleInput}\n                    iFrameURL={this.props.submission.payment.cardAddingUrl}\n                    afhDuesRate={this.props.submission.formPage1.afhDuesRate}\n                    payment={this.props.submission.payment}\n                    renderSelect={this.renderSelect}\n                    renderTextField={this.renderTextField}\n                    renderCheckbox={this.renderCheckbox}\n                    checkoff={checkoff}\n                  />\n                )}\n                {(this.props.tab === 3 ||\n                  (this.props.tab === 2 && this.props.howManyTabs === 3)) && (\n                  <CAPEForm\n                    {...this.props}\n                    classes={classes}\n                    loading={this.props.submission.loading}\n                    formPage1={this.props.submission.formPage1}\n                    handleInput={this.props.submission.handleInput}\n                    iFrameURL={this.props.submission.payment.cardAddingUrl}\n                    payment={this.props.submission.payment}\n                    renderSelect={this.renderSelect}\n                    renderTextField={this.renderTextField}\n                    renderCheckbox={this.renderCheckbox}\n                    checkoff={checkoff}\n                  />\n                )}\n              </div>\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\nSubmissionFormPage1Component.propTypes = {\n  submission: PropTypes.shape({\n    loading: PropTypes.bool,\n    error: PropTypes.string,\n    salesforceId: PropTypes.string,\n    employerNames: PropTypes.array,\n    employerObjects: PropTypes.arrayOf(\n      PropTypes.shape({\n        Name: PropTypes.string,\n        Sub_Division__c: PropTypes.string\n      })\n    ),\n    formPage1: PropTypes.shape({})\n  }).isRequired,\n  apiSF: PropTypes.shape({\n    getSFEmployers: PropTypes.func\n  }).isRequired,\n  apiSubmission: PropTypes.shape({\n    addSubmission: PropTypes.func,\n    handleInput: PropTypes.func\n  }).isRequired,\n  classes: PropTypes.object,\n  location: PropTypes.shape({\n    search: PropTypes.string\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }),\n  formValues: PropTypes.shape({\n    signatureType: PropTypes.string\n  }).isRequired,\n  apiContent: PropTypes.shape({\n    uploadImage: PropTypes.func\n  }).isRequired,\n  content: PropTypes.shape({\n    error: PropTypes.string\n  }).isRequired,\n  legal_language: PropTypes.shape({\n    current: PropTypes.shape({\n      textContent: PropTypes.string\n    })\n  }),\n  sigBox: PropTypes.shape({\n    clear: PropTypes.func,\n    getTrimmedCanvas: PropTypes.func\n  }),\n  handleTab: PropTypes.func,\n  tab: PropTypes.number,\n  pristine: PropTypes.bool,\n  invalid: PropTypes.bool\n};\nexport default withWidth()(withLocalize(SubmissionFormPage1Component));\n","import { RSAA } from \"redux-api-middleware\";\nimport BASE_URL from \"./apiConfig.js\";\n\n/* =============================== CONTACTS ================================ */\n\n/* +++++++++++++++++++++++++++++ CONTACTS: GET +++++++++++++++++++++++++++++ */\n\nexport const GET_SF_CONTACT_REQUEST = \"GET_SF_CONTACT_REQUEST\";\nexport const GET_SF_CONTACT_SUCCESS = \"GET_SF_CONTACT_SUCCESS\";\nexport const GET_SF_CONTACT_FAILURE = \"GET_SF_CONTACT_FAILURE\";\n\n/*\n * Function: getSFContactById -- get a single SF Contact by id\n * @param {string} id\n * This action dispatches additional actions as it executes:\n *   GET_SF_CONTACT_REQUEST:\n *     Initiates a spinner on the home page.\n *   GET_SF_CONTACT_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   GET_SF_CONTACT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function getSFContactById(id) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sf/${id}`,\n      method: \"GET\",\n      types: [\n        GET_SF_CONTACT_REQUEST,\n        GET_SF_CONTACT_SUCCESS,\n        {\n          type: GET_SF_CONTACT_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  };\n}\n\n/* +++++++++++++++++++++++++++++ CONTACTS: POST ++++++++++++++++++++++++++++ */\n\nexport const CREATE_SF_CONTACT_REQUEST = \"CREATE_SF_CONTACT_REQUEST\";\nexport const CREATE_SF_CONTACT_SUCCESS = \"CREATE_SF_CONTACT_SUCCESS\";\nexport const CREATE_SF_CONTACT_FAILURE = \"CREATE_SF_CONTACT_FAILURE\";\n\n/*\n * Function: createSFContact -- create a SF Contact\n * @param {object} body\n * This action dispatches additional actions as it executes:\n *   CREATE_SF_CONTACT_REQUEST:\n *     Initiates a spinner on the home page.\n *   CREATE_SF_CONTACT_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   CREATE_SF_CONTACT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function createSFContact(body) {\n  // console.log(body);\n  // console.log(JSON.stringify(body));\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sf`,\n      method: \"POST\",\n      types: [\n        CREATE_SF_CONTACT_REQUEST,\n        CREATE_SF_CONTACT_SUCCESS,\n        {\n          type: CREATE_SF_CONTACT_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/* +++++++++++++++++++++++++++++ CONTACTS: PUT ++++++++++++++++++++++++++++ */\n\nexport const UPDATE_SF_CONTACT_REQUEST = \"UPDATE_SF_CONTACT_REQUEST\";\nexport const UPDATE_SF_CONTACT_SUCCESS = \"UPDATE_SF_CONTACT_SUCCESS\";\nexport const UPDATE_SF_CONTACT_FAILURE = \"UPDATE_SF_CONTACT_FAILURE\";\n\n/*\n * Function: updateSFContact -- update a SF Contact\n * @param {object} body\n * This action dispatches additional actions as it executes:\n *   UPDATE_SF_CONTACT_REQUEST:\n *     Initiates a spinner on the home page.\n *   UPDATE_SF_CONTACT_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   UPDATE_SF_CONTACT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function updateSFContact(id, body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sf/${id}`,\n      method: \"PUT\",\n      types: [\n        UPDATE_SF_CONTACT_REQUEST,\n        UPDATE_SF_CONTACT_SUCCESS,\n        {\n          type: UPDATE_SF_CONTACT_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/* +++++++++++++++++++++++++++++ CONTACTS: LOOKUP ++++++++++++++++++++++++++ */\n\nexport const LOOKUP_SF_CONTACT_REQUEST = \"LOOKUP_SF_CONTACT_REQUEST\";\nexport const LOOKUP_SF_CONTACT_SUCCESS = \"LOOKUP_SF_CONTACT_SUCCESS\";\nexport const LOOKUP_SF_CONTACT_FAILURE = \"LOOKUP_SF_CONTACT_FAILURE\";\n\n/*\n * Function: lookupSFContact -- lookup a SF contact (by id OR name/email)\n * @param {body}      Complete submission body\n * This action dispatches additional actions as it executes:\n *   LOOKUP_SF_CONTACT_REQUEST:\n *     Initiates a spinner on the home page.\n *   LOOKUP_SF_CONTACT_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   LOOKUP_SF_CONTACT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function lookupSFContact(body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sflookup`,\n      method: \"PUT\",\n      types: [\n        LOOKUP_SF_CONTACT_REQUEST,\n        LOOKUP_SF_CONTACT_SUCCESS,\n        {\n          type: LOOKUP_SF_CONTACT_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/* ======================== ONLINE MEMBER APPS (OMA) ======================= */\n\n/* +++++++++++++++++++++++++++++++ OMA: POST +++++++++++++++++++++++++++++++ */\n\nexport const CREATE_SF_OMA_REQUEST = \"CREATE_SF_OMA_REQUEST\";\nexport const CREATE_SF_OMA_SUCCESS = \"CREATE_SF_OMA_SUCCESS\";\nexport const CREATE_SF_OMA_FAILURE = \"CREATE_SF_OMA_FAILURE\";\n\n/*\n * Function: createSFOMA -- create a SF Online Member App record\n * @param {object} body\n * This action dispatches additional actions as it executes:\n *   CREATE_SF_OMA_REQUEST:\n *     Initiates a spinner on the home page.\n *   CREATE_SF_OMA_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   CREATE_SF_OMA_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function createSFOMA(body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sfOMA`,\n      method: \"POST\",\n      types: [\n        CREATE_SF_OMA_REQUEST,\n        CREATE_SF_OMA_SUCCESS,\n        {\n          type: CREATE_SF_OMA_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/* ======================== DIRECT JOIN RATEST (DJR) ======================= */\n\n/* +++++++++++++++++++++++++++++++ DJR: POST +++++++++++++++++++++++++++++++ */\n\nexport const CREATE_SF_DJR_REQUEST = \"CREATE_SF_DJR_REQUEST\";\nexport const CREATE_SF_DJR_SUCCESS = \"CREATE_SF_DJR_SUCCESS\";\nexport const CREATE_SF_DJR_FAILURE = \"CREATE_SF_DJR_FAILURE\";\n\n/*\n * Function: createSFDJR -- create a SF Direct Join Rate record\n * @param {object} body\n * This action dispatches additional actions as it executes:\n *   CREATE_SF_DJR_REQUEST:\n *     Initiates a spinner on the home page.\n *   CREATE_SF_DJR_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   CREATE_SF_DJR_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function createSFDJR(body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sfDJR`,\n      method: \"POST\",\n      types: [\n        CREATE_SF_DJR_REQUEST,\n        CREATE_SF_DJR_SUCCESS,\n        {\n          type: CREATE_SF_DJR_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/* +++++++++++++++++++++++++++++ DJR: PUT ++++++++++++++++++++++++++++ */\n\nexport const UPDATE_SF_DJR_REQUEST = \"UPDATE_SF_DJR_REQUEST\";\nexport const UPDATE_SF_DJR_SUCCESS = \"UPDATE_SF_DJR_SUCCESS\";\nexport const UPDATE_SF_DJR_FAILURE = \"UPDATE_SF_DJR_FAILURE\";\n\n/*\n * Function: updateSFDJR -- update a SF Direct Join Rate\n * @param {object} body\n * This action dispatches additional actions as it executes:\n *   UPDATE_SF_DJR_REQUEST:\n *     Initiates a spinner on the home page.\n *   UPDATE_SF_DJR_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   UPDATE_SF_DJR_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function updateSFDJR(id, body) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sfDJR/${id}`,\n      method: \"PUT\",\n      types: [\n        UPDATE_SF_DJR_REQUEST,\n        UPDATE_SF_DJR_SUCCESS,\n        {\n          type: UPDATE_SF_DJR_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/* +++++++++++++++++++++++++++++ DJR: GET +++++++++++++++++++++++++++++ */\n\nexport const GET_SF_DJR_REQUEST = \"GET_SF_DJR_REQUEST\";\nexport const GET_SF_DJR_SUCCESS = \"GET_SF_DJR_SUCCESS\";\nexport const GET_SF_DJR_FAILURE = \"GET_SF_DJR_FAILURE\";\n\n/*\n * Function: getSFDJRById -- get a single SF DJR by id\n * @param {string} id\n * This action dispatches additional actions as it executes:\n *   GET_SF_DJR_REQUEST:\n *     Initiates a spinner on the home page.\n *   GET_SF_DJR_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   GET_SF_DJR_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function getSFDJRById(id) {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sfDJR/${id}`,\n      method: \"GET\",\n      types: [\n        GET_SF_DJR_REQUEST,\n        GET_SF_DJR_SUCCESS,\n        {\n          type: GET_SF_DJR_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  };\n}\n\n/* ================================== CAPE ================================= */\n\n/* ++++++++++++++++++++++++++++++++ CAPE: POST +++++++++++++++++++++++++++++ */\n\nexport const CREATE_SF_CAPE_REQUEST = \"CREATE_SF_CAPE_REQUEST\";\nexport const CREATE_SF_CAPE_SUCCESS = \"CREATE_SF_CAPE_SUCCESS\";\nexport const CREATE_SF_CAPE_FAILURE = \"CREATE_SF_CAPE_FAILURE\";\n\n/*\n * Function: createSFCAPE -- create a SF CAPE record\n * @param {object} body\n * This action dispatches additional actions as it executes:\n *   CREATE_SF_CAPE_REQUEST:\n *     Initiates a spinner on the home page.\n *   CREATE_SF_CAPE_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   CREATE_SF_CAPE_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function createSFCAPE(body) {\n  // console.log(body);\n  // console.log(JSON.stringify(body));\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sfCAPE`,\n      method: \"POST\",\n      types: [\n        CREATE_SF_CAPE_REQUEST,\n        CREATE_SF_CAPE_SUCCESS,\n        {\n          type: CREATE_SF_CAPE_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/* ================================ ACCOUNTS =============================== */\n\n/* +++++++++++++++++++++++++++++ ACCOUNTS: GET +++++++++++++++++++++++++++++ */\n\nexport const GET_SF_EMPLOYERS_REQUEST = \"GET_SF_EMPLOYERS_REQUEST\";\nexport const GET_SF_EMPLOYERS_SUCCESS = \"GET_SF_EMPLOYERS_SUCCESS\";\nexport const GET_SF_EMPLOYERS_FAILURE = \"GET_SF_EMPLOYERS_FAILURE\";\n\n/*\n * Function: getSFEmployers -- get all active SF Employers\n * This action dispatches additional actions as it executes:\n *   GET_SF_CONTACT_REQUEST:\n *     Initiates a spinner on the home page.\n *   GET_SF_CONTACT_SUCCESS:\n *     If Content successfully retrieved, hides spinner\n *   GET_SF_CONTACT_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function getSFEmployers() {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/sfaccts`,\n      method: \"GET\",\n      types: [\n        GET_SF_EMPLOYERS_REQUEST,\n        GET_SF_EMPLOYERS_SUCCESS,\n        {\n          type: GET_SF_EMPLOYERS_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  };\n}\n\n/* ================================ UNIONISE =============================== */\n\n/* +++++++++++++++++++++++++ GET UNIONISE AUTH TOKEN +++++++++++++++++++++++ */\n\nexport const GET_UNIONISE_TOKEN_REQUEST = \"GET_UNIONISE_TOKEN_REQUEST\";\nexport const GET_UNIONISE_TOKEN_SUCCESS = \"GET_UNIONISE_TOKEN_SUCCESS\";\nexport const GET_UNIONISE_TOKEN_FAILURE = \"GET_UNIONISE_TOKEN_FAILURE\";\n\n/*\n * Function: getUnioniseToken -- get auth token\n * to access secured unioni.se routes\n *\n * This action dispatches additional actions as it executes:\n *   GET_UNIONISE_TOKEN_REQUEST:\n *     Initiates a spinner on the home page.\n *   GET_UNIONISE_TOKEN_SUCCESS:\n *     If token successfully retrieved, hides spinner\n *   GET_UNIONISE_TOKEN_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function getUnioniseToken() {\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/unionise/gettoken`,\n      method: \"POST\",\n      types: [\n        GET_UNIONISE_TOKEN_REQUEST,\n        GET_UNIONISE_TOKEN_SUCCESS,\n        {\n          type: GET_UNIONISE_TOKEN_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ]\n    }\n  };\n}\n\n/* ++++++++++++++++++++++++++++ NEW MEMBER: POST +++++++++++++++++++++++++++ */\n\nexport const GET_IFRAME_URL_REQUEST = \"GET_IFRAME_URL_REQUEST\";\nexport const GET_IFRAME_URL_SUCCESS = \"GET_IFRAME_URL_SUCCESS\";\nexport const GET_IFRAME_URL_FAILURE = \"GET_IFRAME_URL_FAILURE\";\n\n/*\n * Function: getIframeURL -- create a unioni.se member record,\n *   which returns a card-adding iFrame URL for payment info collection\n * @param {body}\n * {\n    \"firstName\": \"Test\",\n    \"lastName\": \"User\",\n    \"address\": {\n        \"addressLine1\": \"some address\",\n        \"city\": \"Some City\",\n        \"state\": \"AB\",\n        \"zip\": \"123123\"\n    },\n    \"email\": \"test@example.com\",\n    \"language\": \"en-US\",\n    \"cellPhone\": \"123123\",\n    \"birthDate\": \"1990-10-20\",\n    \"employerExternalId\": \"SW001\",\n    \"employeeExternalId\": \"1234567\",\n  }\n *\n * This action dispatches additional actions as it executes:\n *   GET_IFRAME_URL_REQUEST:\n *     Initiates a spinner on the home page.\n *   GET_IFRAME_URL_SUCCESS:\n *     If iFrame URL successfully retrieved, hides spinner\n *   GET_IFRAME_URL_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function getIframeURL(body) {\n  return {\n    [RSAA]: {\n      endpoint: \"https://lab.unioni.se/web/signup/create-member\",\n      // ^^ this is the staging endpoint\n      // will need to be switched over to production later on\n      method: \"POST\",\n      types: [\n        GET_IFRAME_URL_REQUEST,\n        GET_IFRAME_URL_SUCCESS,\n        {\n          type: GET_IFRAME_URL_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n  };\n}\n\n/* +++++++++++++++++++++++++ EXISTING MEMBER: POST +++++++++++++++++++++++++ */\n\nexport const GET_IFRAME_EXISTING_REQUEST = \"GET_IFRAME_EXISTING_REQUEST\";\nexport const GET_IFRAME_EXISTING_SUCCESS = \"GET_IFRAME_EXISTING_SUCCESS\";\nexport const GET_IFRAME_EXISTING_FAILURE = \"GET_IFRAME_EXISTING_FAILURE\";\n\n/*\n * Function: getIframeExisting -- get a card-adding URL for an existing\n * unioni.se member record, lookup by memberShortId\n *\n * This action dispatches additional actions as it executes:\n *   GET_IFRAME_EXISTING_REQUEST:\n *     Initiates a spinner on the home page.\n *   GET_IFRAME_EXISTING_SUCCESS:\n *     If iFrame URL successfully retrieved, hides spinner\n *   GET_IFRAME_EXISTING_FAILURE:\n *     If database error, hides spinner, displays error toastr\n */\nexport function getIframeExisting(token, memberShortId) {\n  const body = JSON.stringify({ memberShortId: memberShortId });\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${token}`\n  };\n  return {\n    [RSAA]: {\n      endpoint: `${BASE_URL}/api/unionise/iframe`,\n      // ^^ this is the staging endpoint\n      // will need to be switched over to production later on\n      method: \"POST\",\n      types: [\n        GET_IFRAME_EXISTING_REQUEST,\n        GET_IFRAME_EXISTING_SUCCESS,\n        {\n          type: GET_IFRAME_EXISTING_FAILURE,\n          payload: (action, state, res) => {\n            return res.json().then(data => {\n              let message = \"Sorry, something went wrong :(\";\n              if (data && data.message) {\n                message = data.message;\n              }\n              return { message };\n            });\n          }\n        }\n      ],\n      body: body,\n      headers: headers\n    }\n  };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { Translate } from \"react-localize-redux\";\n\nconst styles = theme => ({\n  modalButtonRed: {\n    backgroundColor: \"#b71c1c\", // theme.palette.danger.main\n    display: \"block\",\n    textTransform: \"none\",\n    width: \"100%\",\n    marginBottom: 20,\n    padding: 15,\n    color: \"white\",\n    fontSize: \"1.2em\",\n    \"&:hover\": {\n      backgroundColor: \"#d32f2f\" // theme.palette.danger.light\n    }\n  },\n  modalButtonGreen: {\n    backgroundColor: \"#43A047\", // theme.palette.success.main,\n    display: \"block\",\n    textTransform: \"none\",\n    width: \"100%\",\n    marginLeft: 0,\n    color: \"white\",\n    fontSize: \"1.2em\",\n    padding: 15,\n    \"&:hover\": {\n      backgroundColor: \"#66BB6A\" // theme.palette.success.light\n    }\n  },\n  dialogActionsOverride: {\n    display: \"block\",\n    padding: 15\n  }\n});\n\nfunction Modal(props) {\n  const { classes } = props;\n  return (\n    <div>\n      <Dialog\n        data-test=\"component-modal\"\n        open={props.open}\n        onClose={props.handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          <Translate id=\"modalTitle\" /> {`${props.fullName}?`}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            <Translate id=\"modalDescription\" /> {`${props.fullName}.`}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions className={classes.dialogActionsOverride}>\n          <Button\n            data-test=\"button-link-request\"\n            onClick={() => props.history.push(\"/linkrequest\")}\n            className={classes.modalButtonRed}\n          >\n            <Translate id=\"modalErrorButtonPreName\" />\n            {`${props.fullName}`}\n            <Translate id=\"modalErrorButtonPostName\" />\n          </Button>\n          <Button\n            onClick={props.handleClose}\n            className={classes.modalButtonGreen}\n            autoFocus\n          >\n            <Translate id=\"modalConfirmButton\" /> {`${props.fullName}`}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  open: PropTypes.bool,\n  fullName: PropTypes.string,\n  handleClose: PropTypes.func,\n  classes: PropTypes.object,\n  history: PropTypes.shape({\n    push: PropTypes.func\n  })\n};\n\nexport default withStyles(styles)(Modal);\n","import React from \"react\";\nimport localIpUrl from \"local-ip-url\";\nimport {\n  getFormValues,\n  submit,\n  isSubmitting,\n  isPristine,\n  isValid,\n  getFormSubmitErrors,\n  reset\n} from \"redux-form\";\n// import { loadReCaptcha } from \"react-recaptcha-v3\";\n\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport queryString from \"query-string\";\nimport isoConv from \"iso-language-converter\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport { openSnackbar } from \"./Notifier\";\nimport SubmissionFormPage1Wrap from \"../components/SubmissionFormPage1Component\";\nimport * as utils from \"../utils\";\nimport * as apiSubmissionActions from \"../store/actions/apiSubmissionActions\";\nimport * as apiContentActions from \"../store/actions/apiContentActions\";\nimport * as apiSFActions from \"../store/actions/apiSFActions\";\nimport * as actions from \"../store/actions\";\n\nimport {\n  stylesPage1,\n  blankSig,\n  formatSFDate,\n  formatBirthdate,\n  findEmployerObject,\n  handleError\n} from \"../components/SubmissionFormElements\";\nimport Modal from \"../components/Modal\";\n\nexport class SubmissionFormPage1Container extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      tab: undefined,\n      legalLanguage: \"\",\n      signatureType: \"draw\",\n      howManyTabs: 3\n    };\n    this.handleOpen = this.handleOpen.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleTab = this.handleTab.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n    this.prepForContact = this.prepForContact.bind(this);\n    this.prepForSubmission = this.prepForSubmission.bind(this);\n    this.generateSubmissionBody = this.generateSubmissionBody.bind(this);\n    this.toggleCardAddingFrame = this.toggleCardAddingFrame.bind(this);\n    this.handleCAPESubmit = this.handleCAPESubmit.bind(this);\n    this.suggestedAmountOnChange = this.suggestedAmountOnChange.bind(this);\n    this.verifyRecaptchaScore = this.verifyRecaptchaScore.bind(this);\n    this.saveSubmissionErrors = this.saveSubmissionErrors.bind(this);\n  }\n  componentDidMount() {\n    // check for contact id in query string\n    const params = queryString.parse(this.props.location.search);\n    // if find contact id, call API to fetch contact info for prefill\n    if (params.id) {\n      const { id } = params;\n      this.props.apiSF\n        .getSFContactById(id)\n        .then(result => {\n          // console.log(result.payload);\n          // open warning/confirmation modal if prefill successfully loaded\n          if (\n            this.props.submission.formPage1.firstName &&\n            this.props.submission.formPage1.lastName\n          ) {\n            this.handleOpen();\n          }\n        })\n        .catch(err => {\n          // console.log(err);\n          return handleError(err);\n        });\n    } else {\n      // console.log(\"no id found, no prefill\");\n      return;\n    }\n  }\n\n  handleOpen() {\n    const newState = { ...this.state };\n    newState.open = true;\n    this.setState({ ...newState });\n  }\n\n  handleClose() {\n    const newState = { ...this.state };\n    newState.open = false;\n    this.setState({ ...newState });\n  }\n\n  handleUpload(firstName, lastName) {\n    return new Promise((resolve, reject) => {\n      let file = this.trimSignature();\n      let filename = `${firstName}_${lastName}__signature__${formatSFDate(\n        new Date()\n      )}.jpg`;\n      if (file instanceof Blob) {\n        file.name = filename;\n      }\n      this.props.apiContent\n        .uploadImage(file)\n        .then(result => {\n          if (\n            result.type === \"UPLOAD_IMAGE_FAILURE\" ||\n            this.props.content.error\n          ) {\n            resolve(\n              handleError(\n                this.props.content.error ||\n                  \"An error occured while trying to save your Signature. Please try typing it instead\"\n              )\n            );\n          } else {\n            // console.log(result.payload.content);\n            resolve(result.payload.content);\n          }\n        })\n        .catch(err => {\n          // console.log(err);\n          resolve(handleError(err));\n        });\n    });\n  }\n\n  suggestedAmountOnChange = event => {\n    // console.log(event);\n    // console.log(document.querySelector('input[name=\"capeAmount\"]:checked').value);\n  };\n\n  toggleSignatureInputType = () => {\n    let type = this.state.signatureType === \"draw\" ? \"write\" : \"draw\";\n    this.setState({ signatureType: type });\n  };\n\n  clearSignature = () => {\n    this.props.sigBox.current.clear();\n  };\n\n  dataURItoBlob = dataURI => {\n    let binary = atob(dataURI.split(\",\")[1]);\n    let array = [];\n    for (let i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new Blob([new Uint8Array(array)], { type: \"image/jpeg\" });\n  };\n\n  trimSignature = () => {\n    let dataURL = this.props.sigBox.current.toDataURL(\"image/jpeg\");\n    if (dataURL === blankSig) {\n      throw new Error(\n        \"Please draw your signature or click the link to type it instead\"\n      );\n    } else {\n      let blobData = this.dataURItoBlob(dataURL);\n      return blobData;\n    }\n  };\n\n  async saveSubmissionErrors(submission_id, method, error) {\n    // 1. retrieve existing errors array from current submission\n    let { submission_errors } = this.props.submission.currentSubmission;\n    if (submission_errors === null) {\n      submission_errors = \"\";\n    }\n    // 2. add new data to string\n    submission_errors += `Attempted method: ${method}, Error: ${error}. `;\n    // 3. update submission_errors and submission_status on submission by id\n    const updates = {\n      submission_errors,\n      submission_status: \"error\"\n    };\n    this.props.apiSubmission\n      .updateSubmission(submission_id, updates)\n      .then(result => {\n        // console.log(result.type);\n        if (\n          result.type === \"UPDATE_SUBMISSION_FAILURE\" ||\n          this.props.submission.error\n        ) {\n          // console.log(this.props.submission.error);\n          return this.handleError(this.props.submission.error);\n        }\n        // console.log(result.type);\n      })\n      .catch(err => {\n        // console.log(err);\n        return this.handleError(err);\n      });\n  }\n\n  async prepForContact(values) {\n    return new Promise(resolve => {\n      let returnValues = { ...values };\n\n      // format birthdate\n      const birthdate = formatBirthdate(values);\n      returnValues.birthdate = birthdate;\n\n      // find employer object and set employer-related fields\n      const employerObject = findEmployerObject(\n        this.props.submission.employerObjects,\n        values.employerName\n      );\n      returnValues.agencyNumber = employerObject.Agency_Number__c;\n      returnValues.employerId = employerObject.Id;\n\n      // save employerId to redux store for later\n      this.props.apiSubmission.handleInput({\n        target: { name: \"employerId\", value: employerObject.Id }\n      });\n      resolve(returnValues);\n    });\n  }\n\n  prepForSubmission(values) {\n    return new Promise(resolve => {\n      let returnValues = { ...values };\n\n      // set default date values for DPA & DDA if relevant\n      returnValues.direct_pay_auth = values.directPayAuth\n        ? formatSFDate(new Date())\n        : null;\n      returnValues.direct_deposit_auth = values.directDepositAuth\n        ? formatSFDate(new Date())\n        : null;\n\n      // set legal language\n      returnValues.legalLanguage = this.props.submission.formPage1.legalLanguage;\n\n      // set campaign source\n      const q = queryString.parse(this.props.location.search);\n      returnValues.campaignSource = q && q.s ? q.s : \"Direct seiu503signup\";\n\n      // set salesforce id\n      if (!values.salesforceId) {\n        if (q && q.id) {\n          returnValues.salesforceId = q.id;\n        }\n        if (this.props.submission.salesforce_id) {\n          returnValues.salesforceId = this.props.submission.salesforce_id;\n        }\n      }\n\n      resolve(returnValues);\n    });\n  }\n\n  async generateSubmissionBody(values) {\n    const firstValues = await this.prepForContact(values);\n    const secondValues = await this.prepForSubmission(firstValues);\n    secondValues.termsAgree = values.termsAgree;\n    secondValues.signature = this.props.submission.formPage1.signature;\n    secondValues.legalLanguage = this.props.submission.formPage1.legalLanguage;\n    secondValues.reCaptchaValue = this.props.submission.formPage1.reCaptchaValue;\n\n    let {\n      firstName,\n      lastName,\n      birthdate,\n      employerId,\n      agencyNumber,\n      preferredLanguage,\n      homeStreet,\n      homeZip,\n      homeState,\n      homeCity,\n      homeEmail,\n      mobilePhone,\n      employerName,\n      textAuthOptOut,\n      immediatePastMemberStatus,\n      direct_pay_auth,\n      direct_deposit_auth,\n      salesforceId,\n      termsAgree,\n      campaignSource,\n      legalLanguage,\n      signature,\n      reCaptchaValue\n    } = secondValues;\n\n    return {\n      ip_address: localIpUrl(),\n      submission_date: new Date(),\n      agency_number: agencyNumber,\n      birthdate,\n      cell_phone: mobilePhone,\n      employer_name: employerName,\n      employer_id: employerId,\n      first_name: firstName,\n      last_name: lastName,\n      home_street: homeStreet,\n      home_city: homeCity,\n      home_state: homeState,\n      home_zip: homeZip,\n      home_email: homeEmail,\n      preferred_language: preferredLanguage,\n      terms_agree: termsAgree,\n      signature: signature,\n      text_auth_opt_out: textAuthOptOut,\n      online_campaign_source: campaignSource,\n      legal_language: legalLanguage,\n      maintenance_of_effort: new Date(),\n      seiu503_cba_app_date: new Date(),\n      direct_pay_auth,\n      direct_deposit_auth,\n      immediate_past_member_status: immediatePastMemberStatus,\n      salesforce_id: salesforceId || this.props.submission.salesforceId,\n      reCaptchaValue\n    };\n  }\n\n  async createSubmission() {\n    // console.log(\"createSubmission\");\n    const { formValues } = this.props;\n\n    // create initial submission using data in tabs 1 & 2\n    // for afh/retiree/comm, submission will not be\n    // finalized and written to salesforce\n    // until payment method added in tab 3\n\n    const body = await this.generateSubmissionBody(formValues);\n    // console.log(body.submission_date);\n    await this.props.apiSubmission\n      // const result = await this.props.apiSubmission\n      .addSubmission(body)\n      // .then(() => console.dir(this.props.submission.currentSubmission))\n      .catch(err => {\n        console.log(err);\n        return handleError(err);\n      });\n\n    // if no payment is required, we're done with saving the submission\n    // we can write the OMA to SF and then move on to the CAPE ask\n    if (!this.props.submission.formPage1.paymentRequired) {\n      // console.log(\"no payment required, writing OMA to SF and on to CAPE\");\n      body.Worker__c = this.props.submission.salesforceId;\n      return this.props.apiSF\n        .createSFOMA(body)\n        .then(result => {\n          // console.log(result.type);\n          if (\n            result.type !== \"CREATE_SF_OMA_SUCCESS\" ||\n            this.props.submission.error\n          ) {\n            this.saveSubmissionErrors(\n              this.props.submission.submissionId,\n              \"createSFOMA\",\n              this.props.submission.error\n            );\n            // goto CAPE tab\n            this.changeTab(this.props.howManyTabs - 1);\n          } else {\n            this.changeTab(this.props.howManyTabs - 1);\n          }\n        })\n        .catch(err => {\n          this.saveSubmissionErrors(\n            this.props.submission.submissionId,\n            \"createSFOMA\",\n            err\n          );\n          console.log(err);\n          return handleError(err);\n        });\n    }\n    // if payment required, return out of this function and move to next tab\n    return;\n  }\n\n  async createSFContact() {\n    const values = await this.prepForContact(this.props.formValues);\n    let {\n      firstName,\n      lastName,\n      birthdate,\n      employerId,\n      agencyNumber,\n      preferredLanguage,\n      homeStreet,\n      homeZip,\n      homeState,\n      homeCity,\n      homeEmail,\n      mobilePhone,\n      employerName,\n      textAuthOptOut,\n      reCaptchaValue\n    } = values;\n\n    const body = {\n      agency_number: agencyNumber,\n      birthdate,\n      cell_phone: mobilePhone,\n      employer_name: employerName,\n      employer_id: employerId,\n      first_name: firstName,\n      last_name: lastName,\n      home_street: homeStreet,\n      home_city: homeCity,\n      home_state: homeState,\n      home_zip: homeZip,\n      home_email: homeEmail,\n      preferred_language: preferredLanguage,\n      text_auth_opt_out: textAuthOptOut,\n      reCaptchaValue\n    };\n\n    await this.props.apiSF.createSFContact(body).catch(err => {\n      // console.log(err);\n      return handleError(err);\n    });\n  }\n\n  async updateSFContact() {\n    const values = await this.prepForContact(this.props.formValues);\n    let {\n      firstName,\n      lastName,\n      birthdate,\n      employerId,\n      agencyNumber,\n      preferredLanguage,\n      homeStreet,\n      homeZip,\n      homeState,\n      homeCity,\n      homeEmail,\n      mobilePhone,\n      employerName,\n      textAuthOptOut,\n      reCaptchaValue\n    } = values;\n\n    let id = this.props.submission.salesforceId;\n\n    const body = {\n      agency_number: agencyNumber,\n      birthdate,\n      cell_phone: mobilePhone,\n      employer_name: employerName,\n      employer_id: employerId,\n      first_name: firstName,\n      last_name: lastName,\n      home_street: homeStreet,\n      home_city: homeCity,\n      home_state: homeState,\n      home_zip: homeZip,\n      home_email: homeEmail,\n      preferred_language: preferredLanguage,\n      text_auth_opt_out: textAuthOptOut,\n      reCaptchaValue\n    };\n\n    await this.props.apiSF.updateSFContact(id, body).catch(err => {\n      // console.log(err);\n      return handleError(err);\n    });\n  }\n\n  getSFDJRById() {\n    const id = this.props.submission.salesforceId;\n    return new Promise(resolve => {\n      this.props.apiSF\n        .getSFDJRById(id)\n        .then(result => {\n          // console.log(result);\n          if (\n            result.type === \"GET_SF_DJR_FAILURE\" ||\n            this.props.submission.error\n          ) {\n            // console.log(this.props.submission.error);\n            resolve(handleError(this.props.submission.error));\n          }\n          resolve(result);\n        })\n        .catch(err => {\n          // console.log(err);\n          resolve(handleError(err));\n        });\n    });\n  }\n\n  async createSFDJR() {\n    const medicaidResidents =\n      this.props.submission.formPage1.medicaidResidents || 0;\n    const body = {\n      Worker__c: this.props.submission.salesforceId,\n      Unioni_se_MemberID__c: this.props.submission.payment.memberShortId,\n      Payment_Method__c: this.props.submission.formPage1.paymentType,\n      AFH_Number_of_Residents__c: medicaidResidents\n    };\n    this.props.apiSF\n      .createSFDJR(body)\n      .then(result => {\n        // console.log(result);\n        if (\n          result.type === \"CREATE_SF_DJR_FAILURE\" ||\n          this.props.submission.error\n        ) {\n          return handleError(this.props.submission.error);\n        }\n      })\n      .catch(err => {\n        // console.log(err);\n        return handleError(err);\n      });\n  }\n\n  async updateSFDJR() {\n    const id = this.props.submission.salesforceId;\n    const medicaidResidents =\n      this.props.submission.formPage1.medicaidResidents || 0;\n    const updates = {\n      Unioni_se_MemberID__c: this.props.submission.payment.memberShortId,\n      Payment_Method__c: this.props.submission.formPage1.paymentType,\n      AFH_Number_of_Residents__c: medicaidResidents\n    };\n    this.props.apiSF\n      .updateSFDJR(id, updates)\n      .then(result => {\n        // console.log(result.payload);\n        if (\n          result.type === \"UPDATE_SF_DJR_FAILURE\" ||\n          this.props.submission.error\n        ) {\n          // console.log(this.props.submission.error);\n          return handleError(this.props.submission.error);\n        }\n      })\n      .catch(err => {\n        // console.log(err);\n        return handleError(err);\n      });\n  }\n\n  async verifyRecaptchaScore() {\n    // refresh token\n    await this.props.refreshRecaptcha();\n\n    // then verify\n    const ip_address = localIpUrl();\n    const token = this.props.submission.formPage1.reCaptchaValue;\n    const result = await this.props.apiSubmission\n      .verify(token, ip_address)\n      .catch(err => {\n        console.log(\"recaptcha failed\");\n        console.log(err);\n        return handleError(\n          \"ReCaptcha validation failed, please reload the page and try again.\"\n        );\n      });\n    // console.log(`recaptcha score: ${result.payload.score}`);\n    return result.payload.score;\n  }\n\n  async getIframeExisting() {\n    // console.log(\"getIframeExisting\");\n    const memberShortId = this.props.submission.payment.memberShortId;\n    const token = this.props.submission.payment.unioniseToken;\n    return this.props.apiSF\n      .getIframeExisting(token, memberShortId)\n      .then(result => {\n        // console.log(result);\n        if (\n          !result.payload.cardAddingUrl ||\n          result.payload.message ||\n          result.type === \"GET_IFRAME_EXISTING_FAILURE\"\n        ) {\n          // console.log(this.props.submission.error);\n          return handleError(\n            result.payload.message ||\n              this.props.submission.error ||\n              \"Sorry, something went wrong. Please try again.\"\n          );\n        }\n      })\n      .catch(err => {\n        // console.log(err);\n        return handleError(err);\n      });\n  }\n\n  async getIframeNew() {\n    // console.log(\"getIframeNew\");\n    const { formValues } = this.props;\n\n    const birthdate = formatBirthdate(formValues);\n    // convert language to ISO code for unioni.se\n    let language = isoConv(formValues.preferredLanguage);\n    if (language === \"en\") {\n      language = \"en-US\";\n    }\n    if (language === \"es\") {\n      language = \"es-US\";\n    }\n\n    const body = {\n      firstName: formValues.firstName,\n      lastName: formValues.lastName,\n      address: {\n        addressLine1: formValues.homeStreet,\n        city: formValues.homeCity,\n        state: formValues.homeState,\n        zip: formValues.homeZip\n      },\n      email: formValues.homeEmail,\n      language,\n      cellPhone: formValues.mobilePhone,\n      birthDate: birthdate,\n      employerExternalId: \"SW001\",\n      // ^^ fixed value for dev / staging\n      // this will be Agency number in production\n      employeeExternalId: this.props.apiSubmission.submissionId,\n      agreesToMessages: !formValues.textAuthOptOut\n    };\n    // console.log(JSON.stringify(body));\n\n    this.props.apiSF\n      .getIframeURL(body)\n      .then(result => {\n        // console.log(result.payload);\n        if (\n          !result.payload.cardAddingUrl ||\n          result.payload.message ||\n          result.type === \"GET_IFRAME_URL_FAILURE\"\n        ) {\n          // console.log(this.props.submission.error);\n          return handleError(\n            result.payload.message ||\n              this.props.submission.error ||\n              \"Sorry, something went wrong. Please try again.\"\n          );\n        }\n      })\n      .catch(err => {\n        // console.log(err);\n        return handleError(err);\n      });\n  }\n\n  async getUnioniseToken() {\n    // console.log(\"getUnioniseToken\");\n    return this.props.apiSF\n      .getUnioniseToken()\n      .then(result => {\n        // console.log(result.payload);\n        if (\n          !result.payload.access_token ||\n          result.payload.message ||\n          result.type === \"GET_UNIONISE_TOKEN_FAILURE\"\n        ) {\n          // console.log(this.props.submission.error);\n          return handleError(\n            result.payload.message ||\n              this.props.submission.error ||\n              \"Sorry, something went wrong. Please try again.\"\n          );\n        }\n        // return the access token to calling function\n        return result.payload.access_token;\n      })\n      .catch(err => {\n        // console.log(err);\n        return handleError(err);\n      });\n  }\n\n  async getIframeURL() {\n    // console.log(\"getIframeURL\");\n    // first check if we have an existing unionise id\n    // if so, we don't need to create a unionise member account; just fetch a\n    // cardAddingURL from existing account\n    const memberShortId = this.props.submission.payment.memberShortId;\n    if (memberShortId) {\n      // first fetch an auth token to access secured unionise routes\n      const access_token = await this.props.apiSF\n        .getUnioniseToken()\n        .catch(err => {\n          // console.log(err);\n          return handleError(err);\n        });\n      // then get the card adding url for the existing account\n      return this.getIframeExisting(access_token, memberShortId);\n    }\n    // if we don't have the memberShortId, then we need to create a new\n    // unionise member record and return the cardAddingUrl\n    return this.getIframeNew();\n  }\n\n  async saveLegalLanguage() {\n    const { formValues } = this.props;\n    // save legal_language to redux store before ref disappears\n    let legalLanguage = this.props.legal_language.current.innerHTML;\n    if (formValues.directDepositAuth && this.props.direct_deposit.current) {\n      legalLanguage = legalLanguage.concat(\n        \"<hr>\",\n        this.props.direct_deposit.current.innerHTML\n      );\n    }\n    if (formValues.directPayAuth && this.props.direct_pay.current) {\n      legalLanguage = legalLanguage.concat(\n        \"<hr>\",\n        this.props.direct_pay.current.innerHTML\n      );\n    }\n    this.props.apiSubmission.handleInput({\n      target: { name: \"legalLanguage\", value: legalLanguage }\n    });\n  }\n\n  async calculateAFHDuesRate(medicaidResidents) {\n    let afhDuesRate = medicaidResidents * 14.84 + 2.75;\n    this.props.apiSubmission.handleInput({\n      target: { name: \"afhDuesRate\", value: afhDuesRate }\n    });\n  }\n\n  async toggleCardAddingFrame(value) {\n    if (value === \"Add new card\") {\n      await this.getIframeURL()\n        // .then(() => console.log(\"got iFrameURL\"))\n        .catch(err => {\n          // console.log(err);\n          return handleError(err);\n        });\n      return this.props.apiSubmission.handleInput({\n        target: { name: \"newCardNeeded\", value: true }\n      });\n    }\n    return this.props.apiSubmission.handleInput({\n      target: { name: \"newCardNeeded\", value: false }\n    });\n  }\n\n  async saveSignature() {\n    const { formValues } = this.props;\n    // perform signature processing steps and save value to redux store\n    // before ref disappears\n\n    if (this.state.signatureType === \"draw\") {\n      const sigUrl = await this.handleUpload(\n        formValues.firstName,\n        formValues.lastName\n      ).catch(err => {\n        // console.log(err);\n        return handleError(err);\n      });\n      // console.log(`748: ${sigUrl}`);\n      this.props.apiSubmission.handleInput({\n        target: { name: \"signature\", value: sigUrl }\n      });\n      return sigUrl;\n    }\n    return formValues.signature;\n  }\n\n  async handleCAPESubmit(standAlone) {\n    console.log(\"handleCAPESubmit\");\n    console.log(this.props.formValues);\n    const { formValues } = this.props;\n    // verify recaptcha score\n    const score = await this.verifyRecaptchaScore();\n    console.log(score);\n    if (!score || score <= 0.5) {\n      console.log(`recaptcha failed: ${score}`);\n      return handleError(\n        \"ReCaptcha validation failed, please reload the page and try again.\"\n      );\n    }\n\n    // if no contact in prefill or from previous form tabs...\n    if (!this.props.submission.salesforceId) {\n      console.log(\"looking up sfid\");\n      // lookup contact by first/last/email\n      const lookupBody = {\n        first_name: formValues.firstName,\n        last_name: formValues.lastName,\n        home_email: formValues.homeEmail\n      };\n      await this.props.apiSF.lookupSFContact(lookupBody).catch(err => {\n        console.log(err);\n        return handleError(err);\n      });\n    }\n\n    console.log(this.props.submission.salesforceId);\n    // find employer object\n    const employerObject = findEmployerObject(\n      this.props.submission.employerObjects,\n      formValues.employerName\n    );\n    console.log(employerObject);\n    console.log(employerObject.Agency_Number__c);\n\n    // set campaign source\n    const q = queryString.parse(this.props.location.search);\n    const campaignSource = q && q.s ? q.s : \"Direct seiu503signup\";\n\n    // set body fields\n    const checkoff = !this.props.submission.formPage1.paymentRequired;\n    const paymentMethod = checkoff ? \"Checkoff\" : \"Unionise\";\n    const donationAmount =\n      formValues.capeAmount === \"Other\"\n        ? parseFloat(formValues.capeAmountOther)\n        : parseFloat(formValues.capeAmount);\n\n    // generate body\n    const body = {\n      ip_address: localIpUrl(),\n      submission_date: utils.formatDate(new Date()),\n      contact_id: this.props.submission.salesforceId,\n      first_name: formValues.firstName,\n      last_name: formValues.lastName,\n      home_email: formValues.homeEmail,\n      cell_phone: formValues.mobilePhone,\n      home_street: formValues.homeStreet,\n      home_city: formValues.homeCity,\n      home_state: formValues.homeState,\n      home_zip: formValues.homeZip,\n      job_title: formValues.jobTitle,\n      employer_id: employerObject.Id,\n      payment_method: paymentMethod,\n      online_campaign_source: campaignSource,\n      cape_legal: this.props.cape_legal.current.innerHTML,\n      cape_amount: donationAmount,\n      // need to add UI to select donation frequency\n      donation_frequency: \"Monthly\",\n      // get this from getSFDJR call on CAPE component mount\n      member_short_id: \"\"\n    };\n    console.log(body);\n\n    let cape_errors = \"\",\n      cape_status = \"\";\n\n    // write CAPE contribution to SF\n    const sfCapeResult = await this.props.apiSF\n      .createSFCAPE(body)\n      .catch(err => {\n        console.log(err);\n        cape_errors += err;\n        cape_status = \"Error\";\n        handleError(err);\n      });\n\n    if (\n      sfCapeResult.type !== \"CREATE_SF_CAPE_SUCCESS\" ||\n      this.props.submission.error\n    ) {\n      cape_errors += this.props.submission.error;\n      cape_status = \"Error\";\n      console.log(this.props.submission.error);\n      return handleError(this.props.submission.error);\n    } else {\n      cape_status = \"Success\";\n    }\n\n    body.cape_status = cape_status;\n    body.cape_errors = cape_errors;\n\n    // create CAPE record in postgres\n    const capeResult = await this.props.apiSubmission\n      .createCAPE(body)\n      .catch(err => {\n        console.log(err);\n        return handleError(err);\n      });\n\n    if (\n      capeResult.type !== \"CREATE_CAPE_SUCCESS\" ||\n      this.props.submission.error\n    ) {\n      console.log(this.props.submission.error);\n      return handleError(this.props.submission.error);\n    }\n\n    // update capeValidate function to require payment info if paymentRequired\n\n    this.props.reset(\"submissionPage1\");\n    if (!standAlone) {\n      this.props.history.push(\n        `/page2/?id=${this.props.submission.salesforceId}`\n      );\n    } else {\n      openSnackbar(\n        \"success\",\n        \"Thank you. Your CAPE submission was proccessed.\"\n      );\n      // need to redirect to the thankyou page or saved redirect url here,\n      // but need to make that text dynamic and reuse component for both\n      // cape and membership submits\n    }\n  }\n\n  async handleTab2() {\n    const { formValues } = this.props;\n    // submit validation: signature\n    const signature = await this.saveSignature().catch(err => {\n      // console.log(err);\n      return handleError(err);\n    });\n    if (!signature) {\n      return openSnackbar(\"error\", \"Please provide a signature\");\n    }\n    // for AFH, calculate dues rate:\n    if (formValues.employerType.toLowerCase() === \"adult foster home\") {\n      this.calculateAFHDuesRate(\n        this.props.submission.formPage1.medicaidResidents\n      );\n    }\n\n    // if payment required, check if existing payment method on file\n    if (this.props.submission.formPage1.paymentRequired) {\n      await this.getSFDJRById(this.props.submission.salesforceId)\n        .then(result => {\n          // console.log(result.type);\n          // console.log('SFDJR record: existing')\n          // console.log(result.payload);\n\n          const newCardNeeded =\n            !result.payload.Active_Account_Last_4__c ||\n            (result.payload.Active_Account_Last_4__c &&\n              result.payload.Payment_Error_Hold__c);\n\n          if (newCardNeeded) {\n            // console.log(\"newCardNeeded\");\n            this.props.apiSubmission.handleInput({\n              target: { name: \"newCardNeeded\", value: true }\n            });\n          }\n\n          // if payment required (and no existing payment method)\n          // preload iframe url for next tab\n          if (\n            this.props.submission.formPage1.paymentRequired &&\n            newCardNeeded\n          ) {\n            this.getIframeURL().catch(err => {\n              // console.log(err);\n              return handleError(err);\n            });\n          }\n        })\n        .catch(err => {\n          // console.log(err);\n          return handleError(err);\n        });\n    }\n\n    // save legal language\n    this.saveLegalLanguage();\n\n    // save partial submission, then move to next tab\n    await this.createSubmission().catch(err => {\n      // console.log(err);\n      return handleError(err);\n    });\n\n    return this.changeTab(2);\n  }\n\n  async handleTab1() {\n    const { formValues } = this.props;\n\n    // verify recaptcha score\n    const score = await this.verifyRecaptchaScore();\n    if (!score || score <= 0.5) {\n      console.log(`recaptcha failed: ${score}`);\n      return handleError(\n        \"ReCaptcha validation failed, please reload the page and try again.\"\n      );\n    }\n\n    // handle moving from tab 1 to tab 2:\n\n    // check if payment is required and store this in redux store for later\n    if (utils.isPaymentRequired(formValues.employerType)) {\n      await this.props.apiSubmission.handleInput({\n        target: { name: \"paymentRequired\", value: true }\n      });\n      const newState = { ...this.state };\n      newState.howManyTabs = 4;\n      this.setState(newState);\n    } else {\n      const newState = { ...this.state };\n      newState.howManyTabs = 3;\n      this.setState(newState);\n    }\n\n    // submit validation: recaptcha\n    const reCaptchaValue = this.props.submission.formPage1.reCaptchaValue;\n    if (!reCaptchaValue) {\n      // console.log(\"no reCaptcha value\");\n    }\n    // await this.props.apiSubmission.handleInput({\n    //   target: { name: \"reCaptchaValue\", value: reCaptchaValue }\n    // });\n    // console.log(this.props.submission.formPage1.reCaptchaValue);\n\n    // check if SF contact id already exists (prefill case)\n    if (this.props.submission.salesforceId) {\n      // update existing contact, move to next tab\n      await this.updateSFContact().catch(err => {\n        console.log(err);\n        return handleError(err);\n      });\n      return this.changeTab(1);\n    }\n\n    // otherwise, lookup contact by first/last/email\n    const body = {\n      first_name: formValues.firstName,\n      last_name: formValues.lastName,\n      home_email: formValues.homeEmail\n    };\n    await this.props.apiSF.lookupSFContact(body).catch(err => {\n      console.log(err);\n      return handleError(err);\n    });\n    // console.log(result);\n\n    // if lookup was successful, update existing contact and move to next tab\n    if (this.props.submission.salesforceId) {\n      await this.updateSFContact().catch(err => {\n        console.log(err);\n        return handleError(err);\n      });\n      return this.changeTab(1);\n    }\n\n    // otherwise, create new contact with submission data,\n    // then move to next tab\n    await this.createSFContact().catch(err => {\n      console.log(err);\n      return handleError(err);\n    });\n    return this.changeTab(1);\n  }\n\n  handleTab(newValue) {\n    if (newValue === 1) {\n      return this.handleTab1().catch(err => {\n        // console.log(err);\n        return handleError(err);\n      });\n    }\n    if (newValue === 2) {\n      return this.handleTab2().catch(err => {\n        // console.log(err);\n        return handleError(err);\n      });\n    } else {\n      return this.changeTab(newValue);\n    }\n  }\n\n  // just navigate to tab, don't run validation on current tab\n  changeTab = newValue => {\n    const newState = { ...this.state };\n    newState.tab = newValue;\n\n    if (newValue === 2) {\n      const { formPage1 } = this.props.submission;\n\n      if (\n        formPage1.paymentType === \"Card\" &&\n        formPage1.newCardNeeded &&\n        formPage1.paymentRequired\n      ) {\n        // need to set spinner on transition to payment tab\n        // while iframe loads\n        this.props.actions.setSpinner();\n        return this.setState({ ...newState }, () => {\n          window.scrollTo({ top: 0, behavior: \"smooth\" });\n        });\n      }\n    }\n    this.setState({ ...newState }, () => {\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    });\n  };\n\n  render() {\n    const fullName = `${\n      this.props.submission &&\n      this.props.submission.formPage1 &&\n      this.props.submission.formPage1.firstName\n        ? this.props.submission.formPage1.firstName\n        : \"\"\n    } ${\n      this.props.submission &&\n      this.props.submission.formPage1 &&\n      this.props.submission.formPage1.lastName\n        ? this.props.submission.formPage1.lastName\n        : \"\"\n    }`;\n    return (\n      <div data-test=\"container-submission-form-page-1\">\n        <Modal\n          open={\n            this.state.open &&\n            fullName.length &&\n            !this.props.submission.redirect\n          }\n          handleClose={this.handleClose}\n          fullName={fullName}\n          history={this.props.history}\n        />\n        <SubmissionFormPage1Wrap\n          {...this.props}\n          tab={this.state.tab}\n          howManyTabs={this.state.howManyTabs}\n          handleTab={this.handleTab}\n          back={this.changeTab}\n          handleUpload={this.handleUpload}\n          signatureType={this.state.signatureType}\n          toggleSignatureInputType={this.toggleSignatureInputType}\n          clearSignature={this.clearSignature}\n          generateSubmissionBody={this.generateSubmissionBody}\n          handleError={handleError}\n          toggleCardAddingFrame={this.toggleCardAddingFrame}\n          handleCAPESubmit={this.handleCAPESubmit}\n          suggestedAmountOnChange={this.suggestedAmountOnChange}\n          verifyRecaptchaScore={this.verifyRecaptchaScore}\n          saveSubmissionErrors={this.saveSubmissionErrors}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  submission: state.submission,\n  appState: state.appState,\n  content: state.content,\n  initialValues: state.submission.formPage1,\n  formValues: getFormValues(\"submissionPage1\")(state) || {},\n  pristine: isPristine(\"submissionPage1\")(state),\n  submitting: isSubmitting(\"submissionPage1\")(state),\n  valid: isValid(\"submissionPage1\")(state),\n  submitErrors: getFormSubmitErrors(\"submissionPage1\")(state),\n  reset: reset\n});\n\nconst mapDispatchToProps = dispatch => ({\n  apiSubmission: bindActionCreators(apiSubmissionActions, dispatch),\n  apiContent: bindActionCreators(apiContentActions, dispatch),\n  apiSF: bindActionCreators(apiSFActions, dispatch),\n  actions: bindActionCreators(actions, dispatch),\n  submitForm: () => dispatch(submit(\"submissionPage1\"))\n});\n\nexport const SubmissionFormPage1Connected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SubmissionFormPage1Container);\n\nexport default withStyles(stylesPage1)(SubmissionFormPage1Connected);\n","import React from \"react\";\nimport { Field } from \"redux-form\";\nimport PropTypes from \"prop-types\";\nimport { reduxForm } from \"redux-form\";\nimport { Translate } from \"react-localize-redux\";\nimport queryString from \"query-string\";\n\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport CheckCircleOutline from \"@material-ui/icons/CheckCircleOutline\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport * as formElements from \"./SubmissionFormElements\";\nimport { openSnackbar } from \"../containers/Notifier\";\nimport ButtonWithSpinner from \"./ButtonWithSpinner\";\nimport { validate } from \"../utils/validators\";\n\n// helper functions these MAY NEED TO BE UPDATED with localization package\nconst stateList = formElements.stateList;\nconst genderOptions = formElements.genderOptions;\nconst genderPronounOptions = formElements.genderPronounOptions;\n\nexport class SubmissionFormPage2Component extends React.Component {\n  classes = this.props.classes;\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  // reusable MUI form components\n  renderTextField = formElements.renderTextField;\n  renderSelect = formElements.renderSelect;\n  renderCheckbox = formElements.renderCheckbox;\n\n  calcEthnicity = values => {\n    const {\n      africanOrAfricanAmerican,\n      arabAmericanMiddleEasternOrNorthAfrican,\n      asianOrAsianAmerican,\n      hispanicOrLatinx,\n      nativeAmericanOrIndigenous,\n      nativeHawaiianOrOtherPacificIslander,\n      white,\n      other,\n      declined\n    } = values;\n    if (declined) {\n      return \"declined\";\n    }\n    let combinedEthnicities = \"\";\n    const ethnicities = {\n      africanOrAfricanAmerican,\n      arabAmericanMiddleEasternOrNorthAfrican,\n      asianOrAsianAmerican,\n      hispanicOrLatinx,\n      nativeAmericanOrIndigenous,\n      nativeHawaiianOrOtherPacificIslander,\n      white,\n      other\n    };\n    const ethnicitiesArray = Object.entries(ethnicities);\n    ethnicitiesArray.forEach(i => {\n      if (i[1]) {\n        if (combinedEthnicities === \"\") {\n          combinedEthnicities = i[0];\n        } else {\n          combinedEthnicities += `, ${i[0]}`;\n        }\n      }\n    });\n    return combinedEthnicities;\n  };\n\n  removeFalsy = obj => {\n    let newObj = {};\n    Object.keys(obj).forEach(prop => {\n      if (obj[prop]) {\n        newObj[prop] = obj[prop];\n      }\n    });\n    return newObj;\n  };\n\n  handleSubmit = async values => {\n    const {\n      mailToCity,\n      mailToState,\n      mailToStreet,\n      mailToZip,\n      lgbtqId,\n      transId,\n      disabilityId,\n      deafOrHardOfHearing,\n      blindOrVisuallyImpaired,\n      gender,\n      genderOtherDescription,\n      genderPronoun,\n      jobTitle,\n      worksite,\n      workEmail,\n      workPhone,\n      hireDate\n    } = values;\n    const ethnicity = this.calcEthnicity(values);\n    const body = {\n      mail_to_city: mailToCity,\n      mail_to_state: mailToState,\n      mail_to_street: mailToStreet,\n      mail_to_postal_code: mailToZip,\n      ethnicity,\n      lgbtq_id: lgbtqId,\n      trans_id: transId,\n      disability_id: disabilityId,\n      deaf_or_hard_of_hearing: deafOrHardOfHearing,\n      blind_or_visually_impaired: blindOrVisuallyImpaired,\n      gender: gender,\n      gender_other_description: genderOtherDescription,\n      gender_pronoun: genderPronoun,\n      job_title: jobTitle,\n      hire_date: hireDate,\n      worksite: worksite,\n      work_email: workEmail,\n      work_phone: workPhone\n    };\n    const cleanBody = this.removeFalsy(body);\n    let salesforceId = this.props.submission.salesforceId;\n    if (!salesforceId) {\n      const params = queryString.parse(this.props.location.search);\n      if (params.id) {\n        salesforceId = params.id;\n      }\n    }\n    cleanBody.salesforce_id = salesforceId;\n    // console.log(\"CLEANBODY\", cleanBody);\n\n    let id = this.props.submission.submissionId;\n    try {\n      const result = await this.props.apiSubmission\n        .updateSubmission(id, cleanBody)\n        .catch(err => {\n          // console.log(err);\n          return formElements.handleError(err);\n        });\n      if (\n        result.type === \"UPDATE_SUBMISSION_FAILURE\" ||\n        this.props.submission.error\n      ) {\n        // console.log(this.props.submission.error);\n        return formElements.handleError(this.props.submission.error);\n      }\n      this.props.apiSF\n        .updateSFContact(salesforceId, cleanBody)\n        .then(result => {\n          if (\n            result.type !== \"UPDATE_SF_CONTACT_FAILURE\" &&\n            !this.props.submission.error\n          ) {\n            this.props.reset(\"submissionPage2\");\n            openSnackbar(\"success\", \"Your information was updated!\");\n            this.props.history.push(`/thankyou`);\n          } else {\n            // console.log(this.props.submission.error);\n            return formElements.handleError(this.props.submission.error);\n          }\n        })\n        .catch(err => {\n          // console.log(err);\n          return formElements.handleError(err);\n        });\n    } catch (err) {\n      // console.log(err);\n      return formElements.handleError(err);\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className={this.classes.formContainer}\n        data-test=\"component-submissionformpage2\"\n      >\n        <form\n          id=\"submissionFormPage2\"\n          onSubmit={this.props.handleSubmit(this.handleSubmit.bind(this))}\n          className={this.classes.form}\n        >\n          <div className={this.classes.successWrap}>\n            <div className={this.classes.checkIcon}>\n              <CheckCircleOutline\n                style={{ color: \"#66BB6A\", height: 100, width: 100 }}\n              />\n            </div>\n            <FormHelperText\n              className={this.classes.page2IntroText}\n              id=\"page2IntroText\"\n            >\n              <Translate id=\"introParagraph\" />\n            </FormHelperText>\n          </div>\n          <Divider style={{ margin: 20 }} />\n          <FormLabel className={this.classes.formLabel} component=\"legend\">\n            <Translate id=\"raceEthnicityHelperText\" />\n          </FormLabel>\n          <FormGroup className={this.classes.formGroup}>\n            <Field\n              label=\"African or African-American\"\n              name=\"africanOrAfricanAmerican\"\n              id=\"africanOrAfricanAmerican\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"Arab American, Middle Eastern, or North African\"\n              name=\"arabAmericanMiddleEasternOrNorthAfrican\"\n              id=\"arabAmericanMiddleEasternOrNorthAfrican\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"Asian or Asian American\"\n              name=\"asianOrAsianAmerican\"\n              id=\"asianOrAsianAmerican\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"Hispanic or Latinx\"\n              name=\"hispanicOrLatinx\"\n              id=\"hispanicOrLatinx\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"Native American or Indigenous\"\n              name=\"nativeAmericanOrIndigenous\"\n              id=\"nativeAmericanOrIndigenous\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"Native Hawaiian or Other Pacific Islander\"\n              name=\"nativeHawaiianOrOtherPacificIslander\"\n              id=\"nativeHawaiianOrOtherPacificIslander\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"White\"\n              name=\"white\"\n              id=\"white\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"Other\"\n              name=\"other\"\n              id=\"other\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"Declined\"\n              name=\"declined\"\n              id=\"declined\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n          </FormGroup>\n\n          <FormLabel className={this.classes.formLabel} component=\"legend\">\n            <Translate id=\"otherSocailIdentities\" />\n          </FormLabel>\n          <FormGroup className={this.classes.formGroup}>\n            <Field\n              label=\"I identify as LGBTQIA+\"\n              name=\"lgbtqId\"\n              id=\"lgbtqId\"\n              type=\"checkbox\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"I identify as transgender\"\n              name=\"transId\"\n              id=\"transId\"\n              type=\"checkbox\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"I identify as disabled or a person with a disability\"\n              name=\"disabilityId\"\n              id=\"disabilityId\"\n              type=\"checkbox\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"I identify as Deaf or hard-of-hearing\"\n              name=\"deafOrHardOfHearing\"\n              id=\"deafOrHardOfHearing\"\n              type=\"checkbox\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"I identify as Blind or visually impaired\"\n              name=\"blindOrVisuallyImpaired\"\n              id=\"blindOrVisuallyImpaired\"\n              type=\"checkbox\"\n              classes={this.classes}\n              component={this.renderCheckbox}\n              localize={this.props.localize}\n            />\n            <Field\n              label=\"Gender\"\n              name=\"gender\"\n              id=\"gender\"\n              type=\"select\"\n              classes={this.classes}\n              component={this.renderSelect}\n              labelWidth={50}\n              options={genderOptions}\n            />\n            {this.props.formValues.gender === \"other\" && (\n              <Field\n                label=\"If other, Please describe\"\n                name=\"genderOtherDescription\"\n                id=\"genderOtherDescription\"\n                type=\"text\"\n                classes={this.classes}\n                component={this.renderTextField}\n              />\n            )}\n            <Field\n              label=\"Your pronouns\"\n              name=\"genderPronoun\"\n              id=\"genderPronoun\"\n              type=\"select\"\n              classes={this.classes}\n              component={this.renderSelect}\n              labelWidth={97}\n              options={genderPronounOptions}\n            />\n          </FormGroup>\n\n          <FormLabel className={this.classes.formLabel} component=\"legend\">\n            <Translate id=\"employmentInfo\" />\n          </FormLabel>\n          <FormGroup className={this.classes.formGroup}>\n            <Field\n              label=\"Job Class/Title\"\n              name=\"jobTitle\"\n              id=\"jobTitle\"\n              type=\"text\"\n              classes={this.classes}\n              component={this.renderTextField}\n            />\n            <Field\n              label=\"Hire Date\"\n              name=\"hireDate\"\n              id=\"hireDate\"\n              type=\"text\"\n              classes={this.classes}\n              component={this.renderTextField}\n            />\n            <Field\n              label=\"Worksite\"\n              name=\"worksite\"\n              id=\"worksite\"\n              type=\"text\"\n              classes={this.classes}\n              component={this.renderTextField}\n            />\n            <Field\n              label=\"Work Email\"\n              name=\"workEmail\"\n              id=\"workEmail\"\n              type=\"email\"\n              classes={this.classes}\n              component={this.renderTextField}\n            />\n            <Field\n              label=\"Work Phone\"\n              name=\"workPhone\"\n              id=\"workPhone\"\n              type=\"tel\"\n              classes={this.classes}\n              component={this.renderTextField}\n            />\n          </FormGroup>\n\n          <FormLabel className={this.classes.formLabel} component=\"legend\">\n            <Translate id=\"mailToAddress\" />\n          </FormLabel>\n          <FormHelperText\n            className={this.classes.formHelperText}\n            id=\"mailingAddressDescription\"\n          >\n            <Translate id=\"fieldHintAddress\" />\n          </FormHelperText>\n          <FormGroup className={this.classes.formGroup}>\n            <Field\n              label=\"Mailing Street\"\n              name=\"mailToStreet\"\n              id=\"mailToStreet\"\n              type=\"text\"\n              classes={this.classes}\n              component={this.renderTextField}\n            />\n            <Field\n              label=\"Mailing City\"\n              name=\"mailToCity\"\n              id=\"mailToCity\"\n              type=\"text\"\n              classes={this.classes}\n              component={this.renderTextField}\n            />\n            <Field\n              label=\"Mailing State\"\n              name=\"mailToState\"\n              id=\"mailToState\"\n              type=\"select\"\n              classes={this.classes}\n              formControlName=\"formControlDate\"\n              component={this.renderSelect}\n              labelWidth={88}\n              options={stateList}\n            />\n            <Field\n              label=\"Mailing ZIP\"\n              name=\"mailToZip\"\n              id=\"mailToZip\"\n              type=\"text\"\n              classes={this.classes}\n              component={this.renderTextField}\n            />\n          </FormGroup>\n\n          <ButtonWithSpinner\n            type=\"submit\"\n            color=\"primary\"\n            className={this.classes.formButton}\n            variant=\"contained\"\n            loading={this.props.submission.loading}\n          >\n            <Translate id=\"submit\" />\n          </ButtonWithSpinner>\n        </form>\n      </div>\n    );\n  }\n}\n\nSubmissionFormPage2Component.propTypes = {\n  type: PropTypes.string,\n  appState: PropTypes.shape({\n    authToken: PropTypes.string\n  }),\n  submission: PropTypes.shape({\n    loading: PropTypes.bool,\n    error: PropTypes.string,\n    salesforceId: PropTypes.string\n  }).isRequired,\n  apiSF: PropTypes.shape({\n    updateSFContact: PropTypes.func\n  }).isRequired,\n  classes: PropTypes.object\n};\n\n// add reduxForm to component\nexport const SubmissionFormPage2Wrap = reduxForm({\n  form: \"submissionPage2\",\n  validate,\n  enableReinitialize: true\n})(SubmissionFormPage2Component);\n\nexport default SubmissionFormPage2Wrap;\n","import React from \"react\";\nimport { getFormValues } from \"redux-form\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport queryString from \"query-string\";\nimport { withLocalize } from \"react-localize-redux\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport SubmissionFormPage2Wrap from \"../components/SubmissionFormPage2Component\";\n\nimport * as apiSubmissionActions from \"../store/actions/apiSubmissionActions\";\nimport * as apiSFActions from \"../store/actions/apiSFActions\";\nimport { stylesPage2, handleError } from \"../components/SubmissionFormElements\";\n\nexport class SubmissionFormPage2Container extends React.Component {\n  classes = this.props.classes;\n\n  componentDidMount() {\n    // check state for contact id from page1\n    let id = this.props.submission.salesforceId;\n    if (!id) {\n      // check for contact id in query string\n      const params = queryString.parse(this.props.location.search);\n      if (params.id) {\n        id = params.id;\n      }\n    }\n\n    // if find contact id, call API to fetch contact info for prefill\n    if (id) {\n      this.props.apiSF\n        .getSFContactById(id)\n        .then(result => {\n          // console.log(\"result.payload\", result.payload);\n        })\n        .catch(err => {\n          // console.log(err);\n          handleError(err);\n        });\n    } else {\n      // console.log(\"no id found\");\n      return this.props.history.push(\"/\");\n    }\n  }\n  render() {\n    return (\n      <div data-test=\"container-submission-form-page-2\">\n        <SubmissionFormPage2Wrap {...this.props} />\n      </div>\n    );\n  }\n}\n\n// export const SubmissionFormPage2Wrap = reduxForm({\n//   form: \"submissionPage2\",\n//   validate,\n//   enableReinitialize: true\n// })(SubmissionFormPage2Component);\n\nconst mapStateToProps = state => ({\n  submission: state.submission,\n  appState: state.appState,\n  initialValues: state.submission.formPage2,\n  localize: state.localize,\n  formValues: getFormValues(\"submissionPage2\")(state) || {}\n});\n\nconst mapDispatchToProps = dispatch => ({\n  apiSubmission: bindActionCreators(apiSubmissionActions, dispatch),\n  apiSF: bindActionCreators(apiSFActions, dispatch)\n});\n\nexport const SubmissionFormPage2Connected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SubmissionFormPage2Container);\n\n// add MUI styles and faked lifecycle methods\nexport default withStyles(stylesPage2)(\n  withLocalize(SubmissionFormPage2Connected)\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nexport const styles = theme => ({\n  root: {\n    margin: 20,\n    padding: 20,\n    maxWidth: 1200\n  },\n  button: {\n    margin: 8,\n    flex: \"0 0 auto\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"absolute\",\n      right: 7,\n      top: 20,\n      flex: \"1 1 auto\"\n    }\n  },\n  deleteButton: {\n    position: \"absolute\",\n    top: 20,\n    right: 20,\n    visibility: \"hidden\",\n    zIndex: 2\n  },\n  contentBold: {\n    fontWeight: 700\n  },\n  contentLight: {\n    fontWeight: 100\n  },\n  contentRegular: {\n    fontWeight: 400\n  },\n  title: {\n    fontSize: 36,\n    fontWeight: 100,\n    marginTop: 20,\n    textTransform: \"capitalize\",\n    lineHeight: \"1em\"\n  },\n  body: {\n    fontSize: \"1.1em\",\n    fontWeight: 100,\n    marginTop: 10\n  },\n  spinner: {\n    position: \"absolute\",\n    left: \"calc(50% - 10px)\",\n    top: \"calc(50% - 10px)\"\n  },\n  tag: {\n    padding: \"3px 5px\",\n    margin: 5,\n    border: `1px solid ${theme.palette.primary.main}`,\n    textTransform: \"capitalize\",\n    fontWeight: 100\n  },\n  tagText: {\n    display: \"inline\",\n    color: theme.palette.secondary.main\n  },\n  tags: {\n    margin: \"20px -5px 10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  cardImage: {\n    backgroundPosition: \"center center\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"cover\",\n    filter: \"contrast(70%)\",\n    overflow: \"hidden\",\n    position: \"relative\",\n    transition: \"filter 0.5s cubic-bezier(0.43, 0.41, 0.22, 0.91)\",\n    margin: \"-20px -20px 20px -20px\",\n    \"&::before\": {\n      content: `\"\"`,\n      paddingTop: \"66.6%\",\n      display: \"block\",\n      [theme.breakpoints.down(\"md\")]: {\n        paddingTop: \"56.25%\"\n      }\n    },\n    \"&:hover\": {\n      filter: \"contrast(100%)\"\n    }\n  }\n});\n\nconst ContentTile = props => {\n  const { classes, contentTile } = props;\n  const { content, content_type } = contentTile;\n  const imageStyle = { backgroundImage: `url(${content})` };\n\n  return (\n    <div data-test=\"component-content-tile\">\n      {content_type === \"image\" && (\n        <div\n          className={classes.cardImage}\n          style={imageStyle}\n          data-test=\"image\"\n        />\n      )}\n      <div className={classes.cardContent} data-test=\"card-content\">\n        <Typography component=\"h2\" className={classes.title} data-test=\"title\">\n          {content_type}\n        </Typography>\n        {content_type !== \"image\" && (\n          <Typography component=\"p\" className={classes.body} data-test=\"body\">\n            {content}\n          </Typography>\n        )}\n      </div>\n    </div>\n  );\n};\n\nContentTile.propTypes = {\n  classes: PropTypes.object\n};\n\nexport default withStyles(styles)(ContentTile);\n","import React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst wrap = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  position: \"fixed\",\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n  zIndex: 3,\n  backgroundColor: \"rgba(0,0,0,.4)\"\n};\n\nconst spin = {\n  position: \"relative\",\n  top: \"44%\"\n};\n\nconst Spinner = props => (\n  <div style={wrap}>\n    <CircularProgress\n      style={spin}\n      color=\"primary\"\n      size={50}\n      data-test=\"component-spinner\"\n    />\n  </div>\n);\n\nexport default Spinner;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport FAB from \"@material-ui/core/Fab\";\nimport Create from \"@material-ui/icons/Create\";\nimport Delete from \"@material-ui/icons/Delete\";\n\nimport * as apiContentActions from \"../store/actions/apiContentActions\";\nimport * as utils from \"../utils\";\nimport ContentTile from \"../components/ContentTile\";\nimport Spinner from \"../components/Spinner\";\nimport AlertDialog from \"../components/AlertDialog\";\nimport { openSnackbar } from \"./Notifier\";\n\nconst styles = theme => ({\n  root: {\n    margin: \"0 auto\",\n    width: \"100%\",\n    maxWidth: 1920,\n    paddingBottom: 60,\n    background: \"white\",\n    minHeight: \"100vh\"\n  },\n  section: {\n    padding: \"60px 0 0 0\"\n  },\n  head: {\n    color: theme.palette.primary.main\n  },\n  buttonEdit: {\n    position: \"absolute\",\n    bottom: 20,\n    right: 20,\n    visibility: \"hidden\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.light\n    }\n  },\n  buttonDelete: {\n    position: \"absolute\",\n    bottom: 20,\n    right: 80,\n    visibility: \"hidden\",\n    backgroundColor: theme.palette.danger.main,\n    \"&:hover\": {\n      backgroundColor: theme.palette.danger.light\n    }\n  },\n  actionArea: {\n    borderRadius: 6,\n    zIndex: 1,\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(0,0,0,.05)\"\n    },\n    \"&:hover $buttonEdit\": {\n      visibility: \"visible\"\n    },\n    \"&:hover $buttonDelete\": {\n      visibility: \"visible\"\n    }\n  },\n  gridWrapper: {\n    margin: \"0 auto\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    padding: \"50px 0\",\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: \"10px 0px\"\n    }\n  },\n  card: {\n    width: \"31%\",\n    padding: 20,\n    margin: \"10px\",\n    position: \"relative\",\n    border: `1px solid ${theme.palette.primary.main}`,\n    [theme.breakpoints.down(\"md\")]: {\n      width: \"47%\"\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n      margin: \"10px 0px\"\n    }\n  }\n});\n\nexport class ContentLibraryUnconnected extends React.Component {\n  componentDidMount() {\n    const { authToken } = this.props.appState;\n    this.props.apiContent\n      .getAllContent(authToken)\n      .then(result => {\n        if (\n          result.type === \"GET_ALL_CONTENT_FAILURE\" ||\n          this.props.content.error\n        ) {\n          openSnackbar(\n            \"error\",\n            this.props.content.error ||\n              \"An error occured while fetching content\"\n          );\n        }\n      })\n      .catch(err => {\n        openSnackbar(\"error\", err);\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (\n      (!prevProps.appState.authToken && this.props.appState.authToken) ||\n      prevProps.content.allContent.length !==\n        this.props.content.allContent.length\n    ) {\n      this.props.apiContent\n        .getAllContent(this.props.appState.authToken)\n        .then(result => {\n          if (\n            result.type === \"GET_ALL_CONTENT_FAILURE\" ||\n            this.props.content.error\n          ) {\n            openSnackbar(\n              \"error\",\n              this.props.content.error ||\n                \"An error occured while fetching content\"\n            );\n          }\n        })\n        .catch(err => {\n          openSnackbar(\"error\", err);\n        });\n    }\n  }\n\n  handleDeleteDialogOpen = tile => {\n    if (tile && this.props.appState.loggedIn) {\n      this.props.apiContent.handleDeleteOpen(tile);\n    }\n  };\n\n  async deleteContent(contentData) {\n    const token = this.props.appState.authToken;\n    const contentDeleteResult = await this.props.apiContent.deleteContent(\n      token,\n      contentData.id\n    );\n    if (\n      !contentDeleteResult.type ||\n      contentDeleteResult.type !== \"DELETE_CONTENT_SUCCESS\"\n    ) {\n      openSnackbar(\"error\", this.props.content.error);\n    } else if (\n      contentDeleteResult.type === \"DELETE_CONTENT_SUCCESS\" &&\n      contentData.content_type === \"image\"\n    ) {\n      const keyParts = contentData.content.split(\"/\");\n      const key = keyParts[keyParts.length - 1];\n      const imageDeleteResult = await this.props.apiContent.deleteImage(\n        token,\n        key\n      );\n      if (imageDeleteResult.type === \"DELETE_IMAGE_SUCCESS\") {\n        openSnackbar(\"success\", `Deleted ${contentData.content_type}.`);\n        this.props.apiContent.getAllContent(token);\n      }\n    } else if (contentDeleteResult.type === \"DELETE_CONTENT_SUCCESS\") {\n      openSnackbar(\"success\", `Deleted ${contentData.content_type}.`);\n      this.props.apiContent.getAllContent(token);\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const contentType =\n      utils.labelsObj[this.props.content.currentContent.content_type];\n    return (\n      <div data-test=\"component-content-library\" className={classes.root}>\n        {this.props.appState.loading && <Spinner />}\n        {this.props.content.deleteDialogOpen && (\n          <AlertDialog\n            open={this.props.content.deleteDialogOpen}\n            handleClose={this.props.apiContent.handleDeleteClose}\n            title=\"Delete Content\"\n            content={`Are you sure you want to delete? Note that any live form versions that use this ${contentType} will render the default ${contentType} instead after this is deleted.`}\n            danger={true}\n            action={() => {\n              this.deleteContent(this.props.content.currentContent);\n              this.props.apiContent.handleDeleteClose();\n            }}\n            buttonText=\"Delete\"\n            data-test=\"alert-dialog\"\n          />\n        )}\n        <div className={classes.section}>\n          <Typography\n            variant=\"h2\"\n            align=\"center\"\n            gutterBottom\n            className={classes.head}\n            style={{ paddingTop: 20 }}\n            data-test=\"headline\"\n          >\n            Content Library\n          </Typography>\n          <div className={classes.gridWrapper}>\n            {this.props.content.allContent.map(tile => {\n              return (\n                <div className={classes.card} key={tile.id} data-test=\"tile\">\n                  <div className={classes.actionArea}>\n                    <FAB\n                      className={classes.buttonDelete}\n                      onClick={() => this.handleDeleteDialogOpen(tile)}\n                      color=\"primary\"\n                      aria-label=\"Delete Content\"\n                      data-test=\"delete\"\n                    >\n                      <Delete />\n                    </FAB>\n                    <FAB\n                      className={classes.buttonEdit}\n                      onClick={() =>\n                        this.props.history.push(`/edit/${tile.id}`)\n                      }\n                      color=\"primary\"\n                      aria-label=\"Edit Content\"\n                      data-test=\"edit\"\n                    >\n                      <Create />\n                    </FAB>\n                  </div>\n                  <ContentTile contentTile={tile} />\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nContentLibraryUnconnected.propTypes = {\n  classes: PropTypes.object.isRequired,\n  appState: PropTypes.shape({\n    loggedIn: PropTypes.bool,\n    authToken: PropTypes.string\n  }),\n  content: PropTypes.shape({\n    filteredList: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        content_type: PropTypes.string,\n        content: PropTypes.string,\n        updated_at: PropTypes.string\n      })\n    ),\n    allContent: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        content_type: PropTypes.string,\n        content: PropTypes.string,\n        updated_at: PropTypes.string\n      })\n    ),\n    currentContent: PropTypes.shape({\n      id: PropTypes.number,\n      content_type: PropTypes.string,\n      content: PropTypes.string,\n      updated_at: PropTypes.string\n    }),\n    deleteDialogOpen: PropTypes.bool,\n    apiContent: PropTypes.shape({\n      getAllContent: PropTypes.func,\n      handleDeleteOpen: PropTypes.func,\n      deleteContent: PropTypes.func,\n      deleteImage: PropTypes.func\n    })\n  })\n};\n\nconst mapStateToProps = state => ({\n  appState: state.appState,\n  profile: state.profile,\n  content: state.content\n});\n\nconst mapDispatchToProps = dispatch => ({\n  apiContent: bindActionCreators(apiContentActions, dispatch)\n});\n\nexport const ContentLibraryConnected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ContentLibraryUnconnected);\n\nexport default withRouter(withStyles(styles)(ContentLibraryConnected));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Translate } from \"react-localize-redux\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport * as apiSFActions from \"../store/actions/apiSFActions\";\nimport * as apiSubmissionActions from \"../store/actions/apiSubmissionActions\";\n\nimport { openSnackbar } from \"./Notifier\";\nimport ButtonWithSpinner from \"../components/ButtonWithSpinner\";\n\nconst styles = theme => ({\n  root: {},\n  container: {\n    padding: \"80px 0 140px 0\",\n    background: \"white\"\n  },\n  head: {\n    color: theme.palette.primary.light,\n    fontSize: \"2.5em\",\n    marginBottom: \"2em\"\n  },\n  form: {\n    maxWidth: 600,\n    margin: \"auto\"\n  },\n  group: {\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  input: {\n    width: \"100%\",\n    margin: \"0 0 20px 0\"\n  },\n  textarea: {\n    width: \"100%\",\n    margin: \"0 0 20px 0\"\n  },\n  formButton: {\n    width: \"100%\",\n    padding: 20\n  },\n  formControl: {\n    width: \"100%\"\n  },\n  radioLabel: {\n    width: \"100%\",\n    textAlign: \"center\"\n  }\n});\n\nexport class LinkRequestUnconnected extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      files: []\n    };\n    this.submit = this.submit.bind(this);\n  }\n\n  componentDidMount() {}\n\n  submit(e) {\n    e.preventDefault();\n    const { firstName, lastName, homeEmail } = this.props.submission.formPage1;\n    const body = {\n      first_name: firstName,\n      last_name: lastName,\n      home_email: homeEmail\n    };\n    return this.props.apiSF\n      .lookupSFContact(body)\n      .then(result => {\n        // console.log(result);\n        if (result.payload.salesforce_id) {\n          const id = this.props.submission.salesforceId;\n          this.props.history.push(`/?id=${id}`);\n        } else {\n          // console.log(result.payload);\n          openSnackbar(\n            \"error\",\n            result.payload.message ||\n              \"An error occurred while trying to fetch data from salesforce.\"\n          );\n        }\n      })\n      .catch(err => {\n        // console.log(err);\n        openSnackbar(\n          \"error\",\n          this.props.submission.error ||\n            \"An error occurred while trying to fetch data from salesforce.\"\n        );\n      });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.container} data-test=\"component-link-request\">\n        <Typography\n          variant=\"h2\"\n          align=\"center\"\n          gutterBottom\n          className={classes.head}\n          style={{ paddingTop: 20 }}\n        >\n          Request your customized membership form\n        </Typography>\n        <form\n          onSubmit={e => this.submit(e)}\n          className={classes.form}\n          onError={errors => console.log(errors)}\n          id=\"form\"\n        >\n          <Translate>\n            {({ translate }) => (\n              <TextField\n                data-test=\"firstName\"\n                name=\"firstName\"\n                id=\"firstName\"\n                label={translate(\"firstName\")}\n                type=\"text\"\n                variant=\"outlined\"\n                required\n                value={this.props.submission.formPage1.firstName}\n                onChange={e => this.props.apiSubmission.handleInput(e)}\n                className={classes.input}\n              />\n            )}\n          </Translate>\n          <Translate>\n            {({ translate }) => (\n              <TextField\n                data-test=\"lastName\"\n                name=\"lastName\"\n                id=\"lastName\"\n                label={translate(\"lastName\")}\n                type=\"text\"\n                variant=\"outlined\"\n                required\n                value={this.props.submission.formPage1.lastName}\n                onChange={e => this.props.apiSubmission.handleInput(e)}\n                className={classes.input}\n              />\n            )}\n          </Translate>\n          <Translate>\n            {({ translate }) => (\n              <TextField\n                data-test=\"homeEmail\"\n                name=\"homeEmail\"\n                id=\"homeEmail\"\n                label={translate(\"homeEmail\")}\n                type=\"text\"\n                variant=\"outlined\"\n                required\n                value={this.props.submission.formPage1.email}\n                onChange={e => this.props.apiSubmission.handleInput(e)}\n                className={classes.input}\n              />\n            )}\n          </Translate>\n          <ButtonWithSpinner\n            type=\"submit\"\n            color=\"secondary\"\n            className={classes.formButton}\n            variant=\"contained\"\n            loading={this.props.submission.loading}\n          >\n            <Translate id=\"buttonTextRequest\" />\n          </ButtonWithSpinner>\n        </form>\n      </div>\n    );\n  }\n}\n\nLinkRequestUnconnected.propTypes = {\n  submission: PropTypes.shape({\n    formPage1: PropTypes.shape({\n      firstName: PropTypes.string,\n      lastName: PropTypes.string,\n      email: PropTypes.string\n    }),\n    loading: PropTypes.bool\n  }).isRequired,\n  apiSubmission: PropTypes.shape({\n    handleInput: PropTypes.func,\n    clearForm: PropTypes.func\n  }),\n  classes: PropTypes.object,\n  apiSF: PropTypes.shape({\n    lookupSFContact: PropTypes.func\n  })\n};\n\nconst mapStateToProps = state => ({\n  submission: state.submission\n});\n\nconst mapDispatchToProps = dispatch => ({\n  apiSF: bindActionCreators(apiSFActions, dispatch),\n  apiSubmission: bindActionCreators(apiSubmissionActions, dispatch)\n});\n\nexport const LinkRequestConnected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LinkRequestUnconnected);\n\nexport default withStyles(styles)(LinkRequestConnected);\n","import employerPickList from \"./employerPickList.json\";\nimport legalLanguage from \"./legalLanguage.json\";\nimport linkDeliveryPage from \"./linkDeliveryPage.json\";\nimport linkRequestForm from \"./linkRequestForm.json\";\nimport page1 from \"./page1.json\";\nimport page2 from \"./page2.json\";\nimport prefillModal from \"./prefillModal.json\";\nimport welcomeInfo from \"./welcomeInfo.json\";\n\n// Import any new translation files above and add them to this object with spread operator.\n// This object is imported in App.js so that all components in app have access to all translations.\n// This way translation IDs can be referenced in components as `adultFosterCareType`\n// instead of `employerPickList.adultFosterCareType`.\nconst globalTranslations = {\n  ...employerPickList,\n  ...legalLanguage,\n  ...linkDeliveryPage,\n  ...linkRequestForm,\n  ...page1,\n  ...page2,\n  ...prefillModal,\n  ...welcomeInfo\n};\n\nexport default globalTranslations;\n","import React, { Component } from \"react\";\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport PropTypes from \"prop-types\";\nimport { withLocalize, setActiveLanguage } from \"react-localize-redux\";\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport { loadReCaptcha, ReCaptcha } from \"react-recaptcha-v3\";\n\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport * as Actions from \"./store/actions\";\nimport * as apiProfileActions from \"./store/actions/apiProfileActions\";\nimport * as apiSubmissionActions from \"./store/actions/apiSubmissionActions\";\nimport { detectDefaultLanguage } from \"./utils/index\";\n\nimport NavBar from \"./containers/NavBar\";\nimport Footer from \"./components/Footer\";\nimport FormThankYou from \"./components/FormThankYou\";\nimport NotFound from \"./components/NotFound\";\nimport Logout from \"./containers/Logout\";\nimport Dashboard from \"./containers/Dashboard\";\nimport TextInputForm from \"./containers/TextInputForm\";\nimport SubmissionFormPage1 from \"./containers/SubmissionFormPage1\";\nimport SubmissionFormPage2 from \"./containers/SubmissionFormPage2\";\nimport Notifier from \"./containers/Notifier\";\nimport ContentLibrary from \"./containers/ContentLibrary\";\nimport Spinner from \"./components/Spinner\";\nimport LinkRequest from \"./containers/LinkRequest\";\n\nimport SamplePhoto from \"./img/sample-form-photo.jpg\";\n\nimport globalTranslations from \"./translations/globalTranslations\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    boxSizing: \"border-box\"\n  },\n  notFound: {\n    height: \"80vh\",\n    width: \"auto\",\n    marginTop: \"-60px\"\n  },\n  container: {\n    maxWidth: 1200,\n    margin: \"auto\",\n    height: \"100%\",\n    minHeight: \"100vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  appRoot: {\n    width: \"100vw\",\n    height: \"100%\",\n    minHeight: \"80vh\",\n    backgroundImage: `url(\"${SamplePhoto}\")`,\n    backgroundAttachment: \"fixed\",\n    backgroundPosition: \"bottom\",\n    [theme.breakpoints.down(\"sm\")]: {\n      backgroundImage: \"none\"\n    },\n    [theme.breakpoints.up(\"xl\")]: {\n      backgroundSize: \"cover\"\n    }\n  },\n  message: {\n    margin: \"auto\",\n    width: \"50%\",\n    textAlign: \"center\",\n    height: \"50%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n      height: \"100%\"\n    },\n    lineHeight: \"2em\",\n    background: \"white\",\n    borderRadius: \"4px\",\n    padding: 60,\n    fontSize: \"1.2em\"\n  },\n  row: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    [theme.breakpoints.down(\"md\")]: {\n      flexWrap: \"wrap\"\n    }\n  },\n  button: {\n    height: 100,\n    margin: \"20px auto\",\n    width: 100\n  },\n  footer: {\n    width: \"100vw\",\n    margin: \"auto\",\n    position: \"fixed\",\n    backgroundColor: theme.palette.primary.main,\n    bottom: 0,\n    padding: 25,\n    height: 73,\n    [theme.breakpoints.down(\"sm\")]: {\n      height: 53\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"middle\",\n    boxShadow: \"0 1px 5px 2px rgba(0,0,0,.2)\",\n    zIndex: 2,\n    color: \"white\"\n  },\n  footerIcon: {\n    width: 30,\n    height: \"auto\",\n    marginTop: 15,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginTop: 5\n    },\n    fill: theme.palette.secondary.main\n  },\n  spinner: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    display: \"block\"\n  },\n  form: {\n    background: \"white\"\n  }\n});\n\nexport class AppUnconnected extends Component {\n  constructor(props) {\n    super(props);\n    this.recaptcha_ref = React.createRef();\n    this.main_ref = React.createRef();\n    this.legal_language = React.createRef();\n    this.cape_legal = React.createRef();\n    this.direct_pay = React.createRef();\n    this.direct_deposit = React.createRef();\n    this.sigBox = React.createRef();\n    this.props.initialize({\n      languages: [\n        { name: \"English\", code: \"en\" },\n        { name: \"Spanish\", code: \"es\" },\n        { name: \"Russian\", code: \"ru\" },\n        { name: \"Vietnamese\", code: \"vi\" },\n        { name: \"Chinese\", code: \"zh\" }\n      ],\n      options: {\n        renderToStaticMarkup,\n        renderInnerHtml: false,\n        defaultLanguage: \"en\"\n      }\n    });\n    this.state = {\n      deleteDialogOpen: false,\n      animation: false,\n      more: false\n    };\n    this.props.addTranslation(globalTranslations);\n    this.verifyCallback = this.verifyCallback.bind(this);\n    this.refreshRecaptcha = this.refreshRecaptcha.bind(this);\n  }\n\n  componentDidMount() {\n    // If not logged in, check local storage for authToken\n    // if it doesn't exist, it returns the string \"undefined\"\n    if (!this.props.appState.loggedIn) {\n      const authToken = window.localStorage.getItem(\"authToken\");\n      const userId = window.localStorage.getItem(\"userId\");\n      if (\n        authToken &&\n        authToken !== \"undefined\" &&\n        userId &&\n        userId !== \"undefined\"\n      ) {\n        this.props.apiProfile\n          .validateToken(authToken, userId)\n          .then(result => {\n            if (result.type === \"VALIDATE_TOKEN_FAILURE\") {\n              window.localStorage.clear();\n            }\n          })\n          .catch(err => console.log(err));\n      }\n    }\n    const defaultLanguage = detectDefaultLanguage();\n    this.props.setActiveLanguage(defaultLanguage);\n    loadReCaptcha(\"6LdzULcUAAAAAJ37JEr5WQDpAj6dCcPUn1bIXq2O\");\n  }\n\n  verifyCallback(recaptchaToken) {\n    // console.log(recaptchaToken, \"<= your recaptcha token\");\n    this.props.apiSubmission.handleInput({\n      target: { name: \"reCaptchaValue\", value: recaptchaToken }\n    });\n  }\n\n  async refreshRecaptcha() {\n    // console.log('refreshRecaptcha')\n    this.recaptcha_ref.current.execute();\n  }\n\n  // resubmit submission and deleteSubmission methods here, to be passed to submission table\n  // move prepForSubmission method up to App, possibly updateSubmission too?\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div data-test=\"component-app\" className={classes.appRoot}>\n        <ReCaptcha\n          ref={this.recaptcha_ref}\n          sitekey=\"6LdzULcUAAAAAJ37JEr5WQDpAj6dCcPUn1bIXq2O\"\n          action=\"homepage\"\n          verifyCallback={this.verifyCallback}\n        />\n        <CssBaseline />\n        <NavBar main_ref={this.main_ref} />\n        <Notifier />\n        {this.props.appState.loading && <Spinner />}\n        <main className={classes.container} id=\"main\" ref={this.main_ref}>\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={routeProps => (\n                <SubmissionFormPage1\n                  setRedirect={this.setRedirect}\n                  legal_language={this.legal_language}\n                  cape_legal={this.cape_legal}\n                  direct_pay={this.direct_pay}\n                  direct_deposit={this.direct_deposit}\n                  sigBox={this.sigBox}\n                  verifyCallback={this.verifyCallback}\n                  refreshRecaptcha={this.refreshRecaptcha}\n                  {...routeProps}\n                />\n              )}\n            />\n            <Route\n              exact\n              path=\"/thankyou\"\n              render={routeProps => (\n                <FormThankYou\n                  setRedirect={this.setRedirect}\n                  classes={this.props.classes}\n                  {...routeProps}\n                />\n              )}\n            />\n            <Route\n              path=\"/admin/:id?/:token?\"\n              render={routeProps => <Dashboard {...routeProps} />}\n            />\n            <Route\n              path=\"/library\"\n              render={routeProps => (\n                <ContentLibrary\n                  setRedirect={this.setRedirect}\n                  {...routeProps}\n                />\n              )}\n            />\n            <Route\n              path=\"/new\"\n              render={routeProps => (\n                <TextInputForm setRedirect={this.setRedirect} {...routeProps} />\n              )}\n            />\n            <Route\n              path=\"/edit/:id\"\n              render={routeProps => (\n                <TextInputForm\n                  edit={true}\n                  setRedirect={this.setRedirect}\n                  {...routeProps}\n                />\n              )}\n            />\n            <Route\n              path=\"/logout\"\n              render={routeProps => (\n                <Logout classes={this.props.classes} {...routeProps} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/page2\"\n              render={routeProps => (\n                <SubmissionFormPage2\n                  setRedirect={this.setRedirect}\n                  {...routeProps}\n                />\n              )}\n            />\n            <Route\n              exact\n              path=\"/linkrequest\"\n              render={routeProps => <LinkRequest {...routeProps} />}\n            />\n            <Route\n              path=\"*\"\n              render={routeProps => (\n                <NotFound classes={this.props.classes} {...routeProps} />\n              )}\n            />\n          </Switch>\n        </main>\n        <Footer classes={this.props.classes} />\n      </div>\n    );\n  }\n}\n\nAppUnconnected.propTypes = {\n  classes: PropTypes.object.isRequired,\n  appState: PropTypes.shape({\n    loggedIn: PropTypes.bool,\n    authToken: PropTypes.string\n  }).isRequired,\n  apiProfile: PropTypes.shape({\n    validateToken: PropTypes.func\n  }).isRequired,\n  apiSubmission: PropTypes.shape({\n    handleInput: PropTypes.func\n  }).isRequired,\n  content: PropTypes.shape({\n    form: PropTypes.shape({\n      content_type: PropTypes.string,\n      content: PropTypes.string\n    }),\n    error: PropTypes.string,\n    deleteDialogOpen: PropTypes.bool,\n    currentContent: PropTypes.shape({\n      content_type: PropTypes.string,\n      content: PropTypes.string\n    })\n  }).isRequired,\n  profile: PropTypes.shape({\n    profile: PropTypes.shape({\n      id: PropTypes.string,\n      name: PropTypes.string,\n      email: PropTypes.string,\n      avatar_url: PropTypes.string\n    })\n  }).isRequired\n};\n\nconst mapStateToProps = state => ({\n  appState: state.appState,\n  profile: state.profile,\n  content: state.content\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(Actions, dispatch),\n  apiSubmission: bindActionCreators(apiSubmissionActions, dispatch),\n  apiProfile: bindActionCreators(apiProfileActions, dispatch),\n  setActiveLanguage: bindActionCreators(setActiveLanguage, dispatch)\n});\n\nexport const AppConnected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AppUnconnected);\n\nexport default withStyles(styles)(withRouter(withLocalize(AppConnected)));\n","import update from \"immutability-helper\";\n\nimport {\n  LOGOUT,\n  SET_LOGGEDIN,\n  SET_REDIRECT_URL,\n  SET_SPINNER\n} from \"../actions\";\nimport {\n  VALIDATE_TOKEN_REQUEST,\n  VALIDATE_TOKEN_SUCCESS,\n  VALIDATE_TOKEN_FAILURE,\n  GET_PROFILE_REQUEST,\n  GET_PROFILE_SUCCESS,\n  GET_PROFILE_FAILURE\n} from \"../actions/apiProfileActions\";\nimport {\n  GET_CONTENT_BY_ID_REQUEST,\n  GET_CONTENT_BY_ID_SUCCESS,\n  GET_CONTENT_BY_ID_FAILURE,\n  ADD_CONTENT_REQUEST,\n  ADD_CONTENT_SUCCESS,\n  ADD_CONTENT_FAILURE,\n  UPDATE_CONTENT_REQUEST,\n  UPDATE_CONTENT_SUCCESS,\n  UPDATE_CONTENT_FAILURE,\n  UPLOAD_IMAGE_REQUEST,\n  UPLOAD_IMAGE_SUCCESS,\n  UPLOAD_IMAGE_FAILURE,\n  DELETE_IMAGE_REQUEST,\n  DELETE_IMAGE_SUCCESS,\n  DELETE_IMAGE_FAILURE,\n  DELETE_CONTENT_REQUEST,\n  DELETE_CONTENT_SUCCESS,\n  DELETE_CONTENT_FAILURE,\n  GET_ALL_CONTENT_REQUEST,\n  GET_ALL_CONTENT_SUCCESS,\n  GET_ALL_CONTENT_FAILURE\n} from \"../actions/apiContentActions\";\nimport {\n  ADD_SUBMISSION_REQUEST,\n  ADD_SUBMISSION_SUCCESS,\n  ADD_SUBMISSION_FAILURE,\n  UPDATE_SUBMISSION_REQUEST,\n  // UPDATE_SUBMISSION_SUCCESS,\n  UPDATE_SUBMISSION_FAILURE,\n  CREATE_CAPE_REQUEST,\n  CREATE_CAPE_SUCCESS,\n  CREATE_CAPE_FAILURE,\n  GET_ALL_SUBMISSIONS_REQUEST,\n  GET_ALL_SUBMISSIONS_SUCCESS,\n  GET_ALL_SUBMISSIONS_FAILURE,\n  VERIFY_REQUEST,\n  VERIFY_SUCCESS,\n  VERIFY_FAILURE\n} from \"../actions/apiSubmissionActions\";\nimport {\n  GET_SF_CONTACT_REQUEST,\n  GET_SF_CONTACT_SUCCESS,\n  GET_SF_CONTACT_FAILURE,\n  GET_SF_EMPLOYERS_REQUEST,\n  GET_SF_EMPLOYERS_SUCCESS,\n  GET_SF_EMPLOYERS_FAILURE,\n  LOOKUP_SF_CONTACT_REQUEST,\n  LOOKUP_SF_CONTACT_SUCCESS,\n  LOOKUP_SF_CONTACT_FAILURE,\n  GET_IFRAME_URL_REQUEST,\n  GET_IFRAME_URL_SUCCESS,\n  GET_IFRAME_URL_FAILURE,\n  GET_IFRAME_EXISTING_REQUEST,\n  GET_IFRAME_EXISTING_SUCCESS,\n  GET_IFRAME_EXISTING_FAILURE,\n  CREATE_SF_CONTACT_SUCCESS,\n  CREATE_SF_CONTACT_REQUEST,\n  CREATE_SF_CONTACT_FAILURE,\n  CREATE_SF_OMA_REQUEST,\n  CREATE_SF_OMA_SUCCESS,\n  CREATE_SF_OMA_FAILURE,\n  UPDATE_SF_CONTACT_SUCCESS,\n  UPDATE_SF_CONTACT_REQUEST,\n  UPDATE_SF_CONTACT_FAILURE,\n  GET_SF_DJR_REQUEST,\n  GET_SF_DJR_SUCCESS,\n  GET_SF_DJR_FAILURE,\n  CREATE_SF_DJR_REQUEST,\n  CREATE_SF_DJR_SUCCESS,\n  CREATE_SF_DJR_FAILURE,\n  UPDATE_SF_DJR_SUCCESS,\n  UPDATE_SF_DJR_REQUEST,\n  UPDATE_SF_DJR_FAILURE,\n  GET_UNIONISE_TOKEN_REQUEST,\n  GET_UNIONISE_TOKEN_SUCCESS,\n  GET_UNIONISE_TOKEN_FAILURE,\n  CREATE_SF_CAPE_REQUEST,\n  CREATE_SF_CAPE_SUCCESS,\n  CREATE_SF_CAPE_FAILURE\n} from \"../actions/apiSFActions\";\n\n// CREATE_CAPE_SUCCESS, UPDATE_SUBMISSION_SUCCESS\n// intentionally omitted because they are being called in a\n// long Promise.all chain\n\nexport const INITIAL_STATE = {\n  loggedIn: false,\n  authToken: \"\",\n  loading: false,\n  redirect: \"\"\n};\n\nfunction appState(state = INITIAL_STATE, action) {\n  // let error;\n  switch (action.type) {\n    case LOGOUT:\n      return INITIAL_STATE;\n\n    case SET_SPINNER: {\n      return update(state, {\n        loading: { $set: true }\n      });\n    }\n\n    case VALIDATE_TOKEN_SUCCESS:\n      return update(state, {\n        loggedIn: { $set: true },\n        authToken: { $set: action.payload.token },\n        loading: { $set: false }\n      });\n\n    case VALIDATE_TOKEN_FAILURE:\n      return update(state, {\n        loggedIn: { $set: false },\n        loading: { $set: false }\n      });\n\n    case SET_REDIRECT_URL:\n      return update(state, { redirect: { $set: action.payload } });\n\n    case SET_LOGGEDIN:\n      return update(state, { loggedIn: { $set: true } });\n\n    case GET_CONTENT_BY_ID_REQUEST:\n    case ADD_CONTENT_REQUEST:\n    case UPDATE_CONTENT_REQUEST:\n    case UPLOAD_IMAGE_REQUEST:\n    case DELETE_IMAGE_REQUEST:\n    case DELETE_CONTENT_REQUEST:\n    case GET_ALL_CONTENT_REQUEST:\n    case VALIDATE_TOKEN_REQUEST:\n    case GET_PROFILE_REQUEST:\n    case ADD_SUBMISSION_REQUEST:\n    case UPDATE_SUBMISSION_REQUEST:\n    case GET_SF_CONTACT_REQUEST:\n    case GET_SF_EMPLOYERS_REQUEST:\n    case LOOKUP_SF_CONTACT_REQUEST:\n    case GET_IFRAME_URL_REQUEST:\n    case CREATE_SF_CONTACT_REQUEST:\n    case CREATE_SF_OMA_REQUEST:\n    case UPDATE_SF_CONTACT_REQUEST:\n    case CREATE_SF_DJR_REQUEST:\n    case GET_SF_DJR_REQUEST:\n    case UPDATE_SF_DJR_REQUEST:\n    case GET_IFRAME_EXISTING_REQUEST:\n    case GET_UNIONISE_TOKEN_REQUEST:\n    case VERIFY_REQUEST:\n    case GET_ALL_SUBMISSIONS_REQUEST:\n    case CREATE_CAPE_REQUEST:\n    case CREATE_SF_CAPE_REQUEST:\n      return update(state, {\n        loading: { $set: true }\n      });\n\n    case GET_CONTENT_BY_ID_SUCCESS:\n    case GET_CONTENT_BY_ID_FAILURE:\n    case ADD_CONTENT_SUCCESS:\n    case ADD_CONTENT_FAILURE:\n    case UPDATE_CONTENT_SUCCESS:\n    case UPDATE_CONTENT_FAILURE:\n    case UPLOAD_IMAGE_SUCCESS:\n    case UPLOAD_IMAGE_FAILURE:\n    case DELETE_IMAGE_SUCCESS:\n    case DELETE_IMAGE_FAILURE:\n    case DELETE_CONTENT_SUCCESS:\n    case DELETE_CONTENT_FAILURE:\n    case GET_ALL_CONTENT_SUCCESS:\n    case GET_ALL_CONTENT_FAILURE:\n    case GET_PROFILE_SUCCESS:\n    case GET_PROFILE_FAILURE:\n    case ADD_SUBMISSION_SUCCESS:\n    case ADD_SUBMISSION_FAILURE:\n    case UPDATE_SUBMISSION_FAILURE:\n    case GET_SF_CONTACT_SUCCESS:\n    case GET_SF_CONTACT_FAILURE:\n    case GET_SF_EMPLOYERS_SUCCESS:\n    case GET_SF_EMPLOYERS_FAILURE:\n    case LOOKUP_SF_CONTACT_SUCCESS:\n    case LOOKUP_SF_CONTACT_FAILURE:\n    case GET_IFRAME_URL_SUCCESS:\n    case GET_IFRAME_URL_FAILURE:\n    case CREATE_SF_CONTACT_SUCCESS:\n    case CREATE_SF_CONTACT_FAILURE:\n    case CREATE_SF_OMA_SUCCESS:\n    case CREATE_SF_OMA_FAILURE:\n    case UPDATE_SF_CONTACT_SUCCESS:\n    case UPDATE_SF_CONTACT_FAILURE:\n    case GET_SF_DJR_FAILURE:\n    case CREATE_SF_DJR_FAILURE:\n    case UPDATE_SF_DJR_FAILURE:\n    case GET_SF_DJR_SUCCESS:\n    case CREATE_SF_DJR_SUCCESS:\n    case UPDATE_SF_DJR_SUCCESS:\n    case GET_IFRAME_EXISTING_SUCCESS:\n    case GET_IFRAME_EXISTING_FAILURE:\n    case GET_UNIONISE_TOKEN_SUCCESS:\n    case GET_UNIONISE_TOKEN_FAILURE:\n    case VERIFY_SUCCESS:\n    case VERIFY_FAILURE:\n    case GET_ALL_SUBMISSIONS_SUCCESS:\n    case GET_ALL_SUBMISSIONS_FAILURE:\n    case CREATE_CAPE_FAILURE:\n    case CREATE_CAPE_SUCCESS:\n    case CREATE_SF_CAPE_SUCCESS:\n    case CREATE_SF_CAPE_FAILURE:\n      return update(state, {\n        loading: { $set: false }\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default appState;\n","import update from \"immutability-helper\";\n\nimport { LOGOUT } from \"../actions\";\nimport {\n  GET_PROFILE_REQUEST,\n  GET_PROFILE_SUCCESS,\n  GET_PROFILE_FAILURE\n} from \"../actions/apiProfileActions\";\n\nexport const INITIAL_STATE = {\n  profile: {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    avatar_url: \"\"\n  },\n  error: null\n};\n\nfunction profile(state = INITIAL_STATE, action) {\n  let error;\n\n  switch (action.type) {\n    case LOGOUT:\n      return INITIAL_STATE;\n\n    case GET_PROFILE_REQUEST:\n      return update(state, {\n        error: { $set: null }\n      });\n\n    case GET_PROFILE_SUCCESS:\n      return update(state, {\n        profile: {\n          id: { $set: action.payload.id },\n          name: { $set: action.payload.name },\n          email: { $set: action.payload.email },\n          avatar_url: { $set: action.payload.avatar_url }\n        },\n        error: { $set: null }\n      });\n\n    case GET_PROFILE_FAILURE:\n      if (typeof action.payload.message === \"string\") {\n        error = action.payload.message;\n      } else {\n        error = \"Sorry, something went wrong :(\\nPlease try again.\";\n      }\n      return update(state, {\n        error: { $set: error }\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default profile;\n","import update from \"immutability-helper\";\n\nimport { LOGOUT } from \"../actions\";\nimport {\n  GET_CONTENT_BY_ID_REQUEST,\n  GET_CONTENT_BY_ID_SUCCESS,\n  GET_CONTENT_BY_ID_FAILURE,\n  ADD_CONTENT_REQUEST,\n  ADD_CONTENT_SUCCESS,\n  ADD_CONTENT_FAILURE,\n  UPDATE_CONTENT_REQUEST,\n  UPDATE_CONTENT_SUCCESS,\n  UPDATE_CONTENT_FAILURE,\n  UPLOAD_IMAGE_REQUEST,\n  UPLOAD_IMAGE_SUCCESS,\n  UPLOAD_IMAGE_FAILURE,\n  DELETE_IMAGE_REQUEST,\n  DELETE_IMAGE_SUCCESS,\n  DELETE_IMAGE_FAILURE,\n  DELETE_CONTENT_REQUEST,\n  DELETE_CONTENT_SUCCESS,\n  DELETE_CONTENT_FAILURE,\n  GET_ALL_CONTENT_REQUEST,\n  GET_ALL_CONTENT_SUCCESS,\n  GET_ALL_CONTENT_FAILURE,\n  HANDLE_INPUT,\n  HANDLE_DELETE_OPEN,\n  HANDLE_DELETE_CLOSE,\n  CLEAR_FORM\n} from \"../actions/apiContentActions\";\n\nexport const INITIAL_STATE = {\n  filteredList: [],\n  allContent: [],\n  deleteDialogOpen: false,\n  currentContent: {\n    content_type: null,\n    content: \"\",\n    created_at: \"\",\n    updated_at: \"\"\n  },\n  form: {\n    content_type: \"\",\n    content: \"\",\n    dialogOpen: false\n  },\n  error: null\n};\n\nfunction Content(state = INITIAL_STATE, action) {\n  let error;\n\n  switch (action.type) {\n    case LOGOUT:\n      return INITIAL_STATE;\n\n    case HANDLE_INPUT:\n      return update(state, {\n        form: {\n          [action.payload.name]: { $set: action.payload.value }\n        }\n      });\n\n    case HANDLE_DELETE_OPEN:\n      return update(state, {\n        deleteDialogOpen: { $set: true },\n        currentContent: { $set: { ...action.payload.selectedContent } }\n      });\n\n    case HANDLE_DELETE_CLOSE:\n    case DELETE_CONTENT_SUCCESS:\n      return update(state, {\n        deleteDialogOpen: { $set: false },\n        currentContent: {\n          id: { $set: \"\" },\n          content_type: { $set: \"\" },\n          content: { $set: \"\" },\n          created_at: { $set: \"\" },\n          updated_at: { $set: \"\" }\n        },\n        error: { $set: null }\n      });\n\n    case CLEAR_FORM:\n      return update(state, {\n        form: {\n          content_type: { $set: null },\n          content: { $set: \"\" },\n          created_at: { $set: \"\" },\n          updated_at: { $set: \"\" },\n          dialogOpen: { $set: false }\n        }\n      });\n\n    case GET_CONTENT_BY_ID_REQUEST:\n    case ADD_CONTENT_REQUEST:\n    case UPDATE_CONTENT_REQUEST:\n    case DELETE_CONTENT_REQUEST:\n    case UPLOAD_IMAGE_REQUEST:\n    case GET_ALL_CONTENT_REQUEST:\n    case DELETE_IMAGE_REQUEST:\n      return update(state, {\n        error: { $set: null }\n      });\n\n    case GET_CONTENT_BY_ID_SUCCESS:\n    case ADD_CONTENT_SUCCESS:\n    case UPDATE_CONTENT_SUCCESS:\n    case UPLOAD_IMAGE_SUCCESS:\n      return update(state, {\n        form: {\n          content_type: { $set: action.payload.content_type },\n          content: { $set: action.payload.content },\n          created_at: { $set: action.payload.created_at },\n          updated_at: { $set: action.payload.updated_at },\n          dialogOpen: { $set: false }\n        },\n        error: { $set: null }\n      });\n\n    case DELETE_IMAGE_SUCCESS:\n      return update(state, {\n        error: { $set: null }\n      });\n\n    case GET_ALL_CONTENT_SUCCESS:\n      return update(state, {\n        allContent: { $set: action.payload },\n        error: { $set: null }\n      });\n\n    case GET_CONTENT_BY_ID_FAILURE:\n    case ADD_CONTENT_FAILURE:\n    case UPDATE_CONTENT_FAILURE:\n    case DELETE_CONTENT_FAILURE:\n    case UPLOAD_IMAGE_FAILURE:\n    case GET_ALL_CONTENT_FAILURE:\n    case DELETE_IMAGE_FAILURE:\n      if (typeof action.payload.message === \"string\") {\n        error = action.payload.message;\n      } else {\n        error = \"Sorry, something went wrong :(\\nPlease try again.\";\n      }\n      return update(state, {\n        error: { $set: error }\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default Content;\n","import update from \"immutability-helper\";\nimport moment from \"moment\";\nimport * as formElements from \"../../components/SubmissionFormElements\";\nimport * as utils from \"../../utils\";\n\nimport {\n  ADD_SUBMISSION_REQUEST,\n  ADD_SUBMISSION_SUCCESS,\n  ADD_SUBMISSION_FAILURE,\n  UPDATE_SUBMISSION_REQUEST,\n  UPDATE_SUBMISSION_SUCCESS,\n  UPDATE_SUBMISSION_FAILURE,\n  GET_ALL_SUBMISSIONS_REQUEST,\n  GET_ALL_SUBMISSIONS_SUCCESS,\n  GET_ALL_SUBMISSIONS_FAILURE,\n  CREATE_CAPE_REQUEST,\n  CREATE_CAPE_SUCCESS,\n  CREATE_CAPE_FAILURE,\n  SAVE_SALESFORCEID,\n  HANDLE_INPUT\n} from \"../actions/apiSubmissionActions\";\n\nimport {\n  GET_SF_CONTACT_REQUEST,\n  GET_SF_CONTACT_SUCCESS,\n  GET_SF_CONTACT_FAILURE,\n  CREATE_SF_CONTACT_REQUEST,\n  CREATE_SF_CONTACT_SUCCESS,\n  CREATE_SF_CONTACT_FAILURE,\n  LOOKUP_SF_CONTACT_REQUEST,\n  LOOKUP_SF_CONTACT_SUCCESS,\n  LOOKUP_SF_CONTACT_FAILURE,\n  UPDATE_SF_CONTACT_SUCCESS,\n  UPDATE_SF_CONTACT_REQUEST,\n  UPDATE_SF_CONTACT_FAILURE,\n  CREATE_SF_OMA_REQUEST,\n  CREATE_SF_OMA_SUCCESS,\n  CREATE_SF_OMA_FAILURE,\n  GET_SF_DJR_REQUEST,\n  GET_SF_DJR_SUCCESS,\n  GET_SF_DJR_FAILURE,\n  CREATE_SF_DJR_REQUEST,\n  CREATE_SF_DJR_SUCCESS,\n  CREATE_SF_DJR_FAILURE,\n  UPDATE_SF_DJR_SUCCESS,\n  UPDATE_SF_DJR_REQUEST,\n  UPDATE_SF_DJR_FAILURE,\n  GET_SF_EMPLOYERS_REQUEST,\n  GET_SF_EMPLOYERS_SUCCESS,\n  GET_SF_EMPLOYERS_FAILURE,\n  GET_IFRAME_URL_REQUEST,\n  GET_IFRAME_URL_SUCCESS,\n  GET_IFRAME_URL_FAILURE,\n  GET_IFRAME_EXISTING_REQUEST,\n  GET_IFRAME_EXISTING_SUCCESS,\n  GET_IFRAME_EXISTING_FAILURE,\n  GET_UNIONISE_TOKEN_REQUEST,\n  GET_UNIONISE_TOKEN_SUCCESS,\n  GET_UNIONISE_TOKEN_FAILURE,\n  CREATE_SF_CAPE_REQUEST,\n  CREATE_SF_CAPE_SUCCESS,\n  CREATE_SF_CAPE_FAILURE\n} from \"../actions/apiSFActions\";\n\nexport const INITIAL_STATE = {\n  error: null,\n  salesforceId: null,\n  submissionId: null,\n  djrId: null,\n  formPage1: {\n    mm: \"\",\n    homeState: \"OR\",\n    preferredLanguage: \"English\",\n    employerType: \"\",\n    employerId: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    homeEmail: \"\",\n    legalLanguage: \"\",\n    paymentRequired: false,\n    paymentType: \"Card\",\n    paymentMethodAdded: false,\n    medicaidResidents: 0,\n    immediatePastMemberStatus: \"Not a Member\",\n    afhDuesRate: 0,\n    newCardNeeded: false,\n    whichCard: \"Use existing\",\n    capeAmount: \"\"\n  },\n  formPage2: {\n    gender: \"\"\n  },\n  employerNames: [\"\"],\n  employerObjects: [{ Name: \"\", Sub_Division__c: \"\" }],\n  redirect: false,\n  payment: {\n    cardAddingUrl: \"\",\n    memberShortId: \"\",\n    activeMethodLast4: \"\",\n    paymentErrorHold: false,\n    unioniseToken: \"\",\n    unioniseRefreshToken: \"\",\n    djrEmployerId: \"\"\n  },\n  allSubmissions: [],\n  currentSubmission: {},\n  cape: {\n    id: \"\"\n  },\n  currentCAPE: {},\n  allCAPE: []\n};\n\nfunction Submission(state = INITIAL_STATE, action) {\n  let error;\n\n  switch (action.type) {\n    case HANDLE_INPUT:\n      return update(state, {\n        formPage1: {\n          [action.payload.name]: { $set: action.payload.value }\n        }\n      });\n\n    case ADD_SUBMISSION_REQUEST:\n    case UPDATE_SUBMISSION_REQUEST:\n    case GET_SF_CONTACT_REQUEST:\n    case GET_SF_EMPLOYERS_REQUEST:\n    case LOOKUP_SF_CONTACT_REQUEST:\n    case GET_IFRAME_URL_REQUEST:\n    case CREATE_SF_CONTACT_REQUEST:\n    case CREATE_SF_OMA_REQUEST:\n    case UPDATE_SF_CONTACT_REQUEST:\n    case GET_SF_DJR_REQUEST:\n    case CREATE_SF_DJR_REQUEST:\n    case UPDATE_SF_DJR_REQUEST:\n    case CREATE_SF_OMA_SUCCESS:\n    case GET_UNIONISE_TOKEN_REQUEST:\n    case GET_IFRAME_EXISTING_REQUEST:\n    case GET_ALL_SUBMISSIONS_REQUEST:\n    case CREATE_CAPE_REQUEST:\n    case CREATE_SF_CAPE_REQUEST:\n    case CREATE_SF_CAPE_SUCCESS:\n      return update(state, {\n        error: { $set: null }\n      });\n\n    case CREATE_SF_DJR_SUCCESS:\n    case UPDATE_SF_DJR_SUCCESS:\n      return update(state, {\n        error: { $set: null },\n        djrId: { $set: action.payload.sf_djr_id }\n      });\n\n    case GET_SF_EMPLOYERS_SUCCESS:\n      const employerNames = action.payload\n        ? action.payload.map(employer => employer.Name)\n        : [\"\"];\n      return update(state, {\n        employerNames: { $set: employerNames },\n        employerObjects: { $set: action.payload }\n      });\n\n    case GET_SF_CONTACT_SUCCESS:\n      if (action.payload) {\n        const { employerTypeMap } = formElements;\n        // subDivision is stored in a different field depending on whether the\n        // attached account/employer type is \"Parent Employer\" or \"Agency\"\n        // and neither exist for Community Members bc it was created sloppily\n        // and is missing several fields...\n        let subDivision = \"\";\n        if (action.payload.Account.WS_Subdivision_from_Agency__c) {\n          subDivision = action.payload.Account.WS_Subdivision_from_Agency__c;\n        } else if (action.payload.Account.Sub_Division__c) {\n          subDivision = action.payload.Account.Sub_Division__c;\n        } else if (\n          !action.payload.Account.WS_Subdivision_from_Agency__c &&\n          !action.payload.Account.Sub_Division__c\n        ) {\n          subDivision = action.payload.Account.Name;\n        }\n        const employerType = employerTypeMap[subDivision];\n        // if employer attached to contact record is 'Employer' record type,\n        // use Account Name. if it's 'Worksite' record type, use Parent Name\n        let employerName = \"\";\n        if (action.payload.Account.RecordTypeId === \"01261000000ksTuAAI\") {\n          employerName = action.payload.Account.Name;\n        } else if (action.payload.Account.CVRSOS__ParentName__c) {\n          employerName = action.payload.Account.CVRSOS__ParentName__c;\n        }\n        // split ethinicity string, provide true value for each ethnicity returned\n        let ethnicities = [\"\"];\n        if (action.payload.Ethnicity__c) {\n          ethnicities = action.payload.Ethnicity__c.split(\", \");\n        }\n        const ethnicitiesObj = {};\n        ethnicities.map(item => {\n          if (item === \"Declined\") {\n            ethnicitiesObj.declined = true;\n          } else {\n            ethnicitiesObj[item] = true;\n          }\n          return null;\n        });\n        const paymentRequired = utils.isPaymentRequired(employerType);\n        return update(state, {\n          salesforceId: { $set: action.payload.Id },\n          formPage1: {\n            mm: { $set: moment(action.payload.Birthdate).format(\"MM\") },\n            dd: { $set: moment(action.payload.Birthdate).format(\"DD\") },\n            yyyy: { $set: moment(action.payload.Birthdate).format(\"YYYY\") },\n            mobilePhone: { $set: action.payload.MobilePhone },\n            employerName: { $set: employerName },\n            employerType: { $set: employerType },\n            firstName: { $set: action.payload.FirstName },\n            lastName: { $set: action.payload.LastName },\n            homeStreet: { $set: action.payload.MailingStreet },\n            homeCity: { $set: action.payload.MailingCity },\n            homeState: { $set: action.payload.MailingState },\n            homeZip: { $set: action.payload.MailingPostalCode },\n            homeEmail: { $set: action.payload.Home_Email__c },\n            preferredLanguage: { $set: action.payload.Preferred_Language__c },\n            termsAgree: { $set: false },\n            signature: { $set: null },\n            textAuthOptOut: { $set: false },\n            immediatePastMemberStatus: {\n              $set: action.payload.Binary_Membership__c\n            },\n            paymentRequired: { $set: paymentRequired }\n          },\n          formPage2: {\n            africanOrAfricanAmerican: {\n              $set: ethnicitiesObj.africanOrAfricanAmerican || false\n            },\n            arabAmericanMiddleEasternOrNorthAfrican: {\n              $set:\n                ethnicitiesObj.arabAmericanMiddleEasternOrNorthAfrican || false\n            },\n            asianOrAsianAmerican: {\n              $set: ethnicitiesObj.asianOrAsianAmerican || false\n            },\n            hispanicOrLatinx: {\n              $set: ethnicitiesObj.hispanicOrLatinx || false\n            },\n            nativeAmericanOrIndigenous: {\n              $set: ethnicitiesObj.nativeAmericanOrIndigenous || false\n            },\n            nativeHawaiianOrOtherPacificIslander: {\n              $set: ethnicitiesObj.nativeHawaiianOrOtherPacificIslander || false\n            },\n            white: { $set: ethnicitiesObj.white || false },\n            other: { $set: ethnicitiesObj.other || false },\n            declined: { $set: ethnicitiesObj.declined || false },\n            mailToCity: { $set: action.payload.OtherCity },\n            mailToState: { $set: action.payload.OtherState },\n            mailToStreet: { $set: action.payload.OtherStreet },\n            mailToZip: { $set: action.payload.OtherPostalCode },\n            lgbtqId: { $set: action.payload.LGBTQ_ID__c },\n            transId: { $set: action.payload.Trans_ID__c },\n            disabilityId: { $set: action.payload.Disability_ID__c },\n            deafOrHardOfHearing: {\n              $set: action.payload.Deaf_or_hearing_impaired__c\n            },\n            blindOrVisuallyImpaired: {\n              $set: action.payload.Blind_or_visually_impaired__c\n            },\n            gender: { $set: action.payload.Gender__c },\n            genderOtherDescription: {\n              $set: action.payload.Gender_Other_Description__c\n            },\n            genderPronoun: { $set: action.payload.Prounoun__c },\n            jobTitle: { $set: action.payload.Title },\n            worksite: {\n              $set: action.payload.Worksite_manual_entry_from_webform__c\n            },\n            workEmail: { $set: action.payload.Work_Email__c },\n            workPhone: { $set: action.payload.Work_Phone__c },\n            hireDate: { $set: action.payload.Hire_Date__c }\n          },\n          error: { $set: null }\n        });\n      } else {\n        return INITIAL_STATE;\n      }\n\n    case GET_SF_DJR_SUCCESS: {\n      return update(state, {\n        payment: {\n          activeMethodLast4: { $set: action.payload.Active_Account_Last_4__c },\n          paymentErrorHold: { $set: action.payload.Payment_Error_Hold__c },\n          memberShortId: { $set: action.payload.Unioni_se_MemberID__c },\n          djrEmployerId: { $set: action.payload.Employer__c }\n        },\n        djrId: { $set: action.payload.Id || action.payload.id }\n      });\n    }\n\n    case ADD_SUBMISSION_SUCCESS:\n      return update(state, {\n        salesforceId: { $set: action.payload.salesforce_id },\n        submissionId: { $set: action.payload.submission_id },\n        currentSubmission: { $set: action.payload.currentSubmission },\n        error: { $set: null }\n      });\n\n    case CREATE_CAPE_SUCCESS:\n      return update(state, {\n        cape: {\n          id: { $set: action.payload.cape_id }\n        },\n        currentCAPE: { $set: action.payload.currentCAPE },\n        error: { $set: null }\n      });\n\n    case UPDATE_SUBMISSION_SUCCESS:\n      return update(state, {\n        submissionId: { $set: action.payload.submission_id },\n        error: { $set: null }\n      });\n\n    case GET_ALL_SUBMISSIONS_SUCCESS:\n      return update(state, {\n        allSubmissions: { $set: action.payload },\n        error: { $set: null }\n      });\n\n    case LOOKUP_SF_CONTACT_SUCCESS:\n    case CREATE_SF_CONTACT_SUCCESS:\n    case UPDATE_SF_CONTACT_SUCCESS:\n      return update(state, {\n        salesforceId: { $set: action.payload.salesforce_id },\n        error: { $set: null },\n        redirect: { $set: true }\n      });\n\n    case GET_IFRAME_URL_SUCCESS:\n      return update(state, {\n        payment: {\n          cardAddingUrl: { $set: action.payload.cardAddingUrl },\n          memberShortId: { $set: action.payload.memberShortId }\n        }\n      });\n\n    case GET_IFRAME_EXISTING_SUCCESS:\n      return update(state, {\n        payment: {\n          cardAddingUrl: { $set: action.payload.cardAddingUrl }\n        }\n      });\n\n    case GET_UNIONISE_TOKEN_SUCCESS:\n      // console.log(action.payload);\n      return update(state, {\n        payment: {\n          unioniseToken: { $set: action.payload.access_token },\n          unioniseRefreshToken: { $set: action.payload.refresh_token }\n        }\n      });\n\n    case ADD_SUBMISSION_FAILURE:\n    case GET_SF_CONTACT_FAILURE:\n    case UPDATE_SUBMISSION_FAILURE:\n    case GET_SF_EMPLOYERS_FAILURE:\n    case LOOKUP_SF_CONTACT_FAILURE:\n    case GET_IFRAME_URL_FAILURE:\n    case CREATE_SF_CONTACT_FAILURE:\n    case CREATE_SF_OMA_FAILURE:\n    case UPDATE_SF_CONTACT_FAILURE:\n    case CREATE_SF_DJR_FAILURE:\n    case UPDATE_SF_DJR_FAILURE:\n    case GET_SF_DJR_FAILURE:\n    case GET_IFRAME_EXISTING_FAILURE:\n    case GET_UNIONISE_TOKEN_FAILURE:\n    case GET_ALL_SUBMISSIONS_FAILURE:\n    case CREATE_SF_CAPE_FAILURE:\n    case CREATE_CAPE_FAILURE:\n      if (typeof action.payload.message === \"string\") {\n        error = action.payload.message;\n      } else {\n        error = \"Sorry, something went wrong :(\\nPlease try again.\";\n      }\n      return update(state, {\n        error: { $set: error }\n      });\n\n    case SAVE_SALESFORCEID:\n      return update(state, {\n        salesforceId: { $set: action.payload.salesforceId }\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default Submission;\n","import { combineReducers } from \"redux\";\nimport { reducer as formReducer } from \"redux-form\";\nimport appState from \"../reducers/appState\";\nimport profile from \"../reducers/profile\";\nimport content from \"../reducers/content\";\nimport submission from \"../reducers/submission\";\nimport { localizeReducer } from \"react-localize-redux\";\n\nconst rootReducer = combineReducers({\n  appState,\n  profile,\n  content,\n  submission,\n  localize: localizeReducer,\n  form: formReducer\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport { apiMiddleware } from \"redux-api-middleware\";\nimport rootReducer from \"./reducers/\";\n\nconst middleware = applyMiddleware(apiMiddleware);\n\n// these two lines are for storeFactory in testUtils\nexport const middlewares = [apiMiddleware];\nexport const createStoreWithMiddleware = applyMiddleware(...middlewares)(\n  createStore\n);\n\nconst store = createStore(\n  rootReducer,\n  compose(\n    middleware,\n    window.__REDUX_DEVTOOLS_EXTENSION__\n      ? window.__REDUX_DEVTOOLS_EXTENSION__()\n      : f => f\n  )\n);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport red from \"@material-ui/core/colors/red\";\nimport green from \"@material-ui/core/colors/green\";\n\nexport const theme = {\n  palette: {\n    primary: {\n      main: \"#2c0940\", // dark purple\n      light: \"#531078\" // medium purple\n    },\n    secondary: {\n      main: \"#ffce04\", // yellow/gold\n      light: \"#ffffff\" //white\n    },\n    danger: {\n      main: red[900], // #b71c1c\n      light: red[700] // #d32f2f\n    },\n    success: {\n      main: green[600], // #43A047\n      light: green[400] // #66BB6A\n    },\n    textColor: \"#333\", // dark gray\n    secondaryTextColor: \"#531078\", // medium purple\n    bodyBackground: \"#fff\", // white\n    type: \"light\"\n  },\n  breakpoints: {\n    values: {\n      xs: 0,\n      sm: 450,\n      md: 600,\n      lg: 960,\n      xl: 1280\n    }\n  },\n  typography: {\n    useNextVariants: true,\n    fontFamily: [\n      '\"Source Sans Pro\"',\n      '\"Helvetica Neue\"',\n      \"Helvetica\",\n      \"Arial\",\n      \"sans-serif\"\n    ].join(\",\")\n  },\n  overrides: {\n    MuiMenu: {\n      paper: {\n        position: \"absolute\",\n        top: \"56px !important\",\n        right: \"0 !important\",\n        left: \"50% !important\",\n        borderRadius: \"0 !important\",\n        bottom: \"0 !important\",\n        maxHeight: \"calc(100vh - 109px) !important\",\n        filter: \"none !important\"\n      }\n    },\n    MuiButton: {\n      root: {\n        borderRadius: 0,\n        fontFamily: [\n          '\"Source Sans Pro\"',\n          '\"Helvetica Neue\"',\n          \"Helvetica\",\n          \"Arial\",\n          \"sans-serif\"\n        ].join(\",\"),\n        fontWeight: 400,\n        textDecoration: \"none\"\n      }\n    },\n    MuiFormLabel: {\n      root: {\n        \"&$focused\": {\n          \"&$focused\": {\n            color: \"secondary\"\n          }\n        }\n      }\n    },\n    \"MuiButton-outlinedSecondary\": {\n      border: 2\n    },\n    MuiTypography: {\n      root: {\n        fontFamily: [\n          '\"Source Sans Pro\"',\n          '\"Helvetica Neue\"',\n          \"Helvetica\",\n          \"Arial\",\n          \"sans-serif\"\n        ].join(\",\")\n      }\n    }\n  }\n};\nexport default createMuiTheme(theme);\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nexport class UnwrappedScrollToTop extends React.Component {\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.location !== prevProps.location &&\n      !this.props.location.hash\n    ) {\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default withRouter(UnwrappedScrollToTop);\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./styles/css/index.css\";\nimport App from \"./App\";\nimport store from \"./store/store\";\nimport { unregister } from \"./serviceWorker\";\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport theme from \"./styles/theme\";\nimport ScrollToTop from \"./components/ScrollToTop\";\nimport { LocalizeProvider } from \"react-localize-redux\";\n\nrender(\n  <Provider store={store}>\n    <BrowserRouter>\n      <ScrollToTop>\n        <MuiThemeProvider theme={theme}>\n          <LocalizeProvider store={store}>\n            <App />\n          </LocalizeProvider>\n        </MuiThemeProvider>\n      </ScrollToTop>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\nunregister();\n"],"sourceRoot":""}